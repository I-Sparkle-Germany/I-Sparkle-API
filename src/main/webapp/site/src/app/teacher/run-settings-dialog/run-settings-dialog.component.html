<h2 class="mat-dialog-title">Edit Run Settings</h2>
<mat-dialog-content class="mat-dialog-content--scroll" fxLayout="column">
  <p class="mat-subheading-2">
    {{ run.name }} <span class="mat-caption">(Run ID: {{ run.id }})</span>
  </p>
  <mat-divider></mat-divider>
  <h3>Periods</h3>
  <div class="periods-container">
    <span *ngFor="let period of run.periods" class="period-container">
      <span class="period-name">{{period}}</span>
      <button mat-flat-button color="accent"
              (click)="deletePeriod(period)">
        Delete
      </button>
    </span>
    <div class="error-message">{{deletePeriodMessage}}</div>
  </div>
  <div>
    <mat-form-field appearance="fill">
      <mat-label>New Period Name</mat-label>
      <input [(ngModel)]="newPeriodName"
             (keyup)="newPeriodNameKeyUp($event)"
             matInput
             id="newPeriod"
             name="newPeriod" />
    </mat-form-field>
    <button mat-flat-button color="primary"
            class="add-period-button"
            (click)="addPeriod()">
      Add Period
    </button>
    <span class="error-message">{{addPeriodMessage}}</span>
  </div>
  <mat-divider></mat-divider>
  <h3>Students Per Team</h3>
  <div>
    <div class="flex-div">
      <div>
        <mat-radio-group [(ngModel)]="maxStudentsPerTeam"
                         #rGroup
                         fxLayoutGap="16px">
          <mat-radio-button value="1" radioGroup="rGroup" (click)="changeMaxStudentsPerTeam(1)">
            Only 1 student
          </mat-radio-button>
          <mat-radio-button value="3" radioGroup="rGroup" (click)="changeMaxStudentsPerTeam(3)">
            1-3 students
          </mat-radio-button>
        </mat-radio-group>
      </div>
      <div>
        <span class="error-message">{{maxStudentsPerTeamMessage}}</span>
      </div>
    </div>
  </div>
  <mat-divider></mat-divider>
  <h3>Start Date</h3>
  <div class="flex-div">
    <div>
      <mat-form-field appearance="fill" fxFlexAlign="start">
        <mat-label>Start date</mat-label>
        <input [(ngModel)]="startDate"
               matInput
               [matDatepicker]="picker"
               (dateChange)="updateStartTime()"
               disabled>
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker [disabled]="false"></mat-datepicker>
        <mat-error>Start date is required</mat-error>
      </mat-form-field>
    </div>
    <div>
      <span class="error-message">{{startDateMessage}}</span>
    </div>
  </div>
</mat-dialog-content>
<mat-dialog-actions fxLayoutAlign="end">
  <button mat-flat-button color="primary" mat-dialog-close>
    Close
  </button>
</mat-dialog-actions>
