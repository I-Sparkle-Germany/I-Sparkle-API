{"version":3,"sources":["toolbar.es6"],"names":["ToolbarController","$rootScope","$on","event","params","globalMessage","time","isProgressIndicatorVisible","isJSONValid","onMenuToggle","$inject","Toolbar","bindings","numberProject","showStepTools","viewName","controller","template"],"mappings":"AAAA;;;;;;;;;;IAEMA,iB;AACJ,6BAAYC,UAAZ,EAAwB;AAAA;;AAAA;;AACtB,SAAKA,UAAL,GAAkBA,UAAlB;AACA,SAAKA,UAAL,CAAgBC,GAAhB,CAAoB,kBAApB,EAAwC,UAACC,KAAD,EAAQC,MAAR,EAAmB;AACzD,UAAIA,OAAOC,aAAP,CAAqBC,IAArB,KAA8B,IAAlC,EAAwC;AACtC,cAAKC,0BAAL,GAAkC,IAAlC;AACD,OAFD,MAEO;AACL,cAAKA,0BAAL,GAAkC,KAAlC;AACD;AACD,YAAKF,aAAL,GAAqBD,OAAOC,aAA5B;AACD,KAPD;AAQA,SAAKJ,UAAL,CAAgBC,GAAhB,CAAoB,gBAApB,EAAsC,UAACC,KAAD,EAAQC,MAAR,EAAmB;AACvD,YAAKI,WAAL,GAAmBJ,OAAOI,WAA1B;AACD,KAFD;AAGD;;;;iCAEY;AACX,WAAKC,YAAL;AACD;;;;;;AAGHT,kBAAkBU,OAAlB,GAA4B,CAC1B,YAD0B,CAA5B;;AAIA,IAAMC,UAAU;AACdC,YAAU;AACRC,mBAAe,GADP;AAERC,mBAAe,GAFP;AAGRC,cAAU,GAHF;AAIRN,kBAAc;AAJN,GADI;AAOdO,cAAYhB,iBAPE;AAQdiB;AARc,CAAhB;;kBA0CeN,O","file":"toolbar.js","sourcesContent":["\"use strict\";\n\nclass ToolbarController {\n  constructor($rootScope) {\n    this.$rootScope = $rootScope;\n    this.$rootScope.$on('setGlobalMessage', (event, params) => {\n      if (params.globalMessage.time === null) {\n        this.isProgressIndicatorVisible = true;\n      } else {\n        this.isProgressIndicatorVisible = false;\n      }\n      this.globalMessage = params.globalMessage;\n    });\n    this.$rootScope.$on('setIsJSONValid', (event, params) => {\n      this.isJSONValid = params.isJSONValid;\n    });\n  }\n\n  toggleMenu() {\n    this.onMenuToggle();\n  }\n}\n\nToolbarController.$inject = [\n  '$rootScope'\n];\n\nconst Toolbar = {\n  bindings: {\n    numberProject: '<',\n    showStepTools: '<',\n    viewName: '<',\n    onMenuToggle: '&'\n  },\n  controller: ToolbarController,\n  template:\n    `<md-toolbar class=\"md-whiteframe-z1 toolbar md-toolbar--wise\" md-theme=\"light\">\n      <div class=\"md-toolbar-tools toolbar__tools\">\n        <md-button aria-label=\"{{ 'authoringToolMenu' | translate}}\" class=\"md-icon-button\" ng-click=\"$ctrl.toggleMenu()\">\n          <md-icon> menu </md-icon>\n        </md-button>\n        <span class=\"toolbar__title\" ng-if=\"!$ctrl.showStepTools\">{{ $ctrl.viewName }}</span>\n        <step-tools ng-if=\"$ctrl.showStepTools\" show-position=\"$ctrl.numberProject\"></step-tools>\n        <div flex></div>\n        <span ng-if=\"$ctrl.isJSONValid === true\" style=\"color: green; font-size: 14px\">{{ 'jsonValid' | translate }}</span>\n        <span ng-if=\"$ctrl.isJSONValid === false\" style=\"color: red; font-size: 14px\">{{ 'jsonInvalid' | translate }}</span>\n        <div style=\"width: 40px; height: 40px;\">\n          <md-progress-circular ng-if=\"$ctrl.isProgressIndicatorVisible\"\n              md-mode=\"indeterminate\"\n              class=\"md-accent\"\n              style=\"margin: 8px;\"\n              md-diameter=\"24px\">\n          </md-progress-circular>\n        </div>\n        <span ng-if=\"$ctrl.globalMessage.text\"\n            class=\"component__actions__info md-caption global-message\"\n            style=\"margin-right: 20px;\">\n            {{$ctrl.globalMessage.text}}\n            <span class=\"component__actions__more\">\n              <md-tooltip md-direction=\"bottom\">\n                {{ $ctrl.globalMessage.time | amDateFormat:'ddd, MMM D YYYY, h:mm a' }}\n              </md-tooltip>\n              <span am-time-ago=\"$ctrl.globalMessage.time\"></span>\n            </span>\n        </span>\n      </div>\n    </md-toolbar>`\n};\n\nexport default Toolbar;\n"]}