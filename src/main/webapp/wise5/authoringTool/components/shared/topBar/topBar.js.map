{"version":3,"sources":["topBar.es6"],"names":["TopBarController","$rootScope","ConfigService","ProjectService","TeacherDataService","workgroupId","getWorkgroupId","parseInt","Math","random","avatarColor","getAvatarColorForWorkgroupId","userName","getMyUserName","themePath","getThemePath","$broadcast","$inject","TopBar","bindings","logoPath","projectId","projectTitle","runId","controller","template"],"mappings":"AAAA;;;;;;;;;;IAEMA,gB;AACF,8BAAYC,UAAZ,EACYC,aADZ,EAEYC,cAFZ,EAGYC,kBAHZ,EAGgC;AAAA;;AAC5B,aAAKH,UAAL,GAAkBA,UAAlB;AACA,aAAKC,aAAL,GAAqBA,aAArB;AACA,aAAKC,cAAL,GAAsBA,cAAtB;AACA,aAAKC,kBAAL,GAA0BA,kBAA1B;;AAEA;AACA,aAAKC,WAAL,GAAmB,KAAKH,aAAL,CAAmBI,cAAnB,EAAnB;;AAEA,YAAI,KAAKD,WAAL,IAAoB,IAAxB,EAA8B;AAC1B;;;;AAIA,iBAAKA,WAAL,GAAmBE,SAAS,MAAMC,KAAKC,MAAL,EAAf,CAAnB;AACH;;AAED;AACA,aAAKC,WAAL,GAAmB,KAAKR,aAAL,CAAmBS,4BAAnB,CAAgD,KAAKN,WAArD,CAAnB;;AAEA;AACA,aAAKO,QAAL,GAAgB,KAAKV,aAAL,CAAmBW,aAAnB,EAAhB;;AAEA,aAAKC,SAAL,GAAiB,KAAKX,cAAL,CAAoBY,YAApB,EAAjB;AACH;;AAED;;;;;;;iCAGS;AACL;AACA,iBAAKd,UAAL,CAAgBe,UAAhB,CAA2B,QAA3B;AACH;;;;;AAED;;;iCAGS;AACL;AACA,iBAAKf,UAAL,CAAgBe,UAAhB,CAA2B,QAA3B;AACH;;;;;;AAGLhB,iBAAiBiB,OAAjB,GAA2B,CACvB,YADuB,EAEvB,eAFuB,EAGvB,gBAHuB,EAIvB,oBAJuB,CAA3B;;AAOA,IAAMC,SAAS;AACXC,cAAU;AACNC,kBAAU,GADJ;AAENC,mBAAW,GAFL;AAGNC,sBAAc,GAHR;AAINC,eAAO;AAJD,KADC;AAOXC,gBAAYxB,gBAPD;AAQXyB;AARW,CAAf;;kBAkCeP,M","file":"topBar.js","sourcesContent":["\"use strict\";\n\nclass TopBarController {\n    constructor($rootScope,\n                ConfigService,\n                ProjectService,\n                TeacherDataService) {\n        this.$rootScope = $rootScope;\n        this.ConfigService = ConfigService;\n        this.ProjectService = ProjectService;\n        this.TeacherDataService = TeacherDataService;\n\n        // get the teacher workgroup id\n        this.workgroupId = this.ConfigService.getWorkgroupId();\n\n        if (this.workgroupId == null) {\n            /*\n             * the teacher doesn't have a workgroup id so we will use a random\n             * number\n             */\n            this.workgroupId = parseInt(100 * Math.random());\n        }\n\n        // get the avatar color for the teacher\n        this.avatarColor = this.ConfigService.getAvatarColorForWorkgroupId(this.workgroupId);\n\n        // get the teacher name and user name\n        this.userName = this.ConfigService.getMyUserName();\n\n        this.themePath = this.ProjectService.getThemePath();\n    }\n\n    /**\n     * Navigate the teacher to the teacher home page\n     */\n    goHome() {\n        // fire the goHome event\n        this.$rootScope.$broadcast('goHome');\n    };\n\n    /**\n     * Log the teacher out of WISE\n     */\n    logOut() {\n        // fire the logOut event\n        this.$rootScope.$broadcast('logOut');\n    };\n}\n\nTopBarController.$inject = [\n    '$rootScope',\n    'ConfigService',\n    'ProjectService',\n    'TeacherDataService'\n];\n\nconst TopBar = {\n    bindings: {\n        logoPath: '@',\n        projectId: '<',\n        projectTitle: '<',\n        runId: '<'\n    },\n    controller: TopBarController,\n    template:\n        `<md-toolbar class=\"l-header\">\n            <div class=\"md-toolbar-tools\">\n                <span class=\"md-button logo-link\">\n                    <img ng-src=\"{{ $ctrl.logoPath }}\" alt=\"{{ 'WISE_LOGO' | translate }}\" class=\"logo\" />\n                </span>\n                <h3>\n                    <span ng-if=\"$ctrl.projectTitle\">{{ $ctrl.projectTitle }}</span>\n                    <span ng-if=\"!$ctrl.projectTitle\">{{ 'authoringTool' | translate }}</span>\n                    <span class=\"md-caption\" ng-if=\"$ctrl.projectId\">\n                        ({{ 'PROJECT_ID_DISPLAY' | translate:{id: $ctrl.projectId} }}<span class=\"md-caption\" ng-if=\"$ctrl.runId\"> | {{ 'RUN_ID_DISPLAY' | translate:{id: $ctrl.runId} }}</span>)\n                    </span>\n                </h3>\n                <span flex></span>\n                <md-menu id='accountMenu' md-position-mode=\"target-right target\" md-offset=\"8 26\">\n                    <md-button aria-label=\"{{ 'USER_MENU' | translate }}\" class=\"md-icon-button\" ng-click=\"$mdMenu.open($event)\">\n                        <md-icon md-menu-origin> account_box </md-icon>\n                    </md-button>\n                    <md-menu-content width=\"5\" class=\"account-menu\">\n                        <ng-include src=\"$ctrl.themePath + '/templates/teacherAccountMenu.html'\"></ng-include>\n                    </md-menu-content>\n                </md-menu>\n            </div>\n        </md-toolbar>`\n};\n\nexport default TopBar;\n"]}