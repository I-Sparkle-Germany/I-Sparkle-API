{"version":3,"sources":["main.es6"],"names":["authoringModule","module","service","name","controller","config","$urlRouterProvider","$stateProvider","$translateProvider","$translatePartialLoaderProvider","$controllerProvider","$mdThemingProvider","otherwise","state","url","abstract","templateUrl","controllerAs","resolve","ConfigService","configURL","window","retrieveConfig","language","$translate","locale","getLocale","use","sessionTimers","SessionService","initializeSession","projectConfig","$stateParams","projectId","project","ProjectService","retrieveProject","projectAssets","ProjectAssetService","retrieveProjectAssets","webSocket","AuthorWebSocketService","initialize","load","addPart","useLoader","urlTemplate","fallbackLanguage","registerAvailableLanguageKeys","determinePreferredLanguage","useSanitizeValueStrategy","definePalette","undefined","theme","primaryPalette","accentPalette","warnPalette","lightMap","extendPalette","setDefaultTheme","enableBrowserColor","updateLocale","calendar","lastDay","sameDay","nextDay","lastWeek","nextWeek","sameElse"],"mappings":"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","file":"main.js","sourcesContent":["'use strict';\r\n\r\nimport '../themes/default/js/webfonts';\r\nimport 'jquery';\r\nimport angular from 'angular';\r\nimport angularDragula from 'angular-dragula';\r\nimport 'ng-file-upload';\r\nimport 'highcharts-ng';\r\nimport 'angular-ui-router';\r\nimport 'angular-material';\r\nimport 'angular-moment';\r\nimport 'angular-sanitize';\r\nimport 'lib/angular-toArrayFilter/toArrayFilter';\r\nimport 'angular-translate';\r\nimport 'angular-translate-loader-partial';\r\nimport 'angular-websocket';\r\nimport '../components/animation/animationComponentModule';\r\nimport AnnotationService from '../services/annotationService';\r\nimport '../components/audioOscillator/audioOscillatorComponentModule';\r\nimport './authoringToolComponents';\r\nimport AuthoringToolController from './authoringToolController';\r\nimport AuthoringToolMainController from './main/authoringToolMainController';\r\nimport AuthoringToolNewProjectController from './main/authoringToolNewProjectController';\r\nimport AuthorNotebookController from './notebook/authorNotebookController';\r\nimport AuthorWebSocketService from '../services/authorWebSocketService';\r\nimport '../components/conceptMap/conceptMapComponentModule';\r\nimport ConfigService from '../services/configService';\r\nimport CRaterService from '../services/cRaterService';\r\nimport '../directives/components';\r\nimport '../components/discussion/discussionComponentModule';\r\nimport '../components/draw/drawComponentModule';\r\nimport '../components/embedded/embeddedComponentModule';\r\nimport '../filters/filters';\r\nimport '../lib/highcharts@4.2.1';\r\nimport '../components/graph/graphComponentModule';\r\nimport '../components/html/htmlComponentModule';\r\nimport '../components/label/labelComponentModule';\r\nimport '../components/match/matchComponentModule';\r\nimport '../components/multipleChoice/multipleChoiceComponentModule';\r\nimport NodeAuthoringController from './node/nodeAuthoringController';\r\nimport NodeService from '../services/nodeService';\r\nimport '../directives/notebook/notebook';\r\nimport NotebookService from '../services/notebookService';\r\nimport NotificationService from '../services/notificationService';\r\nimport '../components/openResponse/openResponseComponentModule';\r\nimport '../components/outsideURL/outsideURLComponentModule';\r\nimport ProjectAssetController from './asset/projectAssetController';\r\nimport ProjectAssetService from '../services/projectAssetService';\r\nimport ProjectController from './project/projectController';\r\nimport ProjectHistoryController from './history/projectHistoryController';\r\nimport ProjectInfoController from './info/projectInfoController';\r\nimport ProjectService from '../services/projectService';\r\nimport SessionService from '../services/sessionService';\r\nimport StudentAssetService from '../services/studentAssetService';\r\nimport StudentDataService from '../services/studentDataService';\r\nimport StudentStatusService from '../services/studentStatusService';\r\nimport StudentWebSocketService from '../services/studentWebSocketService';\r\nimport '../components/table/tableComponentModule';\r\nimport TeacherDataService from '../services/teacherDataService';\r\nimport TeacherWebSocketService from '../services/teacherWebSocketService';\r\nimport UtilService from '../services/utilService';\r\nimport WISELinkAuthoringController from './wiseLink/wiseLinkAuthoringController';\r\n\r\nimport 'lib/angular-summernote/dist/angular-summernote.min';\r\nimport moment from 'moment';\r\n\r\nlet authoringModule = angular.module('authoring', [\r\n    angularDragula(angular),\r\n    'angularMoment',\r\n    'angular-toArrayFilter',\r\n    'animationComponentModule',\r\n    'audioOscillatorComponentModule',\r\n    'authoringTool.components',\r\n    'components',\r\n    'conceptMapComponentModule',\r\n    'discussionComponentModule',\r\n    'drawComponentModule',\r\n    'embeddedComponentModule',\r\n    'filters',\r\n    'graphComponentModule',\r\n    'highcharts-ng',\r\n    'htmlComponentModule',\r\n    'labelComponentModule',\r\n    'matchComponentModule',\r\n    'multipleChoiceComponentModule',\r\n    'ngAnimate',\r\n    'ngAria',\r\n    'ngFileUpload',\r\n    'ngMaterial',\r\n    'ngSanitize',\r\n    'ngWebSocket',\r\n    'notebook',\r\n    'openResponseComponentModule',\r\n    'outsideURLComponentModule',\r\n    'pascalprecht.translate',\r\n    'summernote',\r\n    'tableComponentModule',\r\n    'ui.router'\r\n    ])\r\n    .service(AnnotationService.name, AnnotationService)\r\n    .service(AuthorWebSocketService.name, AuthorWebSocketService)\r\n    .service(ConfigService.name, ConfigService)\r\n    .service(CRaterService.name, CRaterService)\r\n    .service(NodeService.name, NodeService)\r\n    .service(NotebookService.name, NotebookService)\r\n    .service(NotificationService.name, NotificationService)\r\n    .service(ProjectService.name, ProjectService)\r\n    .service(ProjectAssetService.name, ProjectAssetService)\r\n    .service(SessionService.name, SessionService)\r\n    .service(StudentAssetService.name, StudentAssetService)\r\n    .service(StudentDataService.name, StudentDataService)\r\n    .service(StudentStatusService.name, StudentStatusService)\r\n    .service(StudentWebSocketService.name, StudentWebSocketService)\r\n    .service(TeacherDataService.name, TeacherDataService)\r\n    .service(TeacherWebSocketService.name, TeacherWebSocketService)\r\n    .service(UtilService.name, UtilService)\r\n    .controller(AuthoringToolController.name, AuthoringToolController)\r\n    .controller(AuthoringToolMainController.name, AuthoringToolMainController)\r\n    .controller(AuthoringToolNewProjectController.name, AuthoringToolNewProjectController)\r\n    .controller(AuthorNotebookController.name, AuthorNotebookController)\r\n    .controller(NodeAuthoringController.name, NodeAuthoringController)\r\n    .controller(ProjectAssetController.name, ProjectAssetController)\r\n    .controller(ProjectController.name, ProjectController)\r\n    .controller(ProjectHistoryController.name, ProjectHistoryController)\r\n    .controller(ProjectInfoController.name, ProjectInfoController)\r\n    .controller(WISELinkAuthoringController.name, WISELinkAuthoringController)\r\n    .config([\r\n        '$urlRouterProvider',\r\n        '$stateProvider',\r\n        '$translateProvider',\r\n        '$translatePartialLoaderProvider',\r\n        '$controllerProvider',\r\n        '$mdThemingProvider',\r\n        ($urlRouterProvider,\r\n         $stateProvider,\r\n         $translateProvider,\r\n         $translatePartialLoaderProvider,\r\n         $controllerProvider,\r\n         $mdThemingProvider) => {\r\n\r\n            $urlRouterProvider.otherwise('/');\r\n\r\n            $stateProvider\r\n                .state('root', {\r\n                    url: '',\r\n                    abstract: true,\r\n                    templateUrl: 'wise5/authoringTool/authoringTool.html',\r\n                    controller: 'AuthoringToolController',\r\n                    controllerAs: 'authoringToolController',\r\n                    resolve: {\r\n                    }\r\n                })\r\n                .state('root.main', {\r\n                    url: '/',\r\n                    templateUrl: 'wise5/authoringTool/main/main.html',\r\n                    controller: 'AuthoringToolMainController',\r\n                    controllerAs: 'authoringToolMainController',\r\n                    resolve: {\r\n                        config: (ConfigService) => {\r\n                            var configURL = window.configURL;\r\n\r\n                            return ConfigService.retrieveConfig(configURL);\r\n                        },\r\n                        language: ($translate, ConfigService, config) => {\r\n                            let locale = ConfigService.getLocale();  // defaults to \"en\"\r\n                            $translate.use(locale);\r\n                        },\r\n                        sessionTimers: (SessionService, config) => {\r\n                            return SessionService.initializeSession();\r\n                        }\r\n                    }\r\n                })\r\n                .state('root.new', {\r\n                    url: '/new',\r\n                    templateUrl: 'wise5/authoringTool/main/new.html',\r\n                    controller: 'AuthoringToolNewProjectController',\r\n                    controllerAs: 'authoringToolNewProjectController',\r\n                    resolve: {\r\n                        config: (ConfigService) => {\r\n                            var configURL = window.configURL;\r\n\r\n                            return ConfigService.retrieveConfig(configURL);\r\n                        },\r\n                        language: ($translate, ConfigService, config) => {\r\n                            let locale = ConfigService.getLocale();  // defaults to \"en\"\r\n                            $translate.use(locale);\r\n                        },\r\n                        sessionTimers: (SessionService, config) => {\r\n                            return SessionService.initializeSession();\r\n                        }\r\n                    }\r\n                })\r\n                .state('root.project', {\r\n                    url: '/project/:projectId',\r\n                    templateUrl: 'wise5/authoringTool/project/project.html',\r\n                    controller: 'ProjectController',\r\n                    controllerAs: 'projectController',\r\n                    resolve: {\r\n                        projectConfig: (ConfigService, $stateParams) => {\r\n                            var configURL = window.configURL + '/' + $stateParams.projectId;\r\n\r\n                            return ConfigService.retrieveConfig(configURL);\r\n                        },\r\n                        project: (ProjectService, projectConfig) => {\r\n                            return ProjectService.retrieveProject();\r\n                        },\r\n                        projectAssets: (ProjectAssetService, projectConfig, project) => {\r\n                            return ProjectAssetService.retrieveProjectAssets();\r\n                        },\r\n                        language: ($translate, ConfigService, projectConfig) => {\r\n                            let locale = ConfigService.getLocale();  // defaults to \"en\"\r\n                            $translate.use(locale);\r\n                        },\r\n                        sessionTimers: (SessionService, projectConfig) => {\r\n                            return SessionService.initializeSession();\r\n                        },\r\n                        webSocket: (AuthorWebSocketService, projectConfig) => {\r\n                            return AuthorWebSocketService.initialize();\r\n                        }\r\n                    }\r\n                })\r\n                .state('root.project.node', {\r\n                    url: '/node/:nodeId',\r\n                    templateUrl: 'wise5/authoringTool/node/node.html',\r\n                    controller: 'NodeAuthoringController',\r\n                    controllerAs: 'nodeAuthoringController',\r\n                    resolve: {\r\n                        load: () => {\r\n\r\n                        }\r\n                    }\r\n                })\r\n                .state('root.project.asset', {\r\n                    url: '/asset',\r\n                    templateUrl: 'wise5/authoringTool/asset/asset.html',\r\n                    controller: 'ProjectAssetController',\r\n                    controllerAs: 'projectAssetController',\r\n                    resolve: {\r\n                    }\r\n                })\r\n                .state('root.project.info', {\r\n                    url: '/info',\r\n                    templateUrl: 'wise5/authoringTool/info/info.html',\r\n                    controller: 'ProjectInfoController',\r\n                    controllerAs: 'projectInfoController',\r\n                    resolve: {\r\n                    }\r\n                })\r\n                .state('root.project.history', {\r\n                    url: '/history',\r\n                    templateUrl: 'wise5/authoringTool/history/history.html',\r\n                    controller: 'ProjectHistoryController',\r\n                    controllerAs: 'projectHistoryController',\r\n                    resolve: {\r\n                    }\r\n                })\r\n                .state('root.project.notebook', {\r\n                    url: '/notebook',\r\n                    templateUrl: 'wise5/authoringTool/notebook/notebook.html',\r\n                    controller: 'AuthorNotebookController',\r\n                    controllerAs: 'authorNotebookController',\r\n                    resolve: {\r\n                    }\r\n                });\r\n\r\n            // Set up Translations\r\n            $translatePartialLoaderProvider.addPart('i18n');\r\n            $translatePartialLoaderProvider.addPart('authoringTool/i18n');\r\n            $translateProvider.useLoader('$translatePartialLoader', {\r\n                urlTemplate: 'wise5/{part}/i18n_{lang}.json'\r\n            })\r\n            .fallbackLanguage(['en'])\r\n            .registerAvailableLanguageKeys(['el','en','es','ja','ko','pt','tr','zh_CN','zh_TW'], {\r\n                'en_US': 'en',\r\n                'en_UK': 'en'\r\n            })\r\n            .determinePreferredLanguage()\r\n            .useSanitizeValueStrategy('sanitizeParameters', 'escape');\r\n\r\n            // ngMaterial default theme configuration\r\n            /*$mdThemingProvider.definePalette('primary', {\r\n                '50': 'e1f0f4',\r\n                '100': 'b8dbe4',\r\n                '200': '8ec6d4',\r\n                '300': '5faec2',\r\n                '400': '3d9db5',\r\n                '500': '1c8ca8',\r\n                '600': '197f98',\r\n                '700': '167188',\r\n                '800': '136377',\r\n                '900': '0e4957',\r\n                'A100': 'abf3ff',\r\n                'A200': '66e2ff',\r\n                'A400': '17bee5',\r\n                'A700': '00A1C6',\r\n                'contrastDefaultColor': 'light',    // whether, by default, text (contrast)\r\n                                                    // on this palette should be dark or light\r\n                'contrastDarkColors': ['50', '100', //hues which contrast should be 'dark' by default\r\n                    '200', '300', 'A100'],\r\n                'contrastLightColors': undefined    // could also specify this if default was 'dark'\r\n            });*/\r\n\r\n            $mdThemingProvider.definePalette('accent', {\r\n                '50': 'fde9e6',\r\n                '100': 'fbcbc4',\r\n                '200': 'f8aca1',\r\n                '300': 'f4897b',\r\n                '400': 'f2705f',\r\n                '500': 'f05843',\r\n                '600': 'da503c',\r\n                '700': 'c34736',\r\n                '800': 'aa3e2f',\r\n                '900': '7d2e23',\r\n                'A100': 'ff897d',\r\n                'A200': 'ff7061',\r\n                'A400': 'ff3829',\r\n                'A700': 'cc1705',\r\n                'contrastDefaultColor': 'light',\r\n                'contrastDarkColors': ['50', '100',\r\n                    '200', '300', 'A100'],\r\n                'contrastLightColors': undefined\r\n            });\r\n\r\n            $mdThemingProvider.theme('default')\r\n                .primaryPalette('deep-purple', {\r\n                    'default': '400'\r\n                })\r\n                .accentPalette('accent',  {\r\n                    'default': '500'\r\n                })\r\n                .warnPalette('red', {\r\n                    'default': '800'\r\n                });\r\n\r\n            var lightMap = $mdThemingProvider.extendPalette('grey', {\r\n                'A100': 'ffffff'\r\n            });\r\n            $mdThemingProvider.definePalette('light', lightMap);\r\n\r\n            $mdThemingProvider.theme('light')\r\n                .primaryPalette('light', {\r\n                    'default': 'A100'\r\n                })\r\n                .accentPalette('pink', {\r\n                    'default': '900'\r\n                });\r\n\r\n            $mdThemingProvider.setDefaultTheme('default');\r\n            $mdThemingProvider.enableBrowserColor();\r\n\r\n            // moment.js default overrides\r\n            // TODO: add i18n support\r\n            moment.updateLocale('en', {\r\n                calendar: {\r\n                    lastDay : '[Yesterday at] LT',\r\n                    sameDay : '[Today at] LT',\r\n                    nextDay : '[Tomorrow at] LT',\r\n                    lastWeek : '[last] dddd [at] LT',\r\n                    nextWeek : 'dddd [at] LT',\r\n                    sameElse : 'll'\r\n                }\r\n            });\r\n        }\r\n    ]);\r\n\r\nexport default authoringModule;\r\n"]}