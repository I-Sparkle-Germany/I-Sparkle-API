{"version":3,"sources":["authoringToolNewProjectController.es6"],"names":["AuthoringToolNewProjectController","$filter","$state","$timeout","ConfigService","ProjectService","$translate","project","getNewProjectTemplate","newProjectTitleInput","document","getElementById","focus","projectJSONString","angular","toJson","commitMessage","Date","getTime","registerNewProject","then","projectId","go","$inject"],"mappings":"AAAA;;;;;;;;;;IAEMA,iC;AAEF,+CAAYC,OAAZ,EACYC,MADZ,EAEYC,QAFZ,EAGYC,aAHZ,EAIYC,cAJZ,EAI4B;AAAA;;AAExB,aAAKJ,OAAL,GAAeA,OAAf;AACA,aAAKC,MAAL,GAAcA,MAAd;AACA,aAAKC,QAAL,GAAgBA,QAAhB;AACA,aAAKC,aAAL,GAAqBA,aAArB;AACA,aAAKC,cAAL,GAAsBA,cAAtB;;AAEA,aAAKC,UAAL,GAAkB,KAAKL,OAAL,CAAa,WAAb,CAAlB;;AAEA,aAAKM,OAAL,GAAe,KAAKF,cAAL,CAAoBG,qBAApB,EAAf;;AAEA;;;;AAIA,aAAKL,QAAL,CAAc,YAAM;AAChB,gBAAIM,uBAAuBC,SAASC,cAAT,CAAwB,iBAAxB,CAA3B;;AAEA,gBAAIF,wBAAwB,IAA5B,EAAkC;AAC9BA,qCAAqBG,KAArB;AACH;AACJ,SAND;AAOH;;;;6CAEoB;AAAA;;AACjB,gBAAIC,oBAAoBC,QAAQC,MAAR,CAAe,KAAKR,OAApB,EAA6B,CAA7B,CAAxB;AACA,gBAAIS,gBAAgB,KAAKV,UAAL,CAAgB,kBAAhB,IAAsC,IAAIW,IAAJ,GAAWC,OAAX,EAA1D;AACA,iBAAKb,cAAL,CAAoBc,kBAApB,CAAuCN,iBAAvC,EAA0DG,aAA1D,EAAyEI,IAAzE,CAA8E,UAACC,SAAD,EAAe;AACzF,sBAAKnB,MAAL,CAAYoB,EAAZ,CAAe,cAAf,EAA+B,EAACD,WAAWA,SAAZ,EAA/B;AACH,aAFD;AAGH;;;mDAE0B;AACvB,iBAAKnB,MAAL,CAAYoB,EAAZ,CAAe,WAAf;AACH;;;;;;AAGLtB,kCAAkCuB,OAAlC,GAA4C,CACxC,SADwC,EAExC,QAFwC,EAGxC,UAHwC,EAIxC,eAJwC,EAKxC,gBALwC,CAA5C;;kBAQevB,iC","file":"authoringToolNewProjectController.js","sourcesContent":["'use strict';\n\nclass AuthoringToolNewProjectController {\n\n    constructor($filter,\n                $state,\n                $timeout,\n                ConfigService,\n                ProjectService) {\n\n        this.$filter = $filter;\n        this.$state = $state;\n        this.$timeout = $timeout;\n        this.ConfigService = ConfigService;\n        this.ProjectService = ProjectService;\n\n        this.$translate = this.$filter('translate');\n\n        this.project = this.ProjectService.getNewProjectTemplate();\n\n        /*\n         * we are showing the create new project view so we will give focus to\n         * the newProjectTitle input element\n         */\n        this.$timeout(() => {\n            var newProjectTitleInput = document.getElementById('newProjectTitle');\n\n            if (newProjectTitleInput != null) {\n                newProjectTitleInput.focus();\n            }\n        });\n    }\n\n    registerNewProject() {\n        var projectJSONString = angular.toJson(this.project, 4);\n        var commitMessage = this.$translate('projectCreatedOn') + new Date().getTime();\n        this.ProjectService.registerNewProject(projectJSONString, commitMessage).then((projectId) => {\n            this.$state.go('root.project', {projectId: projectId});\n        });\n    }\n\n    cancelRegisterNewProject() {\n        this.$state.go('root.main');\n    }\n}\n\nAuthoringToolNewProjectController.$inject = [\n    '$filter',\n    '$state',\n    '$timeout',\n    'ConfigService',\n    'ProjectService'\n];\n\nexport default AuthoringToolNewProjectController;\n"]}