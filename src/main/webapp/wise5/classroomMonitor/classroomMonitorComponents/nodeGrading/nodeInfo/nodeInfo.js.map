{"version":3,"sources":["nodeInfo.es6"],"names":["NodeInfoController","ProjectService","$onInit","nodeContent","getNodeContent","components","getComponents","color","getNodeIconByNodeId","nodeId","result","node","getNodeById","c","length","component","isDisabled","lockAfterSubmit","hasWork","componentHasWork","$inject","NodeInfo","bindings","controller","template"],"mappings":"AAAA;;;;;;;;;;IAEMA,kB;AACF,gCAAYC,cAAZ,EAA4B;AAAA;;AAAA;;AACxB,aAAKA,cAAL,GAAsBA,cAAtB;;AAEA,aAAKC,OAAL,GAAe,YAAM;AACjB,kBAAKC,WAAL,GAAmB,MAAKC,cAAL,EAAnB;AACA,kBAAKC,UAAL,GAAkB,MAAKC,aAAL,EAAlB;;AAEA,kBAAKC,KAAL,GAAa,MAAKN,cAAL,CAAoBO,mBAApB,CAAwC,MAAKC,MAA7C,EAAqDF,KAAlE;AACH,SALD;AAMH;;;;yCAEgB;AACb,gBAAIG,SAAS,IAAb;;AAEA,gBAAIC,OAAO,KAAKV,cAAL,CAAoBW,WAApB,CAAgC,KAAKH,MAArC,CAAX;AACA,gBAAIE,QAAQ,IAAZ,EAAkB;AACd;AACAD,yBAASC,IAAT;AACH;;AAED,mBAAOD,MAAP;AACH;;AAED;;;;;;;wCAIgB;AACZ,gBAAIL,aAAa,IAAjB;;AAEA,gBAAI,KAAKF,WAAT,EAAsB;AAClBE,6BAAa,KAAKF,WAAL,CAAiBE,UAA9B;;AAEA,qBAAK,IAAIQ,IAAI,CAAb,EAAgBA,IAAIR,WAAWS,MAA/B,EAAuCD,GAAvC,EAA4C;AACxC,wBAAIE,YAAYV,WAAWQ,CAAX,CAAhB;;AAEA,wBAAI,KAAKG,UAAT,EAAqB;AACjBD,kCAAUC,UAAV,GAAuB,IAAvB;AACH;;AAED,wBAAI,KAAKb,WAAL,CAAiBc,eAArB,EAAsC;AAClCF,kCAAUE,eAAV,GAA4B,IAA5B;AACH;;AAEDF,8BAAUG,OAAV,GAAoB,KAAKjB,cAAL,CAAoBkB,gBAApB,CAAqCJ,SAArC,CAApB;AACH;AACJ;;AAED,mBAAOV,UAAP;AACH;;;;;;AAGLL,mBAAmBoB,OAAnB,GAA6B,CACzB,gBADyB,CAA7B;;AAIA,IAAMC,WAAW;AACbC,cAAU;AACNb,gBAAQ;AADF,KADG;AAIbc,gBAAYvB,kBAJC;AAKbwB;AALa,CAAjB;;kBAwDeH,Q","file":"nodeInfo.js","sourcesContent":["\"use strict\";\n\nclass NodeInfoController {\n    constructor(ProjectService) {\n        this.ProjectService = ProjectService;\n\n        this.$onInit = () => {\n            this.nodeContent = this.getNodeContent();\n            this.components = this.getComponents();\n\n            this.color = this.ProjectService.getNodeIconByNodeId(this.nodeId).color;\n        };\n    };\n\n    getNodeContent() {\n        let result = null;\n\n        let node = this.ProjectService.getNodeById(this.nodeId);\n        if (node != null) {\n            // field that will hold the node content\n            result = node;\n        }\n\n        return result;\n    }\n\n    /**\n     * Get the components for this node with student work.\n     * @return an array that contains the content for the components\n     */\n    getComponents() {\n        let components = null;\n\n        if (this.nodeContent) {\n            components = this.nodeContent.components;\n\n            for (let c = 0; c < components.length; c++) {\n                let component = components[c];\n\n                if (this.isDisabled) {\n                    component.isDisabled = true;\n                }\n\n                if (this.nodeContent.lockAfterSubmit) {\n                    component.lockAfterSubmit = true;\n                }\n\n                component.hasWork = this.ProjectService.componentHasWork(component);\n            }\n        }\n\n        return components;\n    }\n}\n\nNodeInfoController.$inject = [\n    'ProjectService'\n];\n\nconst NodeInfo = {\n    bindings: {\n        nodeId: '@',\n    },\n    controller: NodeInfoController,\n    template:\n        `<md-card class=\"node-info node-content\" style=\"border-color: {{ $ctrl.color }};\">\n            <md-card-content>\n                <div ng-if=\"$ctrl.nodeContent.rubric\">\n                    <md-card class=\"annotations annotations--node-info\">\n                        <md-card-title class=\"annotations__header gray-darker-bg\">\n                            <div class=\"annotations__avatar md-avatar avatar--icon md-36 avatar md-whiteframe-1dp\">\n                                <md-icon class=\"annotations__icon md-36\">check</md-icon>\n                            </div>\n                            <div class=\"annotations__title\" layout=\"row\" flex>\n                                <span>{{ 'teachingTips' | translate }}</span>\n                            </div>\n                        </md-card-title>\n                        <md-card-content class=\"annotations__body md-body-1\">\n                            <div ng-bind-html=\"$ctrl.nodeContent.rubric\"></div>\n                        </md-card-content>\n                    </md-card>\n                    <md-divider class=\"divider divider--dashed\"></md-divider>\n                </div>\n                <div id=\"{{component.id}}\"\n                     class=\"component-section\"\n                     ng-repeat='component in $ctrl.components'>\n                    <md-divider class=\"divider divider--dashed\" ng-if=\"!$first\"></md-divider>\n                    <component ng-if='component.showPreviousWorkNodeId != null && component.showPreviousWorkComponentId != null && component.showPreviousWorkNodeId != \"\" && component.showPreviousWorkComponentId != \"\"'\n                               node-id='{{component.showPreviousWorkNodeId}}'\n                               component-id='{{component.showPreviousWorkComponentId}}'\n                               original-node-id={{$ctrl.nodeId}}\n                               original-component-id={{component.id}}\n                               mode='student'></component>\n                    <component ng-if='component.showPreviousWorkNodeId == null || component.showPreviousWorkComponentId == null || component.showPreviousWorkNodeId == \"\" || component.showPreviousWorkComponentId == \"\"'\n                               node-id='{{$ctrl.nodeId}}'\n                               component-id='{{component.id}}'\n                               mode='student'></component>\n                    <md-card class=\"annotations annotations--node-info\" ng-if=\"component.rubric\">\n                       <md-card-title class=\"annotations__header gray-darker-bg\">\n                           <div class=\"annotations__avatar md-avatar avatar--icon md-36 avatar md-whiteframe-1dp\">\n                               <md-icon class=\"annotations__icon md-36\">check</md-icon>\n                           </div>\n                           <div class=\"annotations__title\" layout=\"row\" flex>\n                               <span>{{ 'itemInfo' | translate }}</span>\n                           </div>\n                       </md-card-title>\n                       <md-card-content class=\"annotations__body md-body-1\">\n                           <div ng-bind-html=\"component.rubric\"></div>\n                       </md-card-content>\n                    </md-card>\n                </div>\n            </md-card-content>\n        </md-card>`\n};\n\nexport default NodeInfo;\n"]}