{"version":3,"sources":["navItemScore.es6"],"names":["NavItemScoreController","$filter","showScore","averageScoreDisplay","$onChanges","changes","maxScore","averageScore","$inject","NavItemScore","bindings","template","controller"],"mappings":"AAAA;;;;;;;;IAEMA,sB,GACF,gCAAYC,OAAZ,EAAqB;AAAA;;AAAA;;AACjB,SAAKA,OAAL,GAAeA,OAAf;;AAEA,SAAKC,SAAL,GAAiB,KAAjB;AACA,SAAKC,mBAAL,GAA2B,EAA3B;;AAEA,SAAKC,UAAL,GAAkB,UAACC,OAAD,EAAa;AAC3B,YAAI,OAAO,MAAKC,QAAZ,KAAyB,QAAzB,IAAqC,OAAO,MAAKC,YAAZ,KAA6B,QAAtE,EAAgF;AAC5E;AACA,kBAAKL,SAAL,GAAiB,IAAjB;AACA,gBAAIK,eAAe,EAAnB;;AAEA,gBAAI,OAAO,MAAKD,QAAZ,KAAyB,QAA7B,EAAuC;AACnC;AACA,oBAAI,OAAO,MAAKC,YAAZ,KAA6B,QAAjC,EAA2C;AACvC;AACA,wBAAI,MAAKA,YAAL,IAAqB,CAAzB,EAA4B;AACxB,4BAAI,MAAKA,YAAL,GAAoB,CAApB,KAA0B,CAA9B,EAAiC;AAC7BA,2CAAe,MAAKN,OAAL,CAAa,QAAb,EAAuB,MAAKM,YAA5B,EAA0C,CAA1C,CAAf;AACH,yBAFD,MAEO;AACHA,2CAAe,MAAKA,YAApB;AACH;AACJ;AACJ,iBATD,MASO;AACHA,mCAAe,GAAf;AACH;AACD;AACA,sBAAKJ,mBAAL,GAA2BI,eAAe,GAAf,GAAqB,MAAKD,QAArD;AACH,aAhBD,MAgBO;AACH;AACA,oBAAI,MAAKC,YAAL,IAAqB,CAAzB,EAA4B;AACxB,wBAAI,MAAKA,YAAL,GAAoB,CAApB,KAA0B,CAA9B,EAAiC;AAC7BA,uCAAe,MAAKN,OAAL,CAAa,QAAb,EAAuB,MAAKM,YAA5B,EAA0C,CAA1C,CAAf;AACH,qBAFD,MAEO;AACHA,uCAAe,MAAKA,YAApB;AACH;AACJ;AACD;AACA,sBAAKJ,mBAAL,GAA2BI,eAAe,IAA1C;AACH;AACJ,SAjCD,MAiCO;AACH,kBAAKL,SAAL,GAAiB,KAAjB;AACH;AACJ,KArCD;AAsCH,C;;AAGLF,uBAAuBQ,OAAvB,GAAiC,CAC7B,SAD6B,CAAjC;;AAIA,IAAMC,eAAe;AACjBC,cAAU;AACNH,sBAAc,GADR;AAEND,kBAAU;AAFJ,KADO;AAKjBK,8MALiB;AAUjBC,gBAAYZ;AAVK,CAArB;;kBAaeS,Y","file":"navItemScore.js","sourcesContent":["\"use strict\";\r\n\r\nclass NavItemScoreController {\r\n    constructor($filter) {\r\n        this.$filter = $filter;\r\n\r\n        this.showScore = false;\r\n        this.averageScoreDisplay = '';\r\n\r\n        this.$onChanges = (changes) => {\r\n            if (typeof this.maxScore === 'number' || typeof this.averageScore === 'number') {\r\n                // there is either a max score or an average score\r\n                this.showScore = true;\r\n                let averageScore = '';\r\n\r\n                if (typeof this.maxScore === 'number') {\r\n                    // there is a max score\r\n                    if (typeof this.averageScore === 'number') {\r\n                        // there is an average score\r\n                        if (this.averageScore >= 0) {\r\n                            if (this.averageScore % 1 !== 0) {\r\n                                averageScore = this.$filter('number')(this.averageScore, 1);\r\n                            } else {\r\n                                averageScore = this.averageScore;\r\n                            }\r\n                        }\r\n                    } else {\r\n                        averageScore = \"-\";\r\n                    }\r\n                    // create the average score display e.g. 8/10\r\n                    this.averageScoreDisplay = averageScore + '/' + this.maxScore;\r\n                } else {\r\n                    // there is no max score\r\n                    if (this.averageScore >= 0) {\r\n                        if (this.averageScore % 1 !== 0) {\r\n                            averageScore = this.$filter('number')(this.averageScore, 1);\r\n                        } else {\r\n                            averageScore = this.averageScore;\r\n                        }\r\n                    }\r\n                    // create the average score display e.g. 8/0\r\n                    this.averageScoreDisplay = averageScore + '/0';\r\n                }\r\n            } else {\r\n                this.showScore = false;\r\n            }\r\n        }\r\n    };\r\n}\r\n\r\nNavItemScoreController.$inject = [\r\n    '$filter'\r\n];\r\n\r\nconst NavItemScore = {\r\n    bindings: {\r\n        averageScore: '<',\r\n        maxScore: '<'\r\n    },\r\n    template:\r\n        `<span ng-if=\"$ctrl.showScore\">\r\n            <md-icon class=\"score\"> grade </md-icon>\r\n            <span class=\"md-body-2 text-secondary\">{{$ctrl.averageScoreDisplay}}</span>\r\n        </span>`,\r\n    controller: NavItemScoreController\r\n};\r\n\r\nexport default NavItemScore;\r\n"]}