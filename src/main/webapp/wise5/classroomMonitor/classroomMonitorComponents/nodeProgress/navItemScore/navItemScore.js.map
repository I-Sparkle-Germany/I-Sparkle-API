{"version":3,"sources":["navItemScore.es6"],"names":["NavItemScoreController","$filter","showScore","averageScoreDisplay","$onChanges","changes","maxScore","averageScore","$inject","NavItemScore","bindings","template","controller"],"mappings":"AAAA;;;;;;;;IAEMA,sB,GACF,gCAAYC,OAAZ,EAAqB;AAAA;;AAAA;;AACjB,SAAKA,OAAL,GAAeA,OAAf;;AAEA,SAAKC,SAAL,GAAiB,KAAjB;AACA,SAAKC,mBAAL,GAA2B,EAA3B;;AAEA,SAAKC,UAAL,GAAkB,UAACC,OAAD,EAAa;AAC3B,YAAI,OAAO,MAAKC,QAAZ,KAAyB,QAAzB,IAAqC,OAAO,MAAKC,YAAZ,KAA6B,QAAtE,EAAgF;AAC5E;AACA,kBAAKL,SAAL,GAAiB,IAAjB;AACA,gBAAIK,eAAe,EAAnB;;AAEA,gBAAI,OAAO,MAAKD,QAAZ,KAAyB,QAA7B,EAAuC;AACnC;AACA,oBAAI,OAAO,MAAKC,YAAZ,KAA6B,QAAjC,EAA2C;AACvC;AACA,wBAAI,MAAKA,YAAL,IAAqB,CAAzB,EAA4B;AACxB,4BAAI,MAAKA,YAAL,GAAoB,CAApB,KAA0B,CAA9B,EAAiC;AAC7BA,2CAAe,MAAKN,OAAL,CAAa,QAAb,EAAuB,MAAKM,YAA5B,EAA0C,CAA1C,CAAf;AACH,yBAFD,MAEO;AACHA,2CAAe,MAAKA,YAApB;AACH;AACJ;AACJ,iBATD,MASO;AACHA,mCAAe,GAAf;AACH;AACD;AACA,sBAAKJ,mBAAL,GAA2BI,eAAe,GAAf,GAAqB,MAAKD,QAArD;AACH,aAhBD,MAgBO;AACH;AACA,oBAAI,MAAKC,YAAL,IAAqB,CAAzB,EAA4B;AACxB,wBAAI,MAAKA,YAAL,GAAoB,CAApB,KAA0B,CAA9B,EAAiC;AAC7BA,uCAAe,MAAKN,OAAL,CAAa,QAAb,EAAuB,MAAKM,YAA5B,EAA0C,CAA1C,CAAf;AACH,qBAFD,MAEO;AACHA,uCAAe,MAAKA,YAApB;AACH;AACJ;AACD;AACA,sBAAKJ,mBAAL,GAA2BI,eAAe,IAA1C;AACH;AACJ,SAjCD,MAiCO;AACH,kBAAKL,SAAL,GAAiB,KAAjB;AACH;AACJ,KArCD;AAsCH,C;;AAGLF,uBAAuBQ,OAAvB,GAAiC,CAC7B,SAD6B,CAAjC;;AAIA,IAAMC,eAAe;AACjBC,cAAU;AACNH,sBAAc,GADR;AAEND,kBAAU;AAFJ,KADO;AAKjBK,8MALiB;AAUjBC,gBAAYZ;AAVK,CAArB;;kBAaeS,Y","file":"navItemScore.js","sourcesContent":["\"use strict\";\n\nclass NavItemScoreController {\n    constructor($filter) {\n        this.$filter = $filter;\n\n        this.showScore = false;\n        this.averageScoreDisplay = '';\n\n        this.$onChanges = (changes) => {\n            if (typeof this.maxScore === 'number' || typeof this.averageScore === 'number') {\n                // there is either a max score or an average score\n                this.showScore = true;\n                let averageScore = '';\n\n                if (typeof this.maxScore === 'number') {\n                    // there is a max score\n                    if (typeof this.averageScore === 'number') {\n                        // there is an average score\n                        if (this.averageScore >= 0) {\n                            if (this.averageScore % 1 !== 0) {\n                                averageScore = this.$filter('number')(this.averageScore, 1);\n                            } else {\n                                averageScore = this.averageScore;\n                            }\n                        }\n                    } else {\n                        averageScore = \"-\";\n                    }\n                    // create the average score display e.g. 8/10\n                    this.averageScoreDisplay = averageScore + '/' + this.maxScore;\n                } else {\n                    // there is no max score\n                    if (this.averageScore >= 0) {\n                        if (this.averageScore % 1 !== 0) {\n                            averageScore = this.$filter('number')(this.averageScore, 1);\n                        } else {\n                            averageScore = this.averageScore;\n                        }\n                    }\n                    // create the average score display e.g. 8/0\n                    this.averageScoreDisplay = averageScore + '/0';\n                }\n            } else {\n                this.showScore = false;\n            }\n        }\n    };\n}\n\nNavItemScoreController.$inject = [\n    '$filter'\n];\n\nconst NavItemScore = {\n    bindings: {\n        averageScore: '<',\n        maxScore: '<'\n    },\n    template:\n        `<span ng-if=\"$ctrl.showScore\">\n            <md-icon class=\"score\"> grade </md-icon>\n            <span class=\"md-body-2 text-secondary\">{{$ctrl.averageScoreDisplay}}</span>\n        </span>`,\n    controller: NavItemScoreController\n};\n\nexport default NavItemScore;\n"]}