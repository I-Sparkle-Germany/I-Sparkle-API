{"version":3,"sources":["stepInfo.es6"],"names":["StepInfoController","$filter","ProjectService","$translate","$onInit","stepTitle","showPosition","nodeIdToNumber","nodeId","nodeTitle","icon","getNodeIconByNodeId","hasAlert","alertIconClass","hasNewAlert","alertIconName","alertIconLabel","hasRubrics","getNumberOfRubricsByNodeId","rubricIconLabel","rubricIconClass","rubricIconName","$inject","StepInfo","bindings","hasNewWork","controller","template"],"mappings":"AAAA;;;;;;;;IAEMA,kB,GACJ,4BAAYC,OAAZ,EACMC,cADN,EACsB;AAAA;;AAAA;;AACpB,OAAKD,OAAL,GAAeA,OAAf;AACA,OAAKC,cAAL,GAAsBA,cAAtB;;AAEA,OAAKC,UAAL,GAAkB,KAAKF,OAAL,CAAa,WAAb,CAAlB;;AAEA,OAAKG,OAAL,GAAe,YAAM;AACnB,UAAKC,SAAL,GAAiB,MAAKC,YAAL,GAAqB,MAAKJ,cAAL,CAAoBK,cAApB,CAAmC,MAAKC,MAAxC,IAAkD,IAAlD,GAAyD,MAAKC,SAAnF,GAAgG,MAAKA,SAAtH;AACA,UAAKC,IAAL,GAAY,MAAKR,cAAL,CAAoBS,mBAApB,CAAwC,MAAKH,MAA7C,CAAZ;AACA,QAAI,MAAKI,QAAT,EAAmB;AACjB,YAAKC,cAAL,GAAsB,MAAKC,WAAL,GAAmB,MAAnB,GAA4B,eAAlD;AACA,YAAKC,aAAL,GAAqB,eAArB;AACA,YAAKC,cAAL,GAAsB,MAAKF,WAAL,GAAmB,MAAKX,UAAL,CAAgB,gBAAhB,CAAnB,GAAuD,MAAKA,UAAL,CAAgB,sBAAhB,CAA7E;AACD;AACD,UAAKc,UAAL,GAAkB,MAAKf,cAAL,CAAoBgB,0BAApB,CAA+C,MAAKV,MAApD,IAA8D,CAAhF;AACA,UAAKW,eAAL,GAAuB,MAAKhB,UAAL,CAAgB,uBAAhB,CAAvB;AACA,UAAKiB,eAAL,GAAuB,MAAvB;AACA,UAAKC,cAAL,GAAsB,MAAtB;AACD,GAZD;AAaD,C;;AAGHrB,mBAAmBsB,OAAnB,GAA6B,CAC3B,SAD2B,EAE3B,gBAF2B,CAA7B;;AAKA,IAAMC,WAAW;AACfC,YAAU;AACRZ,cAAU,GADF;AAERE,iBAAa,GAFL;AAGRW,gBAAY,GAHJ;AAIRR,gBAAY,GAJJ;AAKRT,YAAQ,GALA;AAMRC,eAAW,GANH;AAORH,kBAAc;AAPN,GADK;AAUfoB,cAAY1B,kBAVG;AAWf2B;AAXe,CAAjB;;kBAiCeJ,Q","file":"stepInfo.js","sourcesContent":["\"use strict\";\r\n\r\nclass StepInfoController {\r\n  constructor($filter,\r\n        ProjectService) {\r\n    this.$filter = $filter;\r\n    this.ProjectService = ProjectService;\r\n\r\n    this.$translate = this.$filter('translate');\r\n\r\n    this.$onInit = () => {\r\n      this.stepTitle = this.showPosition ? (this.ProjectService.nodeIdToNumber[this.nodeId] + ': ' + this.nodeTitle) : this.nodeTitle;\r\n      this.icon = this.ProjectService.getNodeIconByNodeId(this.nodeId);\r\n      if (this.hasAlert) {\r\n        this.alertIconClass = this.hasNewAlert ? 'warn' : 'text-disabled';\r\n        this.alertIconName = 'notifications';\r\n        this.alertIconLabel = this.hasNewAlert ? this.$translate('HAS_ALERTS_NEW') : this.$translate('HAS_ALERTS_DISMISSED');\r\n      }\r\n      this.hasRubrics = this.ProjectService.getNumberOfRubricsByNodeId(this.nodeId) > 0;\r\n      this.rubricIconLabel = this.$translate('STEP_HAS_RUBRICS_TIPS');\r\n      this.rubricIconClass = 'info';\r\n      this.rubricIconName = 'info';\r\n    }\r\n  };\r\n}\r\n\r\nStepInfoController.$inject = [\r\n  '$filter',\r\n  'ProjectService'\r\n];\r\n\r\nconst StepInfo = {\r\n  bindings: {\r\n    hasAlert: '<',\r\n    hasNewAlert: '<',\r\n    hasNewWork: '<',\r\n    hasRubrics: '<',\r\n    nodeId: '<',\r\n    nodeTitle: '@',\r\n    showPosition: '<'\r\n  },\r\n  controller: StepInfoController,\r\n  template:\r\n  `<div layout=\"row\" layout-align=\"start center\">\r\n    <node-icon node-id=\"$ctrl.nodeId\" size=\"18\" hide-xs></node-icon>\r\n    <span hide-xs>&nbsp;&nbsp;</span>\r\n    <div class=\"heavy\">\r\n      {{ $ctrl.stepTitle }}\r\n      <status-icon ng-if=\"$ctrl.hasAlert\"\r\n                   icon-class=\"$ctrl.alertIconClass\"\r\n                   icon-name=\"$ctrl.alertIconName\"\r\n                   icon-label=\"$ctrl.alertIconLabel\"\r\n                   icon-tooltip=\"$ctrl.alertIconLabel\"></status-icon>\r\n      <status-icon ng-if=\"$ctrl.hasRubrics\"\r\n                   icon-class=\"$ctrl.rubricIconClass\"\r\n                   icon-name=\"$ctrl.rubricIconName\"\r\n                   icon-label=\"$ctrl.rubricIconLabel\"\r\n                   icon-tooltip=\"$ctrl.rubricIconLabel\"></status-icon>\r\n      <span ng-if=\"$ctrl.hasNewWork\" class=\"badge badge--info\r\n            animate-fade\">{{ 'NEW' | translate }}</span>\r\n    </div>\r\n  </div>`\r\n};\r\n\r\nexport default StepInfo;\r\n"]}