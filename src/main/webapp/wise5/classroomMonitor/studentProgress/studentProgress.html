<style type='text/css'>
    table {
        border-collapse: collapse;
        border: 1px solid black;
    }
    table td, table th {
        border: 1px solid black;
    }

    .online {
        background-color: lightgreen;
    }

    table tr {
        cursor: pointer;
    }

    .active {
        background-color: yellow;
    }
</style>

<div>

<div>
    <button ng-repeat='period in studentProgressController.periods'
            ng-click='studentProgressController.setCurrentPeriod(period)'
            ng-class="{'active': period.periodName == studentProgressController.getCurrentPeriod().periodName}">
        {{period.periodName}}
    </button>
</div>

<table>
    <tr>
        <th>Team</th>
        <th>Latest Step</th>
        <th>Time Spent</th>
        <th>Project Completion</th>
        <th>Score</th>
    </tr>
    <tr ng-class="{online: studentProgressController.isWorkgroupOnline(workgroup.workgroupId)}"
        ng-repeat="workgroup in studentProgressController.workgroups"
        ng-click="studentProgressController.studentRowClicked(workgroup)"
        ng-show="studentProgressController.getCurrentPeriod().periodName == 'All' || workgroup.periodId == studentProgressController.getCurrentPeriod().periodId">
        <td>{{workgroup.userName}} ({{workgroup.workgroupId}})</td>
        <td>{{studentProgressController.getCurrentNodeForWorkgroupId(workgroup.workgroupId)}}</td>
        <td align='right'><div ng-show='studentProgressController.isWorkgroupOnline(workgroup.workgroupId)'>{{studentProgressController.getStudentTimeSpent(workgroup.workgroupId)}}</div></td>
        <td align='right'><div ng-if='studentProgressController.getStudentProjectCompletion(workgroup.workgroupId)'>{{studentProgressController.getStudentProjectCompletion(workgroup.workgroupId)}}%</div></td>
        <td align='right'><div ng-show='studentProgressController.maxScore != null'>{{studentProgressController.getStudentTotalScore(workgroup.workgroupId)}}/{{studentProgressController.maxScore}}</div></td>
        <!--
        <td>{{studentProgressController.getStudentProjectCompletion(workgroup.workgroupId)}}</td>
        -->
    </tr>
</table>

<div>new work counter: {{studentProgressController.getNewNodeVisits().length}}</div>
</div>
