{"version":3,"sources":["discussionAuthoringController.es6"],"names":["DiscussionAuthoringController","$filter","$mdDialog","$q","$rootScope","$scope","AnnotationService","ConfigService","DiscussionService","NodeService","NotebookService","NotificationService","ProjectService","StudentAssetService","StudentDataService","StudentWebSocketService","UtilService","$mdMedia","allowedConnectedComponentTypes","type","connectedComponent","component","getComponentByNodeIdAndComponentId","nodeId","componentId","changeAllDiscussionConnectedComponentTypesToMatch","authoringViewComponentChanged","authoringComponentContent","connectedComponents","tempConnectedComponent","tempComponent","DiscussionController","$inject"],"mappings":"AAAA;;;;;;;;AAEA;;;;;;;;;;;;IAEMA,6B;;;AACJ,yCAAYC,OAAZ,EACYC,SADZ,EAEYC,EAFZ,EAGYC,UAHZ,EAIYC,MAJZ,EAKYC,iBALZ,EAMYC,aANZ,EAOYC,iBAPZ,EAQYC,WARZ,EASYC,eATZ,EAUYC,mBAVZ,EAWYC,cAXZ,EAYYC,mBAZZ,EAaYC,kBAbZ,EAcYC,uBAdZ,EAeYC,WAfZ,EAgBYC,QAhBZ,EAgBsB;AAAA;;AAAA,8JACdhB,OADc,EAElBC,SAFkB,EAGlBC,EAHkB,EAIlBC,UAJkB,EAKlBC,MALkB,EAMlBC,iBANkB,EAOlBC,aAPkB,EAQlBC,iBARkB,EASlBC,WATkB,EAUlBC,eAVkB,EAWlBC,mBAXkB,EAYlBC,cAZkB,EAalBC,mBAbkB,EAclBC,kBAdkB,EAelBC,uBAfkB,EAgBlBC,WAhBkB,EAiBlBC,QAjBkB;;AAkBpB,UAAKC,8BAAL,GAAsC,CACpC,EAAEC,MAAM,YAAR,EADoC,CAAtC;AAlBoB;AAqBrB;;;;2DAEsCC,kB,EAAoB;AACzD,UAAMC,YAAY,KAAKT,cAAL,CAAoBU,kCAApB,CAChBF,mBAAmBG,MADH,EACWH,mBAAmBI,WAD9B,CAAlB;AAEA,UAAIH,UAAUF,IAAV,KAAmB,YAAvB,EAAqC;AACnC,aAAKM,iDAAL,CAAuDL,kBAAvD;AACD;AACD,WAAKM,6BAAL;AACD;;;sEAEiDN,kB,EAAoB;AAAA;AAAA;AAAA;;AAAA;AACpE,6BAAqC,KAAKO,yBAAL,CAA+BC,mBAApE,8HAAyF;AAAA,cAA9EC,sBAA8E;;AACvF,cAAMC,gBAAgB,KAAKlB,cAAL,CAAoBU,kCAApB,CACpBO,uBAAuBN,MADH,EACWM,uBAAuBL,WADlC,CAAtB;AAEA,cAAIM,cAAcX,IAAd,KAAuB,YAA3B,EAAyC;AACvCU,mCAAuBV,IAAvB,GAA8BC,mBAAmBD,IAAjD;AACD;AACF;AAPmE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQrE;;;;EAzDyCY,8B;;AA4D5C/B,8BAA8BgC,OAA9B,GAAwC,CACtC,SADsC,EAEtC,WAFsC,EAGtC,IAHsC,EAItC,YAJsC,EAKtC,QALsC,EAMtC,mBANsC,EAOtC,eAPsC,EAQtC,mBARsC,EAStC,aATsC,EAUtC,iBAVsC,EAWtC,qBAXsC,EAYtC,gBAZsC,EAatC,qBAbsC,EActC,oBAdsC,EAetC,yBAfsC,EAgBtC,aAhBsC,EAiBtC,UAjBsC,CAAxC;;kBAoBehC,6B","file":"discussionAuthoringController.js","sourcesContent":["'use strict';\n\nimport DiscussionController from \"./discussionController\";\n\nclass DiscussionAuthoringController extends DiscussionController {\n  constructor($filter,\n              $mdDialog,\n              $q,\n              $rootScope,\n              $scope,\n              AnnotationService,\n              ConfigService,\n              DiscussionService,\n              NodeService,\n              NotebookService,\n              NotificationService,\n              ProjectService,\n              StudentAssetService,\n              StudentDataService,\n              StudentWebSocketService,\n              UtilService,\n              $mdMedia) {\n    super($filter,\n      $mdDialog,\n      $q,\n      $rootScope,\n      $scope,\n      AnnotationService,\n      ConfigService,\n      DiscussionService,\n      NodeService,\n      NotebookService,\n      NotificationService,\n      ProjectService,\n      StudentAssetService,\n      StudentDataService,\n      StudentWebSocketService,\n      UtilService,\n      $mdMedia);\n    this.allowedConnectedComponentTypes = [\n      { type: 'Discussion' }\n    ];\n  }\n\n  authoringConnectedComponentTypeChanged(connectedComponent) {\n    const component = this.ProjectService.getComponentByNodeIdAndComponentId(\n      connectedComponent.nodeId, connectedComponent.componentId);\n    if (component.type === 'Discussion') {\n      this.changeAllDiscussionConnectedComponentTypesToMatch(connectedComponent);\n    }\n    this.authoringViewComponentChanged();\n  }\n\n  changeAllDiscussionConnectedComponentTypesToMatch(connectedComponent) {\n    for (const tempConnectedComponent of this.authoringComponentContent.connectedComponents) {\n      const tempComponent = this.ProjectService.getComponentByNodeIdAndComponentId(\n        tempConnectedComponent.nodeId, tempConnectedComponent.componentId);\n      if (tempComponent.type === 'Discussion') {\n        tempConnectedComponent.type = connectedComponent.type;\n      }\n    }\n  }\n}\n\nDiscussionAuthoringController.$inject = [\n  '$filter',\n  '$mdDialog',\n  '$q',\n  '$rootScope',\n  '$scope',\n  'AnnotationService',\n  'ConfigService',\n  'DiscussionService',\n  'NodeService',\n  'NotebookService',\n  'NotificationService',\n  'ProjectService',\n  'StudentAssetService',\n  'StudentDataService',\n  'StudentWebSocketService',\n  'UtilService',\n  '$mdMedia'\n];\n\nexport default DiscussionAuthoringController;\n"]}