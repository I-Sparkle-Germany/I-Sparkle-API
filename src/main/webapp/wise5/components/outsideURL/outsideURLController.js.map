{"version":3,"sources":["outsideURLController.es6"],"names":["OutsideURLController","$filter","$mdDialog","$q","$rootScope","$sce","$scope","AnnotationService","ConfigService","NodeService","NotebookService","OutsideURLService","ProjectService","StudentAssetService","StudentDataService","UtilService","url","componentContent","setURL","setWidthAndHeight","width","height","getComponentState","deferred","defer","resolve","promise","bind","$broadcast","nodeId","componentId","trustAsResourceUrl","ComponentController","$inject"],"mappings":"AAAA;;;;;;;AAEA;;;;;;;;;;;;;;;;;;;;;;IAEMA,oB;;;;;AACJ,gCAAYC,OAAZ,EACIC,SADJ,EAEIC,EAFJ,EAGIC,UAHJ,EAIIC,IAJJ,EAKIC,MALJ,EAMIC,iBANJ,EAOIC,aAPJ,EAQIC,WARJ,EASIC,eATJ,EAUIC,iBAVJ,EAWIC,cAXJ,EAYIC,mBAZJ,EAaIC,kBAbJ,EAcIC,WAdJ,EAciB;AAAA;;AAAA;;AACf,8FAAMd,OAAN,EAAeC,SAAf,EAA0BE,UAA1B,EAAsCE,MAAtC,EACIC,iBADJ,EACuBC,aADvB,EACsCC,WADtC,EAEIC,eAFJ,EAEqBE,cAFrB,EAEqCC,mBAFrC,EAGIC,kBAHJ,EAGwBC,WAHxB;AAIA,UAAKZ,EAAL,GAAUA,EAAV;AACA,UAAKE,IAAL,GAAYA,IAAZ;AACA,UAAKM,iBAAL,GAAyBA,iBAAzB,CAPe,CASf;;AACA,UAAKK,GAAL,GAAW,IAAX;;AAEA,QAAI,MAAKC,gBAAL,IAAyB,IAA7B,EAAmC;AACjC;AACA,YAAKC,MAAL,CAAY,MAAKD,gBAAL,CAAsBD,GAAlC;AACD;;AAED,UAAKG,iBAAL,CAAuB,MAAKF,gBAAL,CAAsBG,KAA7C,EAAoD,MAAKH,gBAAL,CAAsBI,MAA1E;AAEA;;;;;;;;AAMA,UAAKf,MAAL,CAAYgB,iBAAZ,GAAgC,YAAW;AACzC,UAAIC,QAAQ,GAAG,KAAKpB,EAAL,CAAQqB,KAAR,EAAf;AAEA;;;;;;AAKAD,MAAAA,QAAQ,CAACE,OAAT;AAEA,aAAOF,QAAQ,CAACG,OAAhB;AACD,KAX+B,CAW9BC,IAX8B,+BAAhC;;AAaA,UAAKvB,UAAL,CAAgBwB,UAAhB,CAA2B,wBAA3B,EAAqD;AAAEC,MAAAA,MAAM,EAAE,MAAKA,MAAf;AAAuBC,MAAAA,WAAW,EAAE,MAAKA;AAAzC,KAArD;;AAtCe;AAuChB;;;;sCAEiBV,K,EAAOC,M,EAAQ;AAC/B,WAAKD,KAAL,GAAaA,KAAK,GAAGA,KAAK,GAAG,IAAX,GAAkB,MAApC;AACA,WAAKC,MAAL,GAAcA,MAAM,GAAGA,MAAM,GAAG,IAAZ,GAAmB,OAAvC;AACD;;;2BAEML,G,EAAK;AACV,UAAIA,GAAG,IAAI,IAAP,IAAeA,GAAG,KAAK,EAA3B,EAA+B;AAC7B,aAAKA,GAAL,GAAW,GAAX;AACD,OAFD,MAEO;AACL,aAAKA,GAAL,GAAW,KAAKX,IAAL,CAAU0B,kBAAV,CAA6Bf,GAA7B,CAAX;AACD;AACF;;;;EAnEgCgB,+B;;AAsEnChC,oBAAoB,CAACiC,OAArB,GAA+B,CAC7B,SAD6B,EAE7B,WAF6B,EAG7B,IAH6B,EAI7B,YAJ6B,EAK7B,MAL6B,EAM7B,QAN6B,EAO7B,mBAP6B,EAQ7B,eAR6B,EAS7B,aAT6B,EAU7B,iBAV6B,EAW7B,mBAX6B,EAY7B,gBAZ6B,EAa7B,qBAb6B,EAc7B,oBAd6B,EAe7B,aAf6B,CAA/B;eAkBejC,oB","sourcesContent":["'use strict';\n\nimport ComponentController from \"../componentController\";\n\nclass OutsideURLController extends ComponentController {\n  constructor($filter,\n      $mdDialog,\n      $q,\n      $rootScope,\n      $sce,\n      $scope,\n      AnnotationService,\n      ConfigService,\n      NodeService,\n      NotebookService,\n      OutsideURLService,\n      ProjectService,\n      StudentAssetService,\n      StudentDataService,\n      UtilService) {\n    super($filter, $mdDialog, $rootScope, $scope,\n        AnnotationService, ConfigService, NodeService,\n        NotebookService, ProjectService, StudentAssetService,\n        StudentDataService, UtilService);\n    this.$q = $q;\n    this.$sce = $sce;\n    this.OutsideURLService = OutsideURLService;\n\n    // the url to the web page to display\n    this.url = null;\n\n    if (this.componentContent != null) {\n      // set the url\n      this.setURL(this.componentContent.url);\n    }\n\n    this.setWidthAndHeight(this.componentContent.width, this.componentContent.height);\n\n    /**\n     * Get the component state from this component. The parent node will\n     * call this function to obtain the component state when it needs to\n     * save student data.\n     * @return a promise of a component state containing the student data\n     */\n    this.$scope.getComponentState = function() {\n      var deferred = this.$q.defer();\n\n      /*\n       * the student does not have any unsaved changes in this component\n       * so we don't need to save a component state for this component.\n       * we will immediately resolve the promise here.\n       */\n      deferred.resolve();\n\n      return deferred.promise;\n    }.bind(this);\n\n    this.$rootScope.$broadcast('doneRenderingComponent', { nodeId: this.nodeId, componentId: this.componentId });\n  }\n\n  setWidthAndHeight(width, height) {\n    this.width = width ? width + 'px' : 'none';\n    this.height = height ? height + 'px' : '600px';\n  }\n\n  setURL(url) {\n    if (url == null || url === '') {\n      this.url = ' ';\n    } else {\n      this.url = this.$sce.trustAsResourceUrl(url);\n    }\n  };\n}\n\nOutsideURLController.$inject = [\n  '$filter',\n  '$mdDialog',\n  '$q',\n  '$rootScope',\n  '$sce',\n  '$scope',\n  'AnnotationService',\n  'ConfigService',\n  'NodeService',\n  'NotebookService',\n  'OutsideURLService',\n  'ProjectService',\n  'StudentAssetService',\n  'StudentDataService',\n  'UtilService'\n];\n\nexport default OutsideURLController;\n"],"file":"outsideURLController.js"}