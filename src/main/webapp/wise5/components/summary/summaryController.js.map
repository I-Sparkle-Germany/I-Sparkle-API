{"version":3,"sources":["summaryController.es6"],"names":["SummaryController","$filter","$mdDialog","$rootScope","$scope","AnnotationService","ConfigService","NodeService","NotebookService","ProjectService","StudentAssetService","StudentDataService","SummaryService","UtilService","summaryNodeId","componentContent","summaryComponentId","chartType","prompt","showPromptFromOtherComponent","otherPrompt","getOtherPrompt","getMode","summarySource","periodId","getPeriodId","studentWorkgroupId","workgroupId","getPeriodIdByWorkgroupId","nodeId","componentId","otherComponent","getComponentByNodeIdAndComponentId","ComponentController","$inject"],"mappings":"AAAA;;;;;;;AAEA;;;;;;;;;;;;;;;;;;;;;;IAEMA,iB;;;;;AACJ,6BAAYC,OAAZ,EACIC,SADJ,EAEIC,UAFJ,EAGIC,MAHJ,EAIIC,iBAJJ,EAKIC,aALJ,EAMIC,WANJ,EAOIC,eAPJ,EAQIC,cARJ,EASIC,mBATJ,EAUIC,kBAVJ,EAWIC,cAXJ,EAYIC,WAZJ,EAYiB;AAAA;;AAAA;;AACf,2FAAMZ,OAAN,EACIC,SADJ,EAEIC,UAFJ,EAGIC,MAHJ,EAIIC,iBAJJ,EAKIC,aALJ,EAMIC,WANJ,EAOIC,eAPJ,EAQIC,cARJ,EASIC,mBATJ,EAUIC,kBAVJ,EAWIE,WAXJ;AAYA,UAAKD,cAAL,GAAsBA,cAAtB;AACA,UAAKE,aAAL,GAAqB,MAAKC,gBAAL,CAAsBD,aAA3C;AACA,UAAKE,kBAAL,GAA0B,MAAKD,gBAAL,CAAsBC,kBAAhD;AACA,UAAKC,SAAL,GAAiB,MAAKF,gBAAL,CAAsBE,SAAvC;AACA,UAAKC,MAAL,GAAc,MAAKH,gBAAL,CAAsBG,MAApC;;AACA,QAAI,MAAKH,gBAAL,CAAsBI,4BAA1B,EAAwD;AACtD,YAAKC,WAAL,GAAmB,MAAKC,cAAL,CAAoB,MAAKP,aAAzB,EAAwC,MAAKE,kBAA7C,CAAnB;AACD;;AACD,QAAI,MAAKV,aAAL,CAAmBgB,OAAnB,OAAiC,YAArC,EAAmD;AACjD,UAAI,MAAKP,gBAAL,CAAsBQ,aAAtB,KAAwC,QAA5C,EAAsD;AACpD,cAAKC,QAAL,GAAgB,MAAKlB,aAAL,CAAmBmB,WAAnB,EAAhB;AACD,OAFD,MAEO,IAAI,MAAKV,gBAAL,CAAsBQ,aAAtB,KAAwC,YAA5C,EAA0D;AAC/D,cAAKC,QAAL,GAAgB,IAAhB;AACD;AACF,KAND,MAMO,IAAI,MAAKlB,aAAL,CAAmBgB,OAAnB,OAAiC,kBAArC,EAAyD;AAC9D,UAAMI,kBAAkB,GAAG,MAAKC,WAAhC;AACA,YAAKH,QAAL,GAAgB,MAAKlB,aAAL,CAAmBsB,wBAAnB,CAA4CF,kBAA5C,CAAhB;AACD;;AA9Bc;AA+BhB;;;;mCAEcG,M,EAAQC,W,EAAa;AAClC,UAAMC,cAAc,GAAG,KAAKtB,cAAL,CAAoBuB,kCAApB,CACnBH,MADmB,EACXC,WADW,CAAvB;;AAEA,UAAIC,cAAc,IAAI,IAAtB,EAA4B;AAC1B,eAAOA,cAAc,CAACb,MAAtB;AACD;;AACD,aAAO,IAAP;AACD;;;;EArD6Be,+B;;AAwDhCjC,iBAAiB,CAACkC,OAAlB,GAA4B,CACxB,SADwB,EAExB,WAFwB,EAGxB,YAHwB,EAIxB,QAJwB,EAKxB,mBALwB,EAMxB,eANwB,EAOxB,aAPwB,EAQxB,iBARwB,EASxB,gBATwB,EAUxB,qBAVwB,EAWxB,oBAXwB,EAYxB,gBAZwB,EAaxB,aAbwB,CAA5B;eAgBelC,iB","sourcesContent":["'use strict';\n\nimport ComponentController from '../componentController';\n\nclass SummaryController extends ComponentController {\n  constructor($filter,\n      $mdDialog,\n      $rootScope,\n      $scope,\n      AnnotationService,\n      ConfigService,\n      NodeService,\n      NotebookService,\n      ProjectService,\n      StudentAssetService,\n      StudentDataService,\n      SummaryService,\n      UtilService) {\n    super($filter,\n        $mdDialog,\n        $rootScope,\n        $scope,\n        AnnotationService,\n        ConfigService,\n        NodeService,\n        NotebookService,\n        ProjectService,\n        StudentAssetService,\n        StudentDataService,\n        UtilService);\n    this.SummaryService = SummaryService;\n    this.summaryNodeId = this.componentContent.summaryNodeId;\n    this.summaryComponentId = this.componentContent.summaryComponentId;\n    this.chartType = this.componentContent.chartType;\n    this.prompt = this.componentContent.prompt;\n    if (this.componentContent.showPromptFromOtherComponent) {\n      this.otherPrompt = this.getOtherPrompt(this.summaryNodeId, this.summaryComponentId);\n    }\n    if (this.ConfigService.getMode() === 'studentRun') {\n      if (this.componentContent.summarySource === 'period') {\n        this.periodId = this.ConfigService.getPeriodId();\n      } else if (this.componentContent.summarySource === 'allPeriods') {\n        this.periodId = null;\n      }\n    } else if (this.ConfigService.getMode() === 'classroomMonitor') {\n      const studentWorkgroupId = this.workgroupId;\n      this.periodId = this.ConfigService.getPeriodIdByWorkgroupId(studentWorkgroupId);\n    }\n  }\n\n  getOtherPrompt(nodeId, componentId) {\n    const otherComponent = this.ProjectService.getComponentByNodeIdAndComponentId(\n        nodeId, componentId);\n    if (otherComponent != null) {\n      return otherComponent.prompt;\n    }\n    return null;\n  }\n}\n\nSummaryController.$inject = [\n    '$filter',\n    '$mdDialog',\n    '$rootScope',\n    '$scope',\n    'AnnotationService',\n    'ConfigService',\n    'NodeService',\n    'NotebookService',\n    'ProjectService',\n    'StudentAssetService',\n    'StudentDataService',\n    'SummaryService',\n    'UtilService'\n];\n\nexport default SummaryController;"],"file":"summaryController.js"}