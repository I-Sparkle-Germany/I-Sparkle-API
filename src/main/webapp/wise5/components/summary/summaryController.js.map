{"version":3,"sources":["summaryController.es6"],"names":["SummaryController","$filter","$mdDialog","$q","$rootScope","$scope","AnnotationService","ConfigService","NodeService","NotebookService","ProjectService","StudentAssetService","StudentDataService","SummaryService","UtilService","summaryNodeId","componentContent","summaryComponentId","chartType","prompt","showPromptFromOtherComponent","otherComponent","getComponentByNodeIdAndComponentId","otherPrompt","getMode","summarySource","periodId","getPeriodId","studentWorkgroupId","workgroupId","getPeriodIdByWorkgroupId","ComponentController","$inject"],"mappings":"AAAA;;;;;;;AAEA;;;;;;;;;;;;;;;;;;IAEMA,iB;;;;;AAEJ,6BAAYC,OAAZ,EACIC,SADJ,EAEIC,EAFJ,EAGIC,UAHJ,EAIIC,MAJJ,EAKIC,iBALJ,EAMIC,aANJ,EAOIC,WAPJ,EAQIC,eARJ,EASIC,cATJ,EAUIC,mBAVJ,EAWIC,kBAXJ,EAYIC,cAZJ,EAaIC,WAbJ,EAaiB;AAAA;;AAAA;;AACf,2FAAMb,OAAN,EACIC,SADJ,EAEIE,UAFJ,EAGIC,MAHJ,EAIIC,iBAJJ,EAKIC,aALJ,EAMIC,WANJ,EAOIC,eAPJ,EAQIC,cARJ,EASIC,mBATJ,EAUIC,kBAVJ,EAWIE,WAXJ;AAYA,UAAKD,cAAL,GAAsBA,cAAtB;AACA,UAAKE,aAAL,GAAqB,MAAKC,gBAAL,CAAsBD,aAA3C;AACA,UAAKE,kBAAL,GAA0B,MAAKD,gBAAL,CAAsBC,kBAAhD;AACA,UAAKC,SAAL,GAAiB,MAAKF,gBAAL,CAAsBE,SAAvC;AACA,UAAKC,MAAL,GAAc,MAAKH,gBAAL,CAAsBG,MAApC;;AACA,QAAI,MAAKH,gBAAL,CAAsBI,4BAA1B,EAAwD;AACtD,UAAMC,cAAc,GAAG,MAAKX,cAAL,CAAoBY,kCAApB,CACnB,MAAKP,aADc,EACC,MAAKE,kBADN,CAAvB;;AAEA,UAAII,cAAc,IAAI,IAAtB,EAA4B;AAC1B,cAAKE,WAAL,GAAmBF,cAAc,CAACF,MAAlC;AACD;AACF;;AACD,QAAI,MAAKZ,aAAL,CAAmBiB,OAAnB,OAAiC,YAArC,EAAmD;AACjD,UAAI,MAAKR,gBAAL,CAAsBS,aAAtB,KAAwC,QAA5C,EAAsD;AACpD,cAAKC,QAAL,GAAgB,MAAKnB,aAAL,CAAmBoB,WAAnB,EAAhB;AACD,OAFD,MAEO,IAAI,MAAKX,gBAAL,CAAsBS,aAAtB,KAAwC,YAA5C,EAA0D;AAC/D,cAAKC,QAAL,GAAgB,IAAhB;AACD;AACF,KAND,MAMO,IAAI,MAAKnB,aAAL,CAAmBiB,OAAnB,OAAiC,kBAArC,EAAyD;AAC9D,UAAMI,kBAAkB,GAAG,MAAKC,WAAhC;AACA,YAAKH,QAAL,GAAgB,MAAKnB,aAAL,CAAmBuB,wBAAnB,CAA4CF,kBAA5C,CAAhB;AACD;;AAlCc;AAmChB;;;EAlD6BG,+B;;AAqDhC/B,iBAAiB,CAACgC,OAAlB,GAA4B,CACxB,SADwB,EAExB,WAFwB,EAGxB,IAHwB,EAIxB,YAJwB,EAKxB,QALwB,EAMxB,mBANwB,EAOxB,eAPwB,EAQxB,aARwB,EASxB,iBATwB,EAUxB,gBAVwB,EAWxB,qBAXwB,EAYxB,oBAZwB,EAaxB,gBAbwB,EAcxB,aAdwB,CAA5B;eAiBehC,iB","sourcesContent":["'use strict';\n\nimport ComponentController from '../componentController';\n\nclass SummaryController extends ComponentController {\n\n  constructor($filter,\n      $mdDialog,\n      $q,\n      $rootScope,\n      $scope,\n      AnnotationService,\n      ConfigService,\n      NodeService,\n      NotebookService,\n      ProjectService,\n      StudentAssetService,\n      StudentDataService,\n      SummaryService,\n      UtilService) {\n    super($filter,\n        $mdDialog,\n        $rootScope,\n        $scope,\n        AnnotationService,\n        ConfigService,\n        NodeService,\n        NotebookService,\n        ProjectService,\n        StudentAssetService,\n        StudentDataService,\n        UtilService);\n    this.SummaryService = SummaryService;\n    this.summaryNodeId = this.componentContent.summaryNodeId;\n    this.summaryComponentId = this.componentContent.summaryComponentId;\n    this.chartType = this.componentContent.chartType;\n    this.prompt = this.componentContent.prompt;\n    if (this.componentContent.showPromptFromOtherComponent) {\n      const otherComponent = this.ProjectService.getComponentByNodeIdAndComponentId(\n          this.summaryNodeId, this.summaryComponentId);\n      if (otherComponent != null) {\n        this.otherPrompt = otherComponent.prompt;\n      }\n    }\n    if (this.ConfigService.getMode() === 'studentRun') {\n      if (this.componentContent.summarySource === 'period') {\n        this.periodId = this.ConfigService.getPeriodId();\n      } else if (this.componentContent.summarySource === 'allPeriods') {\n        this.periodId = null;\n      }\n    } else if (this.ConfigService.getMode() === 'classroomMonitor') {\n      const studentWorkgroupId = this.workgroupId;\n      this.periodId = this.ConfigService.getPeriodIdByWorkgroupId(studentWorkgroupId);\n    }\n  }\n}\n\nSummaryController.$inject = [\n    '$filter',\n    '$mdDialog',\n    '$q',\n    '$rootScope',\n    '$scope',\n    'AnnotationService',\n    'ConfigService',\n    'NodeService',\n    'NotebookService',\n    'ProjectService',\n    'StudentAssetService',\n    'StudentDataService',\n    'SummaryService',\n    'UtilService'\n];\n\nexport default SummaryController;"],"file":"summaryController.js"}