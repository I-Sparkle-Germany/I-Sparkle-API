{"version":3,"sources":["compile.es6"],"names":["CompileController","$compile","$element","$scope","$parent","mode","$watch","data","html","contents","$inject","Compile","bindings","controller"],"mappings":";;;;;;;;AAAA;;;;;IAKMA,iB,GACF,2BAAYC,QAAZ,EAAsBC,QAAtB,EAAgCC,MAAhC,EAAwC;AAAA;;AAAA;;AAEpC,QAAIA,OAAOC,OAAP,CAAeC,IAAf,KAAwB,WAA5B,EAAyC;AACrC;AACAF,eAAOG,MAAP,CAAc,YAAM;AAChB,mBAAO,MAAKC,IAAZ;AACH,SAFD,EAEG,UAACA,IAAD,EAAU;AACT;AACAL,qBAASM,IAAT,CAAcD,IAAd;AACAN,qBAASC,SAASO,QAAT,EAAT,EAA8BN,MAA9B;AACH,SAND;AAOH,KATD,MASO;AACH;AACAD,iBAASM,IAAT,CAAc,KAAKD,IAAnB;AACAN,iBAASC,SAASO,QAAT,EAAT,EAA8BN,MAA9B;AACH;AACJ,C;;AAGLH,kBAAkBU,OAAlB,GAA4B,CAAC,UAAD,EAAa,UAAb,EAAyB,QAAzB,CAA5B;;AAEA,IAAMC,UAAU;AACZC,cAAU;AACNL,cAAM;AADA,KADE;AAIZM,gBAAYb;AAJA,CAAhB;;kBAOeW,O","file":"compile.js","sourcesContent":["/**\n * The <compile> component compiles the \"data\" attribute of the element and replaces it in the element's HTML.\n * This is often used in rendering component's prompt string, as sometimes they contain other components like wiselink\n * that needs to be compiled before rendering.\n */\nclass CompileController {\n    constructor($compile, $element, $scope) {\n\n        if ($scope.$parent.mode === 'authoring') {\n            // we are in authoring mode so we will watch for changes to the data\n            $scope.$watch(() => {\n                return this.data;\n            }, (data) => {\n                // update the html\n                $element.html(data);\n                $compile($element.contents())($scope);\n            })\n        } else {\n            // we are not in authoring mode so we will just load the data\n            $element.html(this.data);\n            $compile($element.contents())($scope);\n        }\n    }\n}\n\nCompileController.$inject = ['$compile', '$element', '$scope'];\n\nconst Compile = {\n    bindings: {\n        data: '<'\n    },\n    controller: CompileController\n};\n\nexport default Compile;\n"]}