{"version":3,"sources":["src/main/webapp/wise5/directives/milestoneReportGraph/milestoneReportGraph.es6"],"names":["MilestoneReportGraphController","$filter","$translate","teamLabel","name","id","config","options","chart","type","height","style","fontFamily","title","text","fontSize","fontWeight","plotOptions","series","dataLabels","enabled","format","legend","symbolHeight","tooltip","formatter","point","count","xAxis","categories","yAxis","labels","showInLegend","data","func","setTimeout","reflow","$inject","MilestoneReportGraph","bindings","templateUrl","controller","controllerAs"],"mappings":"AAAA;;;;;;;;IAEMA,8B,GACF,wCAAYC,OAAZ,EAAqB;AAAA;;AACjB,SAAKC,UAAL,GAAkBD,QAAQ,WAAR,CAAlB;AACA,QAAIE,YAAY,KAAKD,UAAL,CAAgB,OAAhB,CAAhB;;AAEA,QAAI,KAAKE,IAAL,IAAa,IAAjB,EAAuB;AACnB,aAAKA,IAAL,GAAY,KAAKC,EAAjB;AACH;AACD,SAAKC,MAAL,GAAc;AACVC,iBAAS;AACLC,mBAAO;AACHC,sBAAM,QADH;AAEHC,wBAAQ,GAFL;AAGHC,uBAAO;AACHC,gCAAY;AADT;AAHJ,aADF;AAQLC,mBAAO;AACHC,sBAAM,KAAKV,IADR;AAEHO,uBAAO;AACHI,8BAAU,MADP;AAEHC,gCAAY;AAFT;AAFJ,aARF;AAeLC,yBAAa;AACTC,wBAAQ;AACJC,gCAAY;AACRC,iCAAS,IADD;AAERC,gCAAQ;AAFA;AADR;AADC,aAfR;AAuBLC,oBAAQ,EAAEC,cAAc,KAAhB,EAvBH;AAwBLC,qBAAS;AACLC,2BAAW,qBAAW;AAClB,mCAAatB,SAAb,UAA2B,KAAKuB,KAAL,CAAWC,KAAtC;AACH;AAHI;AAxBJ,SADC;AA+BVC,eAAO;AACHC,wBAAY,KAAKA;AADd,SA/BG;AAkCVC,eAAO;AACHjB,mBAAO;AACHC,sBAAM;AADH,aADJ;AAIHiB,oBAAQ;AACJX,yBAAS;AADL;AAJL,SAlCG;AA0CVF,gBAAQ,CACJ;AACIc,0BAAc,KADlB;AAEIC,kBAAM,KAAKA;AAFf,SADI,CA1CE;AAgDVC,cAAM,cAAS1B,KAAT,EAAgB;AAClB;AACA2B,uBAAW,YAAW;AAClB3B,sBAAM4B,MAAN;AACH,aAFD,EAEG,GAFH;AAGH;AArDS,KAAd;AAuDH,C;;AAGLpC,+BAA+BqC,OAA/B,GAAyC,CAAC,SAAD,CAAzC;;AAEA,IAAMC,uBAAuB;AACzBC,cAAU;AACNlC,YAAI,GADE;AAEND,cAAM,GAFA;AAGNyB,oBAAY,GAHN;AAINI,cAAM;AAJA,KADe;AAOzBO,iBAAa,iEAPY;AAQzBC,gBAAYzC,8BARa;AASzB0C,kBAAc;AATW,CAA7B;;kBAYeJ,oB","file":"milestoneReportGraph.js","sourcesContent":["'use strict';\n\nclass MilestoneReportGraphController {\n    constructor($filter) {\n        this.$translate = $filter('translate');\n        let teamLabel = this.$translate('teams');\n\n        if (this.name == null) {\n            this.name = this.id;\n        }\n        this.config = {\n            options: {\n                chart: {\n                    type: 'column',\n                    height: 200,\n                    style: {\n                        fontFamily: 'Roboto,Helvetica Neue,sans-serif'\n                    }\n                },\n                title: {\n                    text: this.name,\n                    style: {\n                        fontSize: '16px',\n                        fontWeight: '500'\n                    }\n                },\n                plotOptions: {\n                    series: {\n                        dataLabels: {\n                            enabled: true,\n                            format: '{y}%'\n                        }\n                    }\n                },\n                legend: { symbolHeight: '0px' },\n                tooltip: {\n                    formatter: function() {\n                        return `<b>${teamLabel}: ${this.point.count}</b>`;\n                    }\n                }\n            },\n            xAxis: {\n                categories: this.categories\n            },\n            yAxis: {\n                title: {\n                    text: ''\n                },\n                labels: {\n                    enabled: false\n                }\n            },\n            series: [\n                {\n                    showInLegend: false,\n                    data: this.data\n                }\n            ],\n            func: function(chart) {\n                // temporary fix to ensure graphs are correctly resized to fit their container width\n                setTimeout(function() {\n                    chart.reflow();\n                }, 250);\n            }\n        };\n    }\n}\n\nMilestoneReportGraphController.$inject = ['$filter'];\n\nconst MilestoneReportGraph = {\n    bindings: {\n        id: '@',\n        name: '@',\n        categories: '<',\n        data: '<'\n    },\n    templateUrl: 'wise5/directives/milestoneReportGraph/milestoneReportGraph.html',\n    controller: MilestoneReportGraphController,\n    controllerAs: 'milestoneReportGraphCtrl'\n};\n\nexport default MilestoneReportGraph;\n\n"]}