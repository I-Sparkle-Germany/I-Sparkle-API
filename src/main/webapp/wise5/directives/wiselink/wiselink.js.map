{"version":3,"sources":["wiselink.es6"],"names":["WiselinkController","$scope","StudentDataService","$timeout","$on","event","args","currentNode","getCurrentNode","componentId","id","nodeId","componentElement","$","originalBg","css","animate","scrollTop","prop","transition","endCurrentNodeAndSetCurrentNodeByNodeId","$inject","Wiselink","bindings","linkText","tooltip","linkClass","type","templateUrl","controller","controllerAs"],"mappings":"AAAA;;;;;;;;;;IAEMA,kB;AACF,gCAAYC,MAAZ,EACYC,kBADZ,EAEYC,QAFZ,EAEsB;AAAA;;AAClB,aAAKF,MAAL,GAAcA,MAAd;AACA,aAAKC,kBAAL,GAA0BA,kBAA1B;AACA,aAAKC,QAAL,GAAgBA,QAAhB;AACH;;;;iCAEQ;AAAA;;AACL,iBAAKF,MAAL,CAAYG,GAAZ,CAAgB,oBAAhB,EAAsC,UAACC,KAAD,EAAQC,IAAR,EAAiB;AACnD,oBAAIC,cAAc,MAAKL,kBAAL,CAAwBM,cAAxB,EAAlB;;AAEA;AACA,oBAAI,MAAKC,WAAL,IAAoB,IAApB,IAA4BF,eAAe,IAA3C,IAAmDA,YAAYG,EAAZ,KAAmB,MAAKC,MAA/E,EAAuF;AACnF,0BAAKR,QAAL,CAAc,YAAM;AAChB,4BAAIS,mBAAmBC,EAAE,MAAM,MAAKJ,WAAb,CAAvB;AACA,4BAAIK,aAAaF,iBAAiBG,GAAjB,CAAqB,iBAArB,CAAjB;AACAH,yCAAiBG,GAAjB,CAAqB,kBAArB,EAAyC,SAAzC,EAHgB,CAGsC;AACtDF,0BAAE,UAAF,EAAcG,OAAd,CAAsB;AAClBC,uCAAWL,iBAAiBM,IAAjB,CAAsB,WAAtB;AADO,yBAAtB,EAEG,IAFH;AAGA;AACAN,yCAAiBG,GAAjB,CAAqB;AACjBI,wCAAY,iCADK;AAEjB,gDAAoBL;AAFH,yBAArB;AAIH,qBAZD,EAYG,GAZH;AAaH;AACJ,aAnBD;AAoBA,iBAAKZ,kBAAL,CAAwBkB,uCAAxB,CAAgE,KAAKT,MAArE;AACH;;;;;;AAGLX,mBAAmBqB,OAAnB,GAA6B,CAAC,QAAD,EAAW,oBAAX,EAAiC,UAAjC,CAA7B;;AAEA;;;;AAIA,IAAMC,WAAW;AACbC,cAAU;AACNZ,gBAAQ,GADF;AAENF,qBAAa,GAFP;AAGNe,kBAAU,GAHJ;AAINC,iBAAS,GAJH;AAKNC,mBAAW,GALL;AAMNC,cAAM;AANA,KADG;AASbC,iBAAa,yCATA;AAUbC,gBAAY7B,kBAVC;AAWb8B,kBAAc;AAXD,CAAjB;;kBAceR,Q","file":"wiselink.js","sourcesContent":["'use strict';\n\nclass WiselinkController {\n    constructor($scope,\n                StudentDataService,\n                $timeout) {\n        this.$scope = $scope;\n        this.StudentDataService = StudentDataService;\n        this.$timeout = $timeout;\n    }\n\n    follow() {\n        this.$scope.$on('currentNodeChanged', (event, args) => {\n            let currentNode = this.StudentDataService.getCurrentNode();\n\n            // if componentId is also specified in this wiselink, scroll to it\n            if (this.componentId != null && currentNode != null && currentNode.id === this.nodeId) {\n                this.$timeout(() => {\n                    let componentElement = $(\"#\" + this.componentId);\n                    let originalBg = componentElement.css(\"backgroundColor\");\n                    componentElement.css(\"background-color\", \"#FFFF9C\");  // also highlight the background briefly to draw attention to it\n                    $('#content').animate({\n                        scrollTop: componentElement.prop(\"offsetTop\")\n                    }, 1000);\n                    // slowly fade back to original background color\n                    componentElement.css({\n                        transition: 'background-color 3s ease-in-out',\n                        \"background-color\": originalBg\n                    });\n                }, 500);\n            }\n        });\n        this.StudentDataService.endCurrentNodeAndSetCurrentNodeByNodeId(this.nodeId);\n    }\n}\n\nWiselinkController.$inject = ['$scope', 'StudentDataService', '$timeout'];\n\n/**\n * Creates a link or button that the student can click on to navigate to\n * another step or activity in the project.\n */\nconst Wiselink = {\n    bindings: {\n        nodeId: '@',\n        componentId: '@',\n        linkText: '@',\n        tooltip: '@',\n        linkClass: '@',\n        type: '@'\n    },\n    templateUrl: 'wise5/directives/wiselink/wiselink.html',\n    controller: WiselinkController,\n    controllerAs: 'wiselinkCtrl'\n};\n\nexport default Wiselink;\n"]}