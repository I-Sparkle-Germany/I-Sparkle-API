{"version":3,"sources":["authorWebSocketService.es6"],"names":["AuthorWebSocketService","$rootScope","$websocket","ConfigService","dataStream","webSocketURL","getWebSocketURL","onMessage","message","handleMessage","data","JSON","parse","messageType","messageJSON","send","$inject"],"mappings":";;;;;;;;;;IAAMA,sB;AACF,oCAAYC,UAAZ,EAAwBC,UAAxB,EAAoCC,aAApC,EAAmD;AAAA;;AAC/C,aAAKF,UAAL,GAAkBA,UAAlB;AACA,aAAKC,UAAL,GAAkBA,UAAlB;AACA,aAAKC,aAAL,GAAqBA,aAArB;AACA,aAAKC,UAAL,GAAkB,IAAlB;AACH;;AAED;;;;;;;qCAGa;AAAA;;AACT;AACA,gBAAIC,eAAe,KAAKF,aAAL,CAAmBG,eAAnB,EAAnB;AACA,iBAAKF,UAAL,GAAkB,KAAKF,UAAL,CAAgBG,YAAhB,CAAlB;;AAEA;AACA,iBAAKD,UAAL,CAAgBG,SAAhB,CAA0B,UAACC,OAAD,EAAa;AACnC,sBAAKC,aAAL,CAAmBD,OAAnB;AACH,aAFD;AAGH;;;sCAEaA,O,EAAS;AACnB,gBAAIE,OAAOC,KAAKC,KAAL,CAAWJ,QAAQE,IAAnB,CAAX;AACA,gBAAIG,cAAcH,KAAKG,WAAvB;AACH;;;oCAEWC,W,EAAa;AACrB;AACA,iBAAKV,UAAL,CAAgBW,IAAhB,CAAqBD,WAArB;AACH;;;;;;AAGLd,uBAAuBgB,OAAvB,GAAiC,CAAC,YAAD,EAAe,YAAf,EAA6B,eAA7B,CAAjC;;kBAEehB,sB","file":"authorWebSocketService.js","sourcesContent":["class AuthorWebSocketService {\n    constructor($rootScope, $websocket, ConfigService) {\n        this.$rootScope = $rootScope;\n        this.$websocket = $websocket;\n        this.ConfigService = ConfigService;\n        this.dataStream = null;\n    }\n\n    /**\n     * Initialize the websocket connection\n     */\n    initialize() {\n        // start the websocket connection\n        var webSocketURL = this.ConfigService.getWebSocketURL();\n        this.dataStream = this.$websocket(webSocketURL);\n\n        // this is the function that handles messages we receive from web sockets\n        this.dataStream.onMessage((message) => {\n            this.handleMessage(message);\n        });\n    };\n\n    handleMessage(message) {\n        let data = JSON.parse(message.data);\n        let messageType = data.messageType;\n    };\n\n    sendMessage(messageJSON) {\n        // send the websocket message\n        this.dataStream.send(messageJSON);\n    }\n}\n\nAuthorWebSocketService.$inject = ['$rootScope', '$websocket', 'ConfigService'];\n\nexport default AuthorWebSocketService;\n"]}