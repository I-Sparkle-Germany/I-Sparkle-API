{"version":3,"sources":["httpInterceptor.es6"],"names":[],"mappings":"AAAA;;;;;;;;;;AAEA,IAAI,IAAJ;;IAEM;AACF,aADE,eACF,CAAY,EAAZ,EAAgB,UAAhB,EAA4B;8BAD1B,iBAC0B;;AACxB,eAAO,IAAP,CADwB;AAExB,aAAK,EAAL,GAAU,EAAV,CAFwB;AAGxB,aAAK,UAAL,GAAkB,UAAlB,CAHwB;KAA5B;;;;;iBADE;;gCAQM,QAAQ;AACZ,mBAAO,MAAP,CADY;;;;;;;qCAKH,WAAW;AACpB,mBAAO,KAAK,EAAL,CAAQ,MAAR,CAAe,SAAf,CAAP,CADoB;;;;;;;iCAKf,WAAU;;AAEf,iBAAK,UAAL,CAAgB,UAAhB,CAA2B,iBAA3B,EAFe;;AAIf,mBAAO,SAAP,CAJe;;;;;;;sCAQL,WAAW;AACrB,gBAAI,UAAU,MAAV,KAAqB,CAAC,CAAD,IAAM,UAAU,MAAV,KAAqB,GAArB,IAA4B,UAAU,MAAV,KAAqB,GAArB,IAA4B,UAAU,MAAV,KAAqB,GAArB,EAA2B;;AAE9G,qBAAK,UAAL,CAAgB,UAAhB,CAA2B,oBAA3B,EAF8G;aAAlH;;AAKA,mBAAO,KAAK,EAAL,CAAQ,MAAR,CAAe,SAAf,CAAP,CANqB;;;;WA1BvB;;;AAoCN,gBAAgB,OAAhB,GAA0B,CAAC,IAAD,EAAO,YAAP,CAA1B;;kBAEe","file":"httpInterceptor.js","sourcesContent":["'use strict';\n\nvar self;\n\nclass HttpInterceptor {\n    constructor($q, $rootScope) {\n        self = this;\n        self.$q = $q;\n        self.$rootScope = $rootScope;\n    }\n\n    // intercept request\n    request(config) {\n        return config;\n    }\n\n    // intercept request error\n    requestError(rejection) {\n        return self.$q.reject(rejection);\n    }\n\n    // intercept response\n    response(response) {\n        // response received, clear any disconnection alerts\n        self.$rootScope.$broadcast('serverConnected');\n\n        return response;\n    }\n\n    // intercept response error\n    responseError(rejection) {\n        if (rejection.status === -1 || rejection.status === 500 || rejection.status === 503 || rejection.status === 504 ) {\n            // response error, broadcast disconnection alert\n            self.$rootScope.$broadcast('serverDisconnected');\n        }\n\n        return self.$q.reject(rejection);\n    }\n}\n\nHttpInterceptor.$inject = ['$q', '$rootScope'];\n\nexport default HttpInterceptor;\n"]}