{"version":3,"sources":["httpInterceptor.es6"],"names":["self","HttpInterceptor","$q","$rootScope","config","rejection","reject","response","$broadcast","status","$inject"],"mappings":"AAAA;;;;;;;;;;;;;AAEA,IAAIA,IAAJ;;IAEMC,e;;;AACJ,2BAAYC,EAAZ,EAAgBC,UAAhB,EAA4B;AAAA;;AAC1BH,IAAAA,IAAI,GAAG,IAAP;AACAA,IAAAA,IAAI,CAACE,EAAL,GAAUA,EAAV;AACAF,IAAAA,IAAI,CAACG,UAAL,GAAkBA,UAAlB;AACD,G,CAED;;;;;4BACQC,M,EAAQ;AACd,aAAOA,MAAP;AACD,K,CAED;;;;iCACaC,S,EAAW;AACtB,aAAOL,IAAI,CAACE,EAAL,CAAQI,MAAR,CAAeD,SAAf,CAAP;AACD,K,CAED;;;;6BACSE,S,EAAU;AACjB;AACAP,MAAAA,IAAI,CAACG,UAAL,CAAgBK,UAAhB,CAA2B,iBAA3B;AACA,aAAOD,SAAP;AACD,K,CAED;;;;kCACcF,S,EAAW;AACvB,UAAIA,SAAS,CAACI,MAAV,KAAqB,CAAC,CAAtB,IAA2BJ,SAAS,CAACI,MAAV,KAAqB,GAAhD,IAAuDJ,SAAS,CAACI,MAAV,KAAqB,GAA5E,IAAmFJ,SAAS,CAACI,MAAV,KAAqB,GAA5G,EAAkH;AAChH;AACAT,QAAAA,IAAI,CAACG,UAAL,CAAgBK,UAAhB,CAA2B,oBAA3B;AACD;;AACD,aAAOR,IAAI,CAACE,EAAL,CAAQI,MAAR,CAAeD,SAAf,CAAP;AACD;;;;;;AAGHJ,eAAe,CAACS,OAAhB,GAA0B,CAAC,IAAD,EAAO,YAAP,CAA1B;eAEeT,e","sourcesContent":["'use strict';\n\nvar self;\n\nclass HttpInterceptor {\n  constructor($q, $rootScope) {\n    self = this;\n    self.$q = $q;\n    self.$rootScope = $rootScope;\n  }\n\n  // intercept request\n  request(config) {\n    return config;\n  }\n\n  // intercept request error\n  requestError(rejection) {\n    return self.$q.reject(rejection);\n  }\n\n  // intercept response\n  response(response) {\n    // response received, clear any disconnection alerts\n    self.$rootScope.$broadcast('serverConnected');\n    return response;\n  }\n\n  // intercept response error\n  responseError(rejection) {\n    if (rejection.status === -1 || rejection.status === 500 || rejection.status === 503 || rejection.status === 504 ) {\n      // response error, broadcast disconnection alert\n      self.$rootScope.$broadcast('serverDisconnected');\n    }\n    return self.$q.reject(rejection);\n  }\n}\n\nHttpInterceptor.$inject = ['$q', '$rootScope'];\n\nexport default HttpInterceptor;\n"],"file":"httpInterceptor.js"}