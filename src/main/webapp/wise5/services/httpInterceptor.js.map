{"version":3,"sources":["httpInterceptor.es6"],"names":["self","HttpInterceptor","$q","$rootScope","config","rejection","reject","response","$broadcast","status","$inject"],"mappings":"AAAA;;;;;;;;;;AAEA,IAAIA,IAAJ;;IAEMC,e;AACF,6BAAYC,EAAZ,EAAgBC,UAAhB,EAA4B;AAAA;;AACxBH,eAAO,IAAP;AACAA,aAAKE,EAAL,GAAUA,EAAV;AACAF,aAAKG,UAAL,GAAkBA,UAAlB;AACH;;AAED;;;;;gCACQC,M,EAAQ;AACZ,mBAAOA,MAAP;AACH;;AAED;;;;qCACaC,S,EAAW;AACpB,mBAAOL,KAAKE,EAAL,CAAQI,MAAR,CAAeD,SAAf,CAAP;AACH;;AAED;;;;iCACSE,S,EAAU;AACf;AACAP,iBAAKG,UAAL,CAAgBK,UAAhB,CAA2B,iBAA3B;;AAEA,mBAAOD,SAAP;AACH;;AAED;;;;sCACcF,S,EAAW;AACrB,gBAAIA,UAAUI,MAAV,KAAqB,CAAC,CAAtB,IAA2BJ,UAAUI,MAAV,KAAqB,GAAhD,IAAuDJ,UAAUI,MAAV,KAAqB,GAA5E,IAAmFJ,UAAUI,MAAV,KAAqB,GAA5G,EAAkH;AAC9G;AACAT,qBAAKG,UAAL,CAAgBK,UAAhB,CAA2B,oBAA3B;AACH;;AAED,mBAAOR,KAAKE,EAAL,CAAQI,MAAR,CAAeD,SAAf,CAAP;AACH;;;;;;AAGLJ,gBAAgBS,OAAhB,GAA0B,CAAC,IAAD,EAAO,YAAP,CAA1B;;kBAEeT,e","file":"httpInterceptor.js","sourcesContent":["'use strict';\n\nvar self;\n\nclass HttpInterceptor {\n    constructor($q, $rootScope) {\n        self = this;\n        self.$q = $q;\n        self.$rootScope = $rootScope;\n    }\n\n    // intercept request\n    request(config) {\n        return config;\n    }\n\n    // intercept request error\n    requestError(rejection) {\n        return self.$q.reject(rejection);\n    }\n\n    // intercept response\n    response(response) {\n        // response received, clear any disconnection alerts\n        self.$rootScope.$broadcast('serverConnected');\n\n        return response;\n    }\n\n    // intercept response error\n    responseError(rejection) {\n        if (rejection.status === -1 || rejection.status === 500 || rejection.status === 503 || rejection.status === 504 ) {\n            // response error, broadcast disconnection alert\n            self.$rootScope.$broadcast('serverDisconnected');\n        }\n\n        return self.$q.reject(rejection);\n    }\n}\n\nHttpInterceptor.$inject = ['$q', '$rootScope'];\n\nexport default HttpInterceptor;\n"]}