{"version":3,"sources":["multipleChoice.spec.es6"],"names":["saveButton","by","id","saveMessage","binding","submitButton","submitMessage","nextButton","prevButton","radioGroup","model","nodeDropDownMenu","hasClass","element","cls","getAttribute","then","classes","split","indexOf","shouldBeSelected","choices","choice","expect","toBe","shouldBeUnselected","shouldBeDisabled","elements","shouldBeEnabled","shouldBePresent","isPresent","toBeTruthy","shouldBeAbsent","toBeFalsy","describe","spongeBobChoice","xpath","patrickChoice","squidwardChoice","beforeAll","get","wait","it","getText","nodeContent","cssContainingText","click","toContain","leonardoChoice","donatelloChoice","michelangeloChoice","raphaelChoice","squirtleChoice"],"mappings":"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","file":"multipleChoice.spec.js","sourcesContent":["import {browser, element} from 'protractor';\n\nlet saveButton = element(by.id('saveButton'));\nlet saveMessage = element(by.binding('multipleChoiceController.saveMessage.text'));\nlet submitButton = element(by.id('submitButton'));\nlet submitMessage = element(by.binding('multipleChoiceController.saveMessage.text'));\nlet nextButton = element(by.id('nextButton'));\nlet prevButton = element(by.id('prevButton'));\nlet radioGroup = element(by.model('multipleChoiceController.studentChoices'));\nlet nodeDropDownMenu = element(by.model(\"stepToolsCtrl.toNodeId\"));\n\nfunction hasClass(element, cls) {\n  return element.getAttribute('class').then((classes) => {\n    return classes.split(' ').indexOf(cls) !== -1;\n  });\n}\n\nfunction shouldBeSelected(choices) {\n  for (let choice of choices) {\n    expect(choice.getAttribute('aria-checked')).toBe(\"true\");\n  }\n}\n\nfunction shouldBeUnselected(choices) {\n  for (let choice of choices) {\n    expect(choice.getAttribute('aria-checked')).toBe(\"false\");\n  }\n}\n\nfunction shouldBeDisabled(elements) {\n  for (let element of elements) {\n    expect(hasClass(element, \"disabled\"));\n  }\n}\n\nfunction shouldBeEnabled(elements) {\n  for (let element of elements) {\n    expect(!hasClass(element, \"disabled\"));\n  }\n}\n\nfunction shouldBePresent(elements) {\n  for (let element of elements) {\n    expect(element.isPresent()).toBeTruthy();\n  }\n}\n\nfunction shouldBeAbsent(elements) {\n  for (let element of elements) {\n    expect(element.isPresent()).toBeFalsy();\n  }\n}\n\ndescribe('WISE5 Multiple Choice Component Select One', () => {\n  let spongeBobChoice = element(by.xpath('//md-radio-button[@aria-label=\"Spongebob\"]'));\n  let patrickChoice = element(by.xpath('//md-radio-button[@aria-label=\"Patrick\"]'));\n  let squidwardChoice = element(by.xpath('//md-radio-button[@aria-label=\"Squidward\"]'));\n\n  beforeAll(() => {\n    browser.get('http://localhost:8080/wise/project/demo#/vle/node5');\n    browser.wait(function() {\n      return nodeDropDownMenu.isPresent()\n    }, 5000);\n  });\n\n  it('should show multiple choice multiple answer component', () => {\n    expect(nodeDropDownMenu.getText()).toBe(\n        '1.5: Multiple Choice Step Single Answer');\n    let nodeContent = element(by.cssContainingText(\n        '.node-content','Who lives in a pineapple under the sea?'));\n    shouldBePresent([nodeContent, radioGroup,\n      spongeBobChoice, patrickChoice, squidwardChoice,\n      saveButton,  submitButton]);\n    shouldBeAbsent([saveMessage]);\n    shouldBeUnselected([spongeBobChoice, patrickChoice, squidwardChoice]);\n    shouldBeDisabled([saveButton, submitButton]);\n  });\n\n  it('should allow students to choose a choice and save', () => {\n    spongeBobChoice.click();\n    shouldBeSelected([spongeBobChoice]);\n    shouldBeUnselected([patrickChoice, squidwardChoice]);\n    shouldBeEnabled([saveButton, submitButton]);\n\n    saveButton.click();\n    expect(saveMessage.getText()).toContain(\"Saved\");\n    shouldBeDisabled([saveButton]);\n    shouldBeEnabled([submitButton]);\n\n    patrickChoice.click();\n    shouldBeSelected([patrickChoice]);\n    shouldBeUnselected([spongeBobChoice, squidwardChoice]);\n    shouldBeEnabled([saveButton, submitButton]);\n\n    submitButton.click();\n    shouldBeDisabled([saveButton, saveButton]);\n    expect(submitMessage.getText()).toContain(\"Submitted\");\n\n    // should still be able to choose after submitting\n    squidwardChoice.click();\n    shouldBeSelected([squidwardChoice]);\n    shouldBeUnselected([spongeBobChoice, patrickChoice]);\n  });\n\n  it('should show previous chosen single-choice items', () => {\n    nextButton.click();\n    expect(nodeDropDownMenu.getText()).toBe('1.6: Multiple Choice Step Multiple Answer');\n    prevButton.click();\n    expect(nodeDropDownMenu.getText()).toBe('1.5: Multiple Choice Step Single Answer');\n\n    shouldBeSelected([squidwardChoice]);\n    shouldBeUnselected([spongeBobChoice, patrickChoice]);\n  });\n\n});\n\ndescribe('WISE5 Multiple Choice Component Select Multiple', () => {\n  let leonardoChoice = element(by.xpath('//md-checkbox[@aria-label=\"Leonardo\"]'));\n  let donatelloChoice = element(by.xpath('//md-checkbox[@aria-label=\"Donatello\"]'));\n  let michelangeloChoice = element(by.xpath('//md-checkbox[@aria-label=\"Michelangelo\"]'));\n  let raphaelChoice = element(by.xpath('//md-checkbox[@aria-label=\"Raphael\"]'));\n  let squirtleChoice = element(by.xpath('//md-checkbox[@aria-label=\"Squirtle\"]'));\n\n  beforeAll(() => {\n    browser.get('http://localhost:8080/wise/project/demo#/vle/node6');\n    browser.wait(function() {\n      return nodeDropDownMenu.isPresent()\n    }, 5000);\n  });\n\n  it('should show multiple choice multiple answer component', () => {\n    expect(nodeDropDownMenu.getText()).toBe(\n      '1.6: Multiple Choice Step Multiple Answer');\n\n    let nodeContent = element(by.cssContainingText(\n      '.node-content','Which of these are Ninja Turtles?'));\n    shouldBePresent([nodeContent, leonardoChoice, donatelloChoice,\n      michelangeloChoice, raphaelChoice, squirtleChoice,\n      saveButton, submitButton]);\n    shouldBeAbsent([saveMessage]);\n    shouldBeUnselected([leonardoChoice, donatelloChoice, michelangeloChoice,\n      raphaelChoice, squirtleChoice]);\n    shouldBeDisabled([saveButton, submitButton]);\n  });\n\n  it('should allow students to choose several choices and save', () => {\n    leonardoChoice.click();\n    expect(leonardoChoice.getAttribute('aria-checked')).toBe(\"true\");\n    shouldBeSelected([leonardoChoice]);\n    shouldBeUnselected([donatelloChoice, michelangeloChoice,\n      raphaelChoice, squirtleChoice]);\n    shouldBeEnabled([saveButton, submitButton]);\n\n    saveButton.click();\n    expect(saveMessage.getText()).toContain(\"Saved\");\n    shouldBeEnabled([submitButton]);\n    shouldBeDisabled([saveButton]);\n\n    squirtleChoice.click();\n    shouldBeSelected([leonardoChoice, squirtleChoice]);\n    shouldBeUnselected([donatelloChoice, michelangeloChoice, raphaelChoice]);\n    shouldBeEnabled([saveButton, submitButton]);\n\n    submitButton.click();\n    expect(submitMessage.getText()).toContain(\"Submitted\");\n    shouldBeDisabled([saveButton, submitButton]);\n\n    // should still be able to choose after submitting\n    michelangeloChoice.click();\n    shouldBeSelected([leonardoChoice, squirtleChoice, michelangeloChoice]);\n    shouldBeUnselected([donatelloChoice, raphaelChoice]);\n    shouldBeEnabled([saveButton, submitButton]);\n\n    // unselect a previous choice\n    squirtleChoice.click();\n    shouldBeSelected([leonardoChoice, michelangeloChoice]);\n    shouldBeUnselected([donatelloChoice, raphaelChoice, squirtleChoice]);\n  });\n\n  it('should show previous chosen multiple-choice items', () => {\n    prevButton.click();\n    expect(nodeDropDownMenu.getText()).toBe('1.5: Multiple Choice Step Single Answer');\n    nextButton.click();\n    expect(nodeDropDownMenu.getText()).toBe('1.6: Multiple Choice Step Multiple Answer');\n\n    shouldBeSelected([leonardoChoice, michelangeloChoice]);\n    shouldBeUnselected([donatelloChoice, raphaelChoice, squirtleChoice]);\n  });\n});\n"]}