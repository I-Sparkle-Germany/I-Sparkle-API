{"version":3,"sources":["multipleChoiceCheckbox.spec.es6"],"names":["common","describe","leonardoChoice","by","cssContainingText","donatelloChoice","michelangeloChoice","raphaelChoice","squirtleChoice","shouldDisplayDefaultElements","vle","mc","nodeSelectMenuShouldSay","shouldBePresent","saveButton","submitButton","shouldBeAbsent","saveMessage","shouldBeDisabled","prompt","getPrompt","expect","getText","toEqual","shouldBeEnabled","shouldBeUnselected","save","toContain","submit","submitMessage","beforeEach","get","wait","nodeDropDownMenu","isPresent","then","it","click","shouldBeSelected","goToPreviousStep","urlShouldBe","goToNextStep"],"mappings":"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","file":"multipleChoiceCheckbox.spec.js","sourcesContent":["import {browser, element} from 'protractor';\nimport * as common from '../../common.js';\nimport VLEPage from '../../vlePage.js';\nimport MultipleChoicePage from './multipleChoicePage.js'\n\ndescribe('WISE5 Multiple Choice Component Select Multiple (checkbox)', () => {\n  const leonardoChoice = element(by.cssContainingText('md-checkbox','Leonardo'));\n  const donatelloChoice = element(by.cssContainingText('md-checkbox','Donatello'));\n  const michelangeloChoice = element(by.cssContainingText('md-checkbox','Michelangelo'));\n  const raphaelChoice = element(by.cssContainingText('md-checkbox','Raphael'));\n  const squirtleChoice = element(by.cssContainingText('md-checkbox','Squirtle'));\n\n  function shouldDisplayDefaultElements(vle, mc) {\n    vle.nodeSelectMenuShouldSay('1.6: Multiple Choice Step Multiple Answer');\n    common.shouldBePresent(mc.saveButton, mc.submitButton);\n    common.shouldBeAbsent(mc.saveMessage);\n    common.shouldBeDisabled(mc.saveButton, mc.submitButton);\n\n    const prompt = mc.getPrompt();\n    common.shouldBePresent(prompt, leonardoChoice, donatelloChoice,\n      michelangeloChoice, raphaelChoice, squirtleChoice);\n    expect(prompt.getText()).toEqual('This is a multiple choice step where' +\n      ' the student is allowed to choose multiple choices.\\n' +\n      'Which of these are Ninja Turtles?');\n    common.shouldBeEnabled(donatelloChoice, michelangeloChoice,\n      raphaelChoice, squirtleChoice);\n    common.shouldBeUnselected(donatelloChoice, michelangeloChoice,\n      raphaelChoice, squirtleChoice);\n  }\n\n  function save(mc) {\n    mc.save();\n    common.shouldBeDisabled(mc.saveButton);\n    common.shouldBeEnabled(mc.submitButton);\n    expect(mc.saveMessage.getText()).toContain(\"Saved\");\n  }\n\n  function submit(mc) {\n    mc.submit();\n    common.shouldBeDisabled(mc.saveButton, mc.saveButton);\n    expect(mc.submitMessage.getText()).toContain(\"Submitted\");\n  }\n\n  beforeEach(() => {\n    const vle = new VLEPage();\n    browser.get('http://localhost:8080/wise/project/demo#/vle/node6');\n    browser.wait(function() {\n      return vle.nodeDropDownMenu.isPresent()\n    }, 5000, 'VLE didn\\'t load properly').then(() => {\n      const mc = new MultipleChoicePage();\n      shouldDisplayDefaultElements(vle, mc);\n    });\n  });\n\n  it('should allow students to choose several choices and save', () => {\n    const mc = new MultipleChoicePage();\n    leonardoChoice.click();\n    common.shouldBeSelected(leonardoChoice);\n    common.shouldBeUnselected(donatelloChoice, michelangeloChoice,\n        raphaelChoice, squirtleChoice);\n    common.shouldBeEnabled(mc.saveButton, mc.submitButton);\n\n    save(mc);\n\n    squirtleChoice.click();\n    common.shouldBeSelected(leonardoChoice, squirtleChoice);\n    common.shouldBeUnselected(donatelloChoice, michelangeloChoice,\n        raphaelChoice);\n    common.shouldBeEnabled(mc.saveButton, mc.submitButton);\n\n    submit(mc);\n\n    // should still be able to choose after submitting\n    michelangeloChoice.click();\n    common.shouldBeSelected(leonardoChoice, squirtleChoice,\n        michelangeloChoice);\n    common.shouldBeUnselected(donatelloChoice, raphaelChoice);\n    common.shouldBeEnabled(mc.saveButton, mc.submitButton);\n\n    // unselect a previous choice\n    squirtleChoice.click();\n    common.shouldBeSelected(leonardoChoice, michelangeloChoice);\n    common.shouldBeUnselected(donatelloChoice, raphaelChoice, squirtleChoice);\n  });\n\n  it('should show previous chosen multiple-choice items', () => {\n    const mc = new MultipleChoicePage();\n\n    leonardoChoice.click();\n    michelangeloChoice.click();\n    donatelloChoice.click();\n    raphaelChoice.click();\n    common.shouldBeSelected(leonardoChoice, michelangeloChoice,\n        donatelloChoice, raphaelChoice);\n    common.shouldBeUnselected(squirtleChoice);\n    common.shouldBeEnabled(mc.saveButton, mc.submitButton);\n\n    const vle = new VLEPage();\n    vle.goToPreviousStep();\n    common.urlShouldBe('http://localhost:8080/wise/project/demo#/vle/node5');\n    vle.nodeSelectMenuShouldSay('1.5: Multiple Choice Step Single Answer');\n\n    vle.goToNextStep();\n    common.urlShouldBe('http://localhost:8080/wise/project/demo#/vle/node6');\n    vle.nodeSelectMenuShouldSay('1.6: Multiple Choice Step Multiple Answer');\n    common.shouldBeSelected(leonardoChoice, michelangeloChoice,\n      donatelloChoice, raphaelChoice);\n    common.shouldBeUnselected(squirtleChoice);\n\n    // auto-save should have occurred, so the save button is disabled.\n    common.shouldBeDisabled(mc.saveButton);\n    common.shouldBeEnabled(mc.submitButton);\n  });\n});\n"]}