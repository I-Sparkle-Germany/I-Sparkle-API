{"version":3,"sources":["multipleChoiceRadio.spec.es6"],"names":["common","describe","spongeBobChoice","by","cssContainingText","patrickChoice","squidwardChoice","shouldDisplayDefaultElements","vle","mc","nodeSelectMenuShouldSay","shouldBePresent","radioGroup","saveButton","submitButton","shouldBeAbsent","saveMessage","shouldBeDisabled","prompt","getPrompt","expect","getText","toEqual","shouldBeEnabled","shouldBeUnselected","save","toContain","submit","submitMessage","beforeEach","get","wait","nodeDropDownMenu","isPresent","then","it","click","shouldBeSelected","goToNextStep","urlShouldBe","goToPreviousStep"],"mappings":"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","file":"multipleChoiceRadio.spec.js","sourcesContent":["import {browser, element} from 'protractor';\nimport * as common from '../../common.js';\nimport VLEPage from '../../vlePage.js';\nimport MultipleChoicePage from './multipleChoicePage.js';\n\ndescribe('WISE5 Multiple Choice Component Select One (radio)', () => {\n  const spongeBobChoice = element(by.cssContainingText('md-radio-button','Spongebob'));\n  const patrickChoice = element(by.cssContainingText('md-radio-button','Patrick'));\n  const squidwardChoice = element(by.cssContainingText('md-radio-button','Squidward'));\n\n  function shouldDisplayDefaultElements(vle, mc) {\n    vle.nodeSelectMenuShouldSay('1.5: Multiple Choice Step Single Answer');\n    common.shouldBePresent(mc.radioGroup, mc.saveButton, mc.submitButton);\n    common.shouldBeAbsent(mc.saveMessage);\n    common.shouldBeDisabled(mc.saveButton, mc.submitButton);\n\n    const prompt = mc.getPrompt();\n    common.shouldBePresent(prompt, spongeBobChoice, patrickChoice,\n      squidwardChoice);\n    expect(prompt.getText()).toEqual('This is a multiple choice step where' +\n      ' the student is allowed to choose one choice.\\nWho lives in a' +\n      ' pineapple under the sea?');\n    common.shouldBeEnabled(spongeBobChoice, patrickChoice, squidwardChoice);\n    common.shouldBeUnselected(spongeBobChoice, patrickChoice,\n      squidwardChoice);\n  }\n\n  function save(mc) {\n    mc.save();\n    common.shouldBeDisabled(mc.saveButton);\n    common.shouldBeEnabled(mc.submitButton);\n    expect(mc.saveMessage.getText()).toContain(\"Saved\");\n  }\n\n  function submit(mc) {\n    mc.submit();\n    common.shouldBeDisabled(mc.saveButton, mc.saveButton);\n    expect(mc.submitMessage.getText()).toContain(\"Submitted\");\n  }\n\n  beforeEach(() => {\n    const vle = new VLEPage();\n    browser.get('http://localhost:8080/wise/project/demo#/vle/node5');\n    browser.wait(function() {\n      return vle.nodeDropDownMenu.isPresent()\n    }, 5000, 'VLE didn\\'t load properly').then(() => {\n      const mc = new MultipleChoicePage();\n      shouldDisplayDefaultElements(vle, mc);\n    });\n  });\n\n  it('should allow user to choose a choice and save', () => {\n    const mc = new MultipleChoicePage();\n    spongeBobChoice.click();\n    common.shouldBeSelected(spongeBobChoice);\n    common.shouldBeUnselected(patrickChoice, squidwardChoice);\n    common.shouldBeEnabled(mc.saveButton, mc.submitButton);\n\n    save(mc);\n\n    // same choices should still be selected\n    common.shouldBeSelected(spongeBobChoice);\n    common.shouldBeUnselected(patrickChoice, squidwardChoice);\n\n    // should still be able to choose after saving\n    common.shouldBeEnabled(spongeBobChoice, patrickChoice, squidwardChoice);\n    patrickChoice.click();\n    common.shouldBeSelected(patrickChoice);\n    common.shouldBeUnselected(spongeBobChoice, squidwardChoice);\n    common.shouldBeEnabled(mc.saveButton, mc.submitButton);\n  });\n\n  it('should allow user to choose a choice and submit', () => {\n    const mc = new MultipleChoicePage();\n    patrickChoice.click();\n    common.shouldBeSelected(patrickChoice);\n    common.shouldBeUnselected(spongeBobChoice, squidwardChoice);\n    common.shouldBeEnabled(mc.saveButton, mc.submitButton);\n\n    submit(mc);\n\n    // same choices should still be selected\n    common.shouldBeSelected(patrickChoice);\n    common.shouldBeUnselected(spongeBobChoice, squidwardChoice);\n\n    // should still be able to choose after submitting\n    common.shouldBeEnabled(spongeBobChoice, patrickChoice, squidwardChoice);\n    squidwardChoice.click();\n    common.shouldBeSelected(squidwardChoice);\n    common.shouldBeUnselected(spongeBobChoice, patrickChoice);\n  });\n\n  it('should preserve selected choices between step visits', () => {\n    const mc = new MultipleChoicePage();\n    spongeBobChoice.click();\n    common.shouldBeSelected(spongeBobChoice);\n    common.shouldBeUnselected(squidwardChoice, patrickChoice);\n\n    const vle = new VLEPage();\n    vle.goToNextStep();\n    common.urlShouldBe('http://localhost:8080/wise/project/demo#/vle/node6');\n    vle.nodeSelectMenuShouldSay('1.6: Multiple Choice Step Multiple Answer');\n\n    vle.goToPreviousStep();\n    common.urlShouldBe('http://localhost:8080/wise/project/demo#/vle/node5');\n    vle.nodeSelectMenuShouldSay('1.5: Multiple Choice Step Single Answer');\n    common.shouldBeSelected(spongeBobChoice);\n    common.shouldBeUnselected(squidwardChoice, patrickChoice);\n  });\n});\n"]}