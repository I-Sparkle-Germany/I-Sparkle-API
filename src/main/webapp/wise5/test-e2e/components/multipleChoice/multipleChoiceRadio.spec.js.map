{"version":3,"sources":["multipleChoiceRadio.spec.es6"],"names":["common","describe","spongeBobChoice","by","xpath","patrickChoice","squidwardChoice","shouldDisplayDefaultElements","vle","mc","nodeSelectMenuShouldSay","shouldBePresent","radioGroup","saveButton","submitButton","shouldBeAbsent","saveMessage","shouldBeDisabled","prompt","getPrompt","expect","getText","toEqual","shouldBeEnabled","shouldBeUnselected","save","toContain","submit","submitMessage","beforeEach","get","wait","nodeDropDownMenu","isPresent","then","it","click","shouldBeSelected","goToNextStep","urlShouldBe","goToPreviousStep"],"mappings":"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","file":"multipleChoiceRadio.spec.js","sourcesContent":["import {browser, element} from 'protractor';\nimport * as common from '../../common.js';\nimport VLEPage from '../../vlePage.js';\nimport MultipleChoicePage from './multipleChoicePage.js';\n\ndescribe('WISE5 Multiple Choice Component Select One (radio)', () => {\n  const spongeBobChoice = element(by.xpath('//md-radio-button[@aria-label=\"Spongebob\"]'));\n  const patrickChoice = element(by.xpath('//md-radio-button[@aria-label=\"Patrick\"]'));\n  const squidwardChoice = element(by.xpath('//md-radio-button[@aria-label=\"Squidward\"]'));\n\n  function shouldDisplayDefaultElements(vle, mc) {\n    vle.nodeSelectMenuShouldSay('1.5: Multiple Choice Step Single Answer');\n    common.shouldBePresent([mc.radioGroup, mc.saveButton, mc.submitButton]);\n    common.shouldBeAbsent([mc.saveMessage]);\n    common.shouldBeDisabled([mc.saveButton, mc.submitButton]);\n\n    const prompt = mc.getPrompt();\n    common.shouldBePresent([prompt, spongeBobChoice, patrickChoice,\n      squidwardChoice]);\n    expect(prompt.getText()).toEqual('This is a multiple choice step where' +\n      ' the student is allowed to choose one choice.\\nWho lives in a' +\n      ' pineapple under the sea?');\n    common.shouldBeEnabled([spongeBobChoice, patrickChoice, squidwardChoice]);\n    common.shouldBeUnselected([spongeBobChoice, patrickChoice,\n      squidwardChoice]);\n  }\n\n  function save(mc) {\n    mc.save();\n    common.shouldBeDisabled([mc.saveButton]);\n    common.shouldBeEnabled([mc.submitButton]);\n    expect(mc.saveMessage.getText()).toContain(\"Saved\");\n  }\n\n  function submit(mc) {\n    mc.submit();\n    common.shouldBeDisabled([mc.saveButton, mc.saveButton]);\n    expect(mc.submitMessage.getText()).toContain(\"Submitted\");\n  }\n\n  beforeEach(() => {\n    const vle = new VLEPage();\n    browser.get('http://localhost:8080/wise/project/demo#/vle/node5');\n    browser.wait(function() {\n      return vle.nodeDropDownMenu.isPresent()\n    }, 5000, 'VLE didn\\'t load properly').then(() => {\n      const mc = new MultipleChoicePage();\n      shouldDisplayDefaultElements(vle, mc);\n    });\n  });\n\n  it('should allow user to choose a choice and save', () => {\n    const mc = new MultipleChoicePage();\n    spongeBobChoice.click();\n    common.shouldBeSelected([spongeBobChoice]);\n    common.shouldBeUnselected([patrickChoice, squidwardChoice]);\n    common.shouldBeEnabled([mc.saveButton, mc.submitButton]);\n\n    save(mc);\n\n    // same choices should still be selected\n    common.shouldBeSelected([spongeBobChoice]);\n    common.shouldBeUnselected([patrickChoice, squidwardChoice]);\n\n    // should still be able to choose after saving\n    common.shouldBeEnabled([spongeBobChoice, patrickChoice, squidwardChoice]);\n    patrickChoice.click();\n    common.shouldBeSelected([patrickChoice]);\n    common.shouldBeUnselected([spongeBobChoice, squidwardChoice]);\n    common.shouldBeEnabled([mc.saveButton, mc.submitButton]);\n  });\n\n  it('should allow user to choose a choice and submit', () => {\n    const mc = new MultipleChoicePage();\n    patrickChoice.click();\n    common.shouldBeSelected([patrickChoice]);\n    common.shouldBeUnselected([spongeBobChoice, squidwardChoice]);\n    common.shouldBeEnabled([mc.saveButton, mc.submitButton]);\n\n    submit(mc);\n\n    // same choices should still be selected\n    common.shouldBeSelected([patrickChoice]);\n    common.shouldBeUnselected([spongeBobChoice, squidwardChoice]);\n\n    // should still be able to choose after submitting\n    common.shouldBeEnabled([spongeBobChoice, patrickChoice, squidwardChoice]);\n    squidwardChoice.click();\n    common.shouldBeSelected([squidwardChoice]);\n    common.shouldBeUnselected([spongeBobChoice, patrickChoice]);\n  });\n\n  it('should preserve selected choices between step visits', () => {\n    const mc = new MultipleChoicePage();\n    spongeBobChoice.click();\n    common.shouldBeSelected([spongeBobChoice]);\n    common.shouldBeUnselected([squidwardChoice, patrickChoice]);\n\n    const vle = new VLEPage();\n    vle.goToNextStep();\n    common.urlShouldBe('http://localhost:8080/wise/project/demo#/vle/node6');\n    vle.nodeSelectMenuShouldSay('1.6: Multiple Choice Step Multiple Answer');\n\n    vle.goToPreviousStep();\n    common.urlShouldBe('http://localhost:8080/wise/project/demo#/vle/node5');\n    vle.nodeSelectMenuShouldSay('1.5: Multiple Choice Step Single Answer');\n    common.shouldBeSelected([spongeBobChoice]);\n    common.shouldBeUnselected([squidwardChoice, patrickChoice]);\n  });\n});\n"]}