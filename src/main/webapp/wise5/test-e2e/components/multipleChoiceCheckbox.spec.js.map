{"version":3,"sources":["multipleChoiceCheckbox.spec.es6"],"names":["common","VLEPage","require","MultipleChoicePage","describe","leonardoChoice","by","xpath","donatelloChoice","michelangeloChoice","raphaelChoice","squirtleChoice","shouldDisplayDefaultElements","vle","mc","nodeSelectMenuShouldSay","shouldBePresent","saveButton","submitButton","shouldBeAbsent","saveMessage","shouldBeDisabled","prompt","getPrompt","expect","getText","toEqual","shouldBeEnabled","shouldBeUnselected","save","toContain","submit","submitMessage","beforeEach","get","wait","nodeDropDownMenu","isPresent","it","click","shouldBeSelected","goToPreviousStep","urlShouldBe","goToNextStep"],"mappings":"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","file":"multipleChoiceCheckbox.spec.js","sourcesContent":["import {browser, element} from 'protractor';\nimport * as common from '../common.js';\nlet VLEPage = require('../vlePage.js');\nlet MultipleChoicePage = require('./multipleChoicePage.js');\n\ndescribe('WISE5 Multiple Choice Component Select Multiple (checkbox)', () => {\n  let leonardoChoice = element(by.xpath('//md-checkbox[@aria-label=\"Leonardo\"]'));\n  let donatelloChoice = element(by.xpath('//md-checkbox[@aria-label=\"Donatello\"]'));\n  let michelangeloChoice = element(by.xpath('//md-checkbox[@aria-label=\"Michelangelo\"]'));\n  let raphaelChoice = element(by.xpath('//md-checkbox[@aria-label=\"Raphael\"]'));\n  let squirtleChoice = element(by.xpath('//md-checkbox[@aria-label=\"Squirtle\"]'));\n\n  function shouldDisplayDefaultElements(vle, mc) {\n    vle.nodeSelectMenuShouldSay('1.6: Multiple Choice Step Multiple Answer');\n    common.shouldBePresent([mc.saveButton, mc.submitButton]);\n    common.shouldBeAbsent([mc.saveMessage]);\n    common.shouldBeDisabled([mc.saveButton, mc.submitButton]);\n\n    let prompt = mc.getPrompt();\n    common.shouldBePresent([prompt, leonardoChoice, donatelloChoice,\n      michelangeloChoice, raphaelChoice, squirtleChoice]);\n    expect(prompt.getText()).toEqual('This is a multiple choice step where' +'' +\n      ' the student is allowed to choose multiple choices.\\n' +\n      'Which of these are Ninja Turtles?');\n    common.shouldBeEnabled([donatelloChoice, michelangeloChoice,\n      raphaelChoice, squirtleChoice]);\n    common.shouldBeUnselected([donatelloChoice, michelangeloChoice,\n      raphaelChoice, squirtleChoice]);\n  }\n\n  function save(mc) {\n    mc.save();\n    common.shouldBeDisabled([mc.saveButton]);\n    common.shouldBeEnabled([mc.submitButton]);\n    expect(mc.saveMessage.getText()).toContain(\"Saved\");\n  }\n\n  function submit(mc) {\n    mc.submit();\n    common.shouldBeDisabled([mc.saveButton, mc.saveButton]);\n    expect(mc.submitMessage.getText()).toContain(\"Submitted\");\n  }\n\n  beforeEach(() => {\n    let vle = new VLEPage();\n    browser.get('http://localhost:8080/wise/project/demo#/vle/node6');\n    browser.wait(function() {\n      return vle.nodeDropDownMenu.isPresent()\n    }, 5000);\n  });\n\n  it('should allow students to choose several choices and save', () => {\n    let vle = new VLEPage();\n    let mc = new MultipleChoicePage();\n    shouldDisplayDefaultElements(vle, mc);\n    leonardoChoice.click();\n    common.shouldBeSelected([leonardoChoice]);\n    common.shouldBeUnselected([donatelloChoice, michelangeloChoice,\n        raphaelChoice, squirtleChoice]);\n    common.shouldBeEnabled([mc.saveButton, mc.submitButton]);\n\n    save(mc);\n\n    squirtleChoice.click();\n    common.shouldBeSelected([leonardoChoice, squirtleChoice]);\n    common.shouldBeUnselected([donatelloChoice, michelangeloChoice,\n        raphaelChoice]);\n    common.shouldBeEnabled([mc.saveButton, mc.submitButton]);\n\n    submit(mc);\n\n    // should still be able to choose after submitting\n    michelangeloChoice.click();\n    common.shouldBeSelected([leonardoChoice, squirtleChoice,\n        michelangeloChoice]);\n    common.shouldBeUnselected([donatelloChoice, raphaelChoice]);\n    common.shouldBeEnabled([mc.saveButton, mc.submitButton]);\n\n    // unselect a previous choice\n    squirtleChoice.click();\n    common.shouldBeSelected([leonardoChoice, michelangeloChoice]);\n    common.shouldBeUnselected([donatelloChoice, raphaelChoice, squirtleChoice]);\n  });\n\n  it('should show previous chosen multiple-choice items', () => {\n    let vle = new VLEPage();\n    let mc = new MultipleChoicePage();\n    shouldDisplayDefaultElements(vle, mc);\n\n    leonardoChoice.click();\n    michelangeloChoice.click();\n    donatelloChoice.click();\n    raphaelChoice.click();\n    common.shouldBeSelected([leonardoChoice, michelangeloChoice,\n        donatelloChoice, raphaelChoice]);\n    common.shouldBeUnselected([squirtleChoice]);\n    common.shouldBeEnabled([mc.saveButton, mc.submitButton]);\n\n    vle.goToPreviousStep();\n    common.urlShouldBe('http://localhost:8080/wise/project/demo#/vle/node5');\n    vle.nodeSelectMenuShouldSay('1.5: Multiple Choice Step Single Answer');\n\n    vle.goToNextStep();\n    common.urlShouldBe('http://localhost:8080/wise/project/demo#/vle/node6');\n    vle.nodeSelectMenuShouldSay('1.6: Multiple Choice Step Multiple Answer');\n    common.shouldBeSelected([leonardoChoice, michelangeloChoice,\n      donatelloChoice, raphaelChoice]);\n    common.shouldBeUnselected([squirtleChoice]);\n\n    // auto-save should have occurred, so the save button is disabled.\n    common.shouldBeDisabled([mc.saveButton]);\n    common.shouldBeEnabled([mc.submitButton]);\n  });\n});\n"]}