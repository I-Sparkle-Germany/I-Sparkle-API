{"version":3,"sources":["multipleChoiceRadio.spec.es6"],"names":["common","VLEPage","require","MultipleChoicePage","describe","spongeBobChoice","by","xpath","patrickChoice","squidwardChoice","shouldDisplayDefaultElements","vle","mc","nodeSelectMenuShouldSay","shouldBePresent","radioGroup","saveButton","submitButton","shouldBeAbsent","saveMessage","shouldBeDisabled","prompt","getPrompt","expect","getText","toEqual","shouldBeEnabled","shouldBeUnselected","save","toContain","submit","submitMessage","beforeEach","get","wait","nodeDropDownMenu","isPresent","it","click","shouldBeSelected","goToNextStep","urlShouldBe","goToPreviousStep"],"mappings":"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","file":"multipleChoiceRadio.spec.js","sourcesContent":["import {browser, element} from 'protractor';\nimport * as common from '../common.js';\nlet VLEPage = require('../vlePage.js');\nlet MultipleChoicePage = require('./multipleChoicePage.js');\n\ndescribe('WISE5 Multiple Choice Component Select One (radio)', () => {\n  let spongeBobChoice = element(by.xpath('//md-radio-button[@aria-label=\"Spongebob\"]'));\n  let patrickChoice = element(by.xpath('//md-radio-button[@aria-label=\"Patrick\"]'));\n  let squidwardChoice = element(by.xpath('//md-radio-button[@aria-label=\"Squidward\"]'));\n\n  function shouldDisplayDefaultElements(vle, mc) {\n    vle.nodeSelectMenuShouldSay('1.5: Multiple Choice Step Single Answer');\n    common.shouldBePresent([mc.radioGroup, mc.saveButton, mc.submitButton]);\n    common.shouldBeAbsent([mc.saveMessage]);\n    common.shouldBeDisabled([mc.saveButton, mc.submitButton]);\n\n    let prompt = mc.getPrompt();\n    common.shouldBePresent([prompt, spongeBobChoice, patrickChoice,\n      squidwardChoice]);\n    expect(prompt.getText()).toEqual('This is a multiple choice step where' +\n      ' the student is allowed to choose one choice.\\nWho lives in a' +\n      ' pineapple under the sea?');\n    common.shouldBeEnabled([spongeBobChoice, patrickChoice, squidwardChoice]);\n    common.shouldBeUnselected([spongeBobChoice, patrickChoice,\n      squidwardChoice]);\n  }\n\n  function save(mc) {\n    mc.save();\n    common.shouldBeDisabled([mc.saveButton]);\n    common.shouldBeEnabled([mc.submitButton]);\n    expect(mc.saveMessage.getText()).toContain(\"Saved\");\n  }\n\n  function submit(mc) {\n    mc.submit();\n    common.shouldBeDisabled([mc.saveButton, mc.saveButton]);\n    expect(mc.submitMessage.getText()).toContain(\"Submitted\");\n  }\n\n  beforeEach(() => {\n    let vle = new VLEPage();\n    browser.get('http://localhost:8080/wise/project/demo#/vle/node5');\n    browser.wait(function() {\n      return vle.nodeDropDownMenu.isPresent()\n    }, 5000);\n  });\n\n  it('should allow user to choose a choice and save', () => {\n    let vle = new VLEPage();\n    let mc = new MultipleChoicePage();\n    shouldDisplayDefaultElements(vle, mc);\n\n    spongeBobChoice.click();\n    common.shouldBeSelected([spongeBobChoice]);\n    common.shouldBeUnselected([patrickChoice, squidwardChoice]);\n    common.shouldBeEnabled([mc.saveButton, mc.submitButton]);\n\n    save(mc);\n\n    // same choices should still be selected\n    common.shouldBeSelected([spongeBobChoice]);\n    common.shouldBeUnselected([patrickChoice, squidwardChoice]);\n\n    // should still be able to choose after saving\n    common.shouldBeEnabled([spongeBobChoice, patrickChoice, squidwardChoice]);\n    patrickChoice.click();\n    common.shouldBeSelected([patrickChoice]);\n    common.shouldBeUnselected([spongeBobChoice, squidwardChoice]);\n    common.shouldBeEnabled([mc.saveButton, mc.submitButton]);\n  });\n\n  it('should allow user to choose a choice and submit', () => {\n    let vle = new VLEPage();\n    let mc = new MultipleChoicePage();\n    shouldDisplayDefaultElements(vle, mc);\n\n    patrickChoice.click();\n    common.shouldBeSelected([patrickChoice]);\n    common.shouldBeUnselected([spongeBobChoice, squidwardChoice]);\n    common.shouldBeEnabled([mc.saveButton, mc.submitButton]);\n\n    submit(mc);\n\n    // same choices should still be selected\n    common.shouldBeSelected([patrickChoice]);\n    common.shouldBeUnselected([spongeBobChoice, squidwardChoice]);\n\n    // should still be able to choose after submitting\n    common.shouldBeEnabled([spongeBobChoice, patrickChoice, squidwardChoice]);\n    squidwardChoice.click();\n    common.shouldBeSelected([squidwardChoice]);\n    common.shouldBeUnselected([spongeBobChoice, patrickChoice]);\n  });\n\n  it('should preserve selected choices between step visits', () => {\n    let vle = new VLEPage();\n    let mc = new MultipleChoicePage();\n    shouldDisplayDefaultElements(vle, mc);\n\n    spongeBobChoice.click();\n    common.shouldBeSelected([spongeBobChoice]);\n    common.shouldBeUnselected([squidwardChoice, patrickChoice]);\n\n    vle.goToNextStep();\n    common.urlShouldBe('http://localhost:8080/wise/project/demo#/vle/node6');\n    vle.nodeSelectMenuShouldSay('1.6: Multiple Choice Step Multiple Answer');\n\n    vle.goToPreviousStep();\n    common.urlShouldBe('http://localhost:8080/wise/project/demo#/vle/node5');\n    vle.nodeSelectMenuShouldSay('1.5: Multiple Choice Step Single Answer');\n\n    common.shouldBeSelected([spongeBobChoice]);\n    common.shouldBeUnselected([squidwardChoice, patrickChoice]);\n  });\n});\n"]}