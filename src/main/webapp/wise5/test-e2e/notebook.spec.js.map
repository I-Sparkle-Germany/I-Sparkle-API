{"version":3,"sources":["notebook.spec.es6"],"names":["describe","hasClass","element","cls","getAttribute","then","classes","split","indexOf","notebookButton","by","xpath","reportButton","addNoteButton","it","browser","get","nodeDropDownMenu","model","wait","isPresent","expect","getTitle","toEqual","getText","toBe","toBeTruthy","click","getCurrentUrl","closeNotebookButton","notebookTitle","$"],"mappings":";;AAAA;AACAA,SAAS,gCAAT,EAA2C,YAAM;;AAE7C,QAAIC,WAAW,SAAXA,QAAW,CAACC,OAAD,EAAUC,GAAV,EAAkB;AAC7B,eAAOD,QAAQE,YAAR,CAAqB,OAArB,EAA8BC,IAA9B,CAAmC,UAACC,OAAD,EAAa;AACnD,mBAAOA,QAAQC,KAAR,CAAc,GAAd,EAAmBC,OAAnB,CAA2BL,GAA3B,MAAoC,CAAC,CAA5C;AACH,SAFM,CAAP;AAGH,KAJD;;AAMA,QAAIM,iBAAiBP,QAAQQ,GAAGC,KAAH,CAAS,+CAAT,CAAR,CAArB;AACA,QAAIC,eAAeV,QAAQQ,GAAGC,KAAH,CAAS,gDAAT,CAAR,CAAnB;AACA,QAAIE,gBAAgBX,QAAQQ,GAAGC,KAAH,CAAS,sDAAT,CAAR,CAApB;;AAEAG,OAAG,gEAAH,EAAqE,YAAM;AACvEC,gBAAQC,GAAR,CAAY,oDAAZ;AACA,YAAIC,mBAAmBf,QAAQQ,GAAGQ,KAAH,CAAS,wBAAT,CAAR,CAAvB;AACAH,gBAAQI,IAAR,CAAcF,gBAAD,CAAmBG,SAAnB,EAAb,EAA6C,IAA7C,EAHuE,CAGlB;AACrDC,eAAON,QAAQO,QAAR,EAAP,EAA2BC,OAA3B,CAAmC,MAAnC;AACAF,eAAOJ,iBAAiBO,OAAjB,EAAP,EAAmCC,IAAnC,CAAwC,sCAAxC;AACAJ,eAAOZ,eAAeW,SAAf,EAAP,EAAmCM,UAAnC;AACAL,eAAOT,aAAaQ,SAAb,EAAP,EAAiCM,UAAjC;AACAL,eAAOR,cAAcO,SAAd,EAAP,EAAkCM,UAAlC;AACH,KATD;;AAWAZ,OAAG,oCAAH,EAAyC,YAAM;AAC3C;AACAL,uBAAekB,KAAf;AACA;AACAN,eAAON,QAAQa,aAAR,EAAP,EAAgCL,OAAhC,CAAwC,oDAAxC;AACA;AACA,YAAIM,sBAAsB3B,QAAQQ,GAAGC,KAAH,CAAS,uDAAT,CAAR,CAA1B;AACAU,eAAOQ,oBAAoBT,SAApB,EAAP,EAAwCM,UAAxC;AACA,YAAII,gBAAgBC,EAAE,gBAAF,CAApB;AACAV,eAAOS,cAAcN,OAAd,EAAP,EAAgCC,IAAhC,CAAqC,OAArC;;AAEA;AACAI,4BAAoBF,KAApB;AACAN,eAAON,QAAQa,aAAR,EAAP,EAAgCL,OAAhC,CAAwC,oDAAxC;AACH,KAdD;AAeH,CAtCD","file":"notebook.spec.js","sourcesContent":["// E2E test for working with the notebook in preview mode\ndescribe('WISE5 Notebook in Preview Mode', () => {\n\n    var hasClass = (element, cls) => {\n        return element.getAttribute('class').then((classes) => {\n            return classes.split(' ').indexOf(cls) !== -1;\n        });\n    };\n\n    let notebookButton = element(by.xpath('//md-toolbar/button[@aria-label=\"View Notes\"]'));\n    let reportButton = element(by.xpath('//md-toolbar/button[@aria-label=\"View Report\"]'));\n    let addNoteButton = element(by.xpath('//md-toolbar/button[@aria-label=\"Add Notebook item\"]'));\n\n    it('should load the vle and go to node 1 and show notebook buttons', () => {\n        browser.get('http://localhost:8080/wise/project/demo#/vle/node1');\n        let nodeDropDownMenu = element(by.model(\"stepToolsCtrl.toNodeId\"));\n        browser.wait((nodeDropDownMenu).isPresent(), 5000);  // give it at most 5 seconds to load.\n        expect(browser.getTitle()).toEqual('WISE');\n        expect(nodeDropDownMenu.getText()).toBe('1.1: Introduction to Newton Scooters');\n        expect(notebookButton.isPresent()).toBeTruthy();\n        expect(reportButton.isPresent()).toBeTruthy();\n        expect(addNoteButton.isPresent()).toBeTruthy();\n    });\n\n    it('should open and close the notebook', () => {\n        // Click on the notebook icon to open the notebook\n        notebookButton.click();\n        // the url should change to /notebook\n        expect(browser.getCurrentUrl()).toEqual('http://localhost:8080/wise/project/demo#/notebook/');\n        // check that UI elements are displayed\n        let closeNotebookButton = element(by.xpath('//md-toolbar/div/button[@aria-label=\"Close Notebook\"]'));\n        expect(closeNotebookButton.isPresent()).toBeTruthy();\n        let notebookTitle = $(\".toolbar-title\");\n        expect(notebookTitle.getText()).toBe(\"Notes\");\n\n        // Clicking on the closeNotebookButton should dismiss the notebook and bring user back to original step\n        closeNotebookButton.click();\n        expect(browser.getCurrentUrl()).toEqual('http://localhost:8080/wise/project/demo#/vle/node1');\n    });\n});"]}