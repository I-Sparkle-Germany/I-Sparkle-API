{"version":3,"sources":["previewVLE.spec.es6"],"names":[],"mappings":"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","file":"previewVLE.spec.js","sourcesContent":["// E2E test for VLE running preview mode\ndescribe('WISE5 Student VLE Preview', () => {\n\n    var hasClass = (element, cls) => {\n        return element.getAttribute('class').then((classes) => {\n            return classes.split(' ').indexOf(cls) !== -1;\n        });\n    };\n\n    /**\n     * @name waitForUrlToChangeTo\n     * @description Wait until the URL changes to match a provided regex\n     * @param {RegExp} urlRegex wait until the URL changes to match this regex\n     * @returns {!webdriver.promise.Promise} Promise\n     */\n    function waitForUrlToChangeTo(urlRegex) {\n        var currentUrl;\n\n        return browser.getCurrentUrl().then(function storeCurrentUrl(url) {\n                currentUrl = url;\n            }\n        ).then(function waitForUrlToChangeTo() {\n                return browser.wait(function waitForUrlToChangeTo() {\n                    return browser.getCurrentUrl().then(function compareCurrentUrl(url) {\n                        return urlRegex.test(url);\n                    });\n                });\n            }\n        );\n    };\n\n    browser.get('http://localhost:8080/wise/project/demo#/vle/node1');\n    var previousButton = element(by.xpath('//button[@aria-label=\"Previous Item\"]'));\n    var nextButton = element(by.xpath('//button[@aria-label=\"Next Item\"]'));\n    var closeButton = element(by.xpath('//button[@aria-label=\"Go to project plan\"]'));\n    var accountButton = element(by.xpath('//button[@aria-label=\"Open user menu\"]'));\n    var accountMenu = element.all(by.css('._md-open-menu-container')).get(1);\n\n    it('should load the vle and go to node 1', () => {\n        let nodeDropDownMenu = element(by.model(\"stepToolsCtrl.toNodeId\"));\n        browser.wait((nodeDropDownMenu).isPresent(), 5000);  // give it at most 5 seconds to load.\n        expect(browser.getTitle()).toEqual('WISE');\n        expect(nodeDropDownMenu.getText()).toBe('1.1: Introduction to Newton Scooters');\n    });\n\n    it('should have UI elements on the page', () => {\n        // Check that previous, next, close, and account buttons are on the page and have the right md-icons\n        expect(previousButton.getText()).toBe('arrow_back');\n        expect(nextButton.getText()).toBe('arrow_forward');\n        expect(closeButton.getText()).toBe('home');\n        expect(accountButton.getText()).toBe('account_circle');\n        expect(accountMenu.getAttribute('aria-hidden')).toEqual(\"true\");  // Account menu should be hidden\n    });\n\n    it('should navigate next and previous steps using the buttons', () => {\n\n        // Click on the next button and expect to go to the next step\n        nextButton.click();\n        expect(browser.getCurrentUrl()).toEqual('http://localhost:8080/wise/project/demo#/vle/node2');\n        expect(element(by.model(\"stepToolsCtrl.toNodeId\")).getText()).toBe('1.2: Initial Ideas');\n\n        nextButton.click();\n        expect(browser.getCurrentUrl()).toEqual('http://localhost:8080/wise/project/demo#/vle/node3');\n        expect(element(by.model(\"stepToolsCtrl.toNodeId\")).getText()).toBe('2.1: Newton Scooter Concepts');\n\n        // Click on the previous button and expect to go back to the previous step\n        previousButton.click();\n        expect(browser.getCurrentUrl()).toEqual('http://localhost:8080/wise/project/demo#/vle/node2');\n        expect(element(by.model(\"stepToolsCtrl.toNodeId\")).getText()).toBe('1.2: Initial Ideas');\n    });\n\n    it('should allow user to jump to a step using the navigation drop-down menu', () => {\n        let stepSelectMenu = $(\"#stepSelectMenu\");\n        stepSelectMenu.click();\n        element.all(by.repeater(\"item in stepToolsCtrl.idToOrder | toArray | orderBy : 'order'\")).then((stepSelectOptions) => {\n            expect(stepSelectOptions[1].element(by.css('.node-select__text')).getText()).toBe(\"1.1: Introduction to Newton Scooters\");\n            expect(stepSelectOptions[7].element(by.css('.node-select__text')).getText()).toBe(\"2.4: What is potential energy?\");\n            stepSelectOptions[7].element(by.css('.node-select__text')).click();  // Click on step 2.4 in the step select menu\n            expect(browser.getCurrentUrl()).toEqual('http://localhost:8080/wise/project/demo#/vle/node6');\n        });\n    });\n\n    it('should display the group view and allow user to collapse/expand views', () => {\n        // Click on the close button and expect to go to the group view\n        closeButton.click();\n        browser.waitForAngular();   // wait for Angular to load\n        expect(browser.getCurrentUrl()).toEqual('http://localhost:8080/wise/project/demo#/vle/group2');\n\n        element.all(by.repeater('id in navCtrl.rootNode.ids')).then((groupNavItems) => {\n            var activity1 = groupNavItems[0];\n            var activity2 = groupNavItems[1];\n            var activity3 = groupNavItems[2];\n\n            expect(activity1.element(by.className('md-title')).getText()).toEqual('1: Introduction to Newton Scooters');\n            expect(activity2.element(by.className('md-title')).getText()).toEqual('2: Powering Your Newton Scooter');\n            expect(activity3.element(by.className('md-title')).getText()).toEqual('3: Planning Your Newton Scooter');\n\n            // Click on activity 1 to expand it\n            expect(hasClass(activity1, 'expanded')).toBe(false);\n            activity1.element(by.className('nav-item--card__content')).click();\n            expect(hasClass(activity1, 'expanded')).toBe(true);\n            expect(browser.getCurrentUrl()).toEqual('http://localhost:8080/wise/project/demo#/vle/group1');\n\n            // Check for completion icons for steps in Activity 1\n            activity1.all(by.repeater('childId in navitemCtrl.item.ids')).then((stepNavItems) => {\n\n                // step 1.1 should be completed because it's an HTML step and we visited it\n                expect(stepNavItems[0].getText()).toBe('chrome_reader_mode\\n1.1: Introduction to Newton Scooters check_circle');\n                expect(stepNavItems[0].element(by.cssContainingText('.material-icons', 'check_circle')).isPresent()).toBeTruthy();\n\n                // step 1.2 should not be completed yet\n                expect(stepNavItems[1].getText()).toBe('assignment\\n1.2: Initial Ideas');\n                expect(stepNavItems[1].element(by.cssContainingText('.material-icons', 'check_circle')).isPresent()).toBeFalsy();\n            });\n\n            // Activity 2 should be expanded because we came to the group view from step 2.4\n            expect(hasClass(activity2, 'expanded')).toBe(true);\n\n            // Check that steps in activity 2 displays the step title and icon\n            activity2.all(by.repeater('childId in navitemCtrl.item.ids')).then((stepNavItems) => {\n                // step 2.1 should be completed because it's an HTML step and we visited it\n                expect(stepNavItems[0].getText()).toBe('chrome_reader_mode\\n2.1: Newton Scooter Concepts check_circle');\n                expect(stepNavItems[0].element(by.cssContainingText('.material-icons', 'check_circle')).isPresent()).toBeTruthy();\n\n                expect(stepNavItems[2].getText()).toBe('gamepad\\n2.3: Explore the concepts');\n                stepNavItems[2].element(by.tagName('button')).click();   // Go to step 2.3.\n                expect(browser.getCurrentUrl()).toEqual('http://localhost:8080/wise/project/demo#/vle/node5');\n            });\n        });\n    });\n\n    it('should allow user to jump to a step by changing the URL path', () => {\n        browser.get('http://localhost:8080/wise/project/demo#/vle/node24');  // User changes the URL\n        browser.waitForAngular();   // wait for Angular to load\n        expect(element(by.model(\"stepToolsCtrl.toNodeId\")).getText()).toBe('3.4: Feature Selection');\n\n        // Click on the next button and expect to go to the next step\n        nextButton.click();\n        expect(browser.getCurrentUrl()).toEqual('http://localhost:8080/wise/project/demo#/vle/node25');\n        expect(element(by.model(\"stepToolsCtrl.toNodeId\")).getText()).toBe('4.1: Sketch Your Design');\n\n        nextButton.click();\n        expect(browser.getCurrentUrl()).toEqual('http://localhost:8080/wise/project/demo#/vle/node26');\n        expect(element(by.model(\"stepToolsCtrl.toNodeId\")).getText()).toBe('4.2: Scooter Materials List');\n\n        // Click on the previous button and expect to go back to the previous step\n        previousButton.click();\n        expect(browser.getCurrentUrl()).toEqual('http://localhost:8080/wise/project/demo#/vle/node25');\n        expect(element(by.model(\"stepToolsCtrl.toNodeId\")).getText()).toBe('4.1: Sketch Your Design');\n    });\n\n    it('should allow preview user to view the account menu', () => {\n        accountButton.click();   // Open the Account Menu by clicking on the account button\n        expect(accountMenu.getAttribute('aria-hidden')).toEqual(\"false\");  // Account Menu should be displayed\n\n        // The account menu should have the preview user account icon and the exit and sign out buttons\n        element.all(by.repeater('userName in themeCtrl.workgroupUserNames')).then((workgroupNames) => {\n            expect(workgroupNames[0].getText()).toBe('Preview Team');\n        });\n\n        var exitButton = element(by.xpath('//button[@aria-label=\"Exit\"]'));\n        expect(exitButton.isPresent()).toBeTruthy();\n        expect(exitButton.getText()).toEqual(\"EXIT\");\n        var logOutButton = element(by.xpath('//button[@aria-label=\"Sign Out\"]'));\n        expect(logOutButton.isPresent()).toBeTruthy();\n        expect(logOutButton.getText()).toEqual(\"SIGN OUT\");\n\n        // Hitting the escape key should dismiss the account menu\n        browser.actions().sendKeys(protractor.Key.ESCAPE).perform();\n        expect(accountMenu.getAttribute('aria-hidden')).toEqual(\"true\");  // Account Menu should be hidden\n\n        accountButton.click();  // Open the Account Menu by clicking on the account button\n        expect(accountMenu.getAttribute('aria-hidden')).toEqual(\"false\");  // Account Menu should be displayed\n\n        // Clicking outside of the Account Menu should dismiss the Account Menu\n        element(by.xpath('//body')).click();\n        expect(accountMenu.getAttribute('aria-hidden')).toEqual(\"true\");  // Account Menu should be hidden\n    });\n});"]}