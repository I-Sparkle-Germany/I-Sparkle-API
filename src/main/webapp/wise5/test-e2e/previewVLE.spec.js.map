{"version":3,"sources":["previewVLE.spec.es6"],"names":["nodeDropDownMenu","element","by","model","nextButton","id","prevButton","closeNodeButton","accountButton","accountMenu","cssContainingText","notificationButton","notificationMenu","hasClass","cls","getAttribute","then","classes","split","indexOf","shouldBePresent","elements","expect","isPresent","toBeTruthy","shouldBeHidden","toEqual","shouldBeDisplayed","shouldBeDisabled","shouldBeEnabled","urlShouldBe","expectedURL","browser","getCurrentUrl","nodeDropDownMenuShouldBe","dropDownText","getText","toBe","describe","beforeAll","get","wait","it","getTitle","nodeContent","click","all","repeater","stepSelectOptions","css","groupNavItems","activity1","activity2","className","stepNavItems","toBeFalsy","tagName","workgroupNames","exitButton","logOutButton","actions","sendKeys","protractor","Key","ESCAPE","perform","xpath","notificationDialogTitle","isDisplayed","notificationDialogContent"],"mappings":"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","file":"previewVLE.spec.js","sourcesContent":["\nlet nodeDropDownMenu = element(by.model(\"stepToolsCtrl.toNodeId\"));\nlet nextButton = element(by.id('nextButton'));\nlet prevButton = element(by.id('prevButton'));\nlet closeNodeButton = element(by.id('closeNodeButton'));\nlet accountButton = element(by.id('openAccountMenuButton'));\nlet accountMenu = element(by.cssContainingText('.md-open-menu-container','Preview Team'));\nlet notificationButton = element(by.id('viewNotificationsButton'));\nlet notificationMenu = element(by.cssContainingText('.md-open-menu-container','Alerts'));\n\nfunction hasClass(element, cls) {\n  return element.getAttribute('class').then((classes) => {\n    return classes.split(' ').indexOf(cls) !== -1;\n  });\n}\n\nfunction shouldBePresent(elements) {\n  for (let element of elements) {\n    expect(element.isPresent()).toBeTruthy();\n  }\n}\n\nfunction shouldBeHidden(elements) {\n  for (let element of elements) {\n    expect(element.getAttribute('aria-hidden')).toEqual(\"true\")\n  }\n}\n\nfunction shouldBeDisplayed(elements) {\n  for (let element of elements) {\n    expect(element.getAttribute('aria-hidden')).toEqual(\"false\");\n  }\n}\n\nfunction shouldBeDisabled(elements) {\n  for (let element of elements) {\n    expect(hasClass(element, \"disabled\"));\n  }\n}\n\nfunction shouldBeEnabled(elements) {\n  for (let element of elements) {\n    expect(!hasClass(element, \"disabled\"));\n  }\n}\n\nfunction urlShouldBe(expectedURL) {\n  expect(browser.getCurrentUrl()).toEqual(expectedURL);\n}\n\nfunction nodeDropDownMenuShouldBe(dropDownText) {\n  expect(nodeDropDownMenu.getText()).toBe(dropDownText);\n}\n\ndescribe('WISE5 Student VLE Preview', () => {\n\n  beforeAll(() => {\n    browser.get('http://localhost:8080/wise/project/demo#/vle/node1');\n    browser.wait(function() {\n      return nodeDropDownMenu.isPresent()\n    }, 5000);\n  });\n\n  it('should load node 1 and show UI elements on the page', () => {\n    expect(browser.getTitle()).toEqual('WISE');\n    nodeDropDownMenuShouldBe('1.1: HTML Step');\n    shouldBePresent([prevButton, nextButton, closeNodeButton,\n      accountButton, accountMenu, notificationButton, notificationMenu]);\n    shouldBeHidden([accountMenu, notificationMenu]);\n  });\n\n  it('should show step content on the page', () => {\n    let nodeContent = element(by.cssContainingText('.node-content','This is a step where authors can enter their own html.'));\n    shouldBePresent([nodeContent]);\n    shouldBeEnabled([nextButton]);\n    shouldBeDisabled([prevButton]);\n  });\n\n  it('should navigate next and previous steps using the buttons', () => {\n    nextButton.click();\n    urlShouldBe('http://localhost:8080/wise/project/demo#/vle/node2');\n    nodeDropDownMenuShouldBe('1.2: Open Response Step');\n    shouldBeEnabled([prevButton, nextButton]);\n    let nodeContent = element(by.cssContainingText('.node-content','This is a step where students enter text.'));\n    shouldBePresent([nodeContent]);\n\n    nextButton.click();\n    urlShouldBe('http://localhost:8080/wise/project/demo#/vle/node3');\n    nodeDropDownMenuShouldBe('1.3: Open Response Step Auto Graded');\n    nodeContent = element(by.cssContainingText('.node-content','Explain how the sun helps animals survive.'));\n    shouldBePresent([nodeContent]);\n\n    prevButton.click();\n    urlShouldBe('http://localhost:8080/wise/project/demo#/vle/node2');\n    nodeDropDownMenuShouldBe('1.2: Open Response Step');\n  });\n\n  it('should allow user to jump to a step using the navigation drop-down menu', () => {\n    nodeDropDownMenu.click();\n    element.all(by.repeater(\"item in stepToolsCtrl.idToOrder | toArray | orderBy : 'order'\")).then((stepSelectOptions) => {\n      expect(stepSelectOptions[1].element(by.css('.node-select__text')).getText()).toBe(\"1.1: HTML Step\");\n      expect(stepSelectOptions[7].element(by.css('.node-select__text')).getText()).toBe(\"1.7: Challenge Question Step\");\n      stepSelectOptions[7].element(by.css('.node-select__text')).click();\n      urlShouldBe('http://localhost:8080/wise/project/demo#/vle/node7');\n    });\n  });\n\n  it('should display the group view and allow user to collapse/expand group navitems', () => {\n    closeNodeButton.click();\n    urlShouldBe('http://localhost:8080/wise/project/demo#/vle/group1');\n\n    element.all(by.repeater('id in navCtrl.rootNode.ids')).then((groupNavItems) => {\n      let activity1 = groupNavItems[0];\n      let activity2 = groupNavItems[1];\n\n      expect(activity1.element(by.className('md-title')).getText()).toEqual('1: Example Steps');\n      expect(activity2.element(by.className('md-title')).getText()).toEqual('2: Example Features');\n\n      // activity 1 should be expanded, Activity 2 should be collapsed\n      expect(hasClass(activity1, 'expanded')).toBe(true);\n      expect(hasClass(activity2, 'expanded')).toBe(false);\n\n      // check for completion icons for steps in Activity 1\n      activity1.all(by.repeater('childId in navitemCtrl.item.ids')).then((stepNavItems) => {\n\n        // step 1.1 should be completed because it's an HTML step and we visited it\n        expect(stepNavItems[0].getText()).toBe('school\\n1.1: HTML Step check_circle');\n        expect(stepNavItems[0].element(by.cssContainingText('.material-icons', 'check_circle')).isPresent()).toBeTruthy();\n\n        // step 1.2 should not be completed yet\n        expect(stepNavItems[1].getText()).toBe('school\\n1.2: Open Response Step');\n        expect(stepNavItems[1].element(by.cssContainingText('.material-icons', 'check_circle')).isPresent()).toBeFalsy();\n\n        // step 1.7 node7 (the previous step we were on) should be highlighted because we came from it\n        expect(stepNavItems[6].getText()).toBe('school\\n1.7: Challenge Question Step');\n        expect(hasClass(stepNavItems[6], 'prev')).toBe(true);  // should have 'prev' class\n        expect(stepNavItems[6].element(by.cssContainingText('.material-icons', 'check_circle')).isPresent()).toBeFalsy();\n      });\n\n      // activity 2 should not be expanded yet, so expand it\n      activity2.element(by.className('nav-item--card__content')).click();\n      expect(hasClass(activity2, 'expanded')).toBe(true);\n      expect(hasClass(activity1, 'expanded')).toBe(true);  // activity 1 should also be expanded still\n\n      // check that steps in activity 2 displays the step title and icon\n      activity2.all(by.repeater('childId in navitemCtrl.item.ids')).then((stepNavItems) => {\n        expect(stepNavItems[0].getText()).toBe('school\\n2.1: Show Previous Work 1');\n        expect(stepNavItems[1].getText()).toBe('school\\n2.2: Show Previous Work 2');\n        expect(stepNavItems[2].getText()).toBe('school\\n2.3: Import Work 1');\n        // go to step 2.3.\n        stepNavItems[2].element(by.tagName('button')).click();\n        urlShouldBe('http://localhost:8080/wise/project/demo#/vle/node22');\n      });\n    });\n  });\n\n  it('should allow user to jump to a step by changing the URL path', () => {\n    // the user changes the URL\n    browser.get('http://localhost:8080/wise/project/demo#/vle/node11');\n    expect(browser.getTitle()).toEqual('WISE');\n    nodeDropDownMenuShouldBe('1.11: Draw Step');\n  });\n\n  it('should allow user to move to a different step with next and prev buttons', () => {\n    nodeDropDownMenuShouldBe('1.11: Draw Step');\n\n    nextButton.click();\n    urlShouldBe('http://localhost:8080/wise/project/demo#/vle/node12');\n    nodeDropDownMenuShouldBe('1.12: Draw Step Auto Graded');\n\n    nextButton.click();\n    urlShouldBe('http://localhost:8080/wise/project/demo#/vle/node13');\n    nodeDropDownMenuShouldBe('1.13: Brainstorm Step');\n\n    prevButton.click();\n    urlShouldBe('http://localhost:8080/wise/project/demo#/vle/node12');\n    nodeDropDownMenuShouldBe('1.12: Draw Step Auto Graded');\n  });\n\n  it('should allow preview user to view the account menu', () => {\n    accountButton.click();\n    shouldBeDisplayed([accountMenu]);\n\n    // account menu should have the preview user account icon and the exit and sign out buttons\n    element.all(by.repeater('userName in themeCtrl.workgroupUserNames')).then((workgroupNames) => {\n      expect(workgroupNames[0].getText()).toBe('Preview Team');\n    });\n\n    let exitButton = element(by.id('goHomeButton'));\n    let logOutButton = element(by.id('signOutButton'));\n    shouldBePresent([exitButton, logOutButton]);\n\n    // hitting the escape key should dismiss the account menu\n    browser.actions().sendKeys(protractor.Key.ESCAPE).perform();\n    shouldBeHidden([accountMenu]);\n\n    accountButton.click();\n    shouldBeDisplayed([accountMenu]);\n\n    // clicking outside of the Account Menu should dismiss the Account Menu\n    element(by.xpath('//body')).click();\n    shouldBeHidden([accountMenu]);\n  });\n\n  it('should allow preview user to view the notification menu', () => {\n    notificationButton.click();   // Open the Notification Menu by clicking on the notification button\n    shouldBeDisplayed([notificationMenu]);\n\n    // notification menu should have the Alerts title and say that there are no alerts.\n    let notificationDialogTitle = element(by.xpath('//md-toolbar/span/span[@translate=\"notificationsTitle\"]'));\n    expect(notificationDialogTitle.isDisplayed()).toBeTruthy();\n    expect(notificationDialogTitle.getText()).toEqual(\"Alerts\");\n\n    let notificationDialogContent = element(by.xpath('//md-content/div/span[@translate=\"noAlerts\"]'));\n    expect(notificationDialogContent.isDisplayed()).toBeTruthy();\n    expect(notificationDialogContent.getText()).toEqual(\"Hi there! You currently have no alerts.\");\n\n    // hitting the escape key should dismiss the notification menu\n    browser.actions().sendKeys(protractor.Key.ESCAPE).perform();\n    shouldBeHidden([notificationMenu]);\n\n    notificationButton.click();\n    shouldBeDisplayed([notificationMenu]);\n\n    // clicking outside of the Notification Menu should dismiss the Notification Menu\n    element(by.xpath('//body')).click();\n    shouldBeHidden([notificationMenu]);\n  });\n});\n"]}