{"version":3,"sources":["setUpRun.spec.es6"],"names":[],"mappings":"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","file":"setUpRun.spec.js","sourcesContent":["// E2E test for Setting up a run. The project we created in authoringTool.spec.es6 should now be available in the Project Library\ndescribe('WISE Setting Up a Run', () => {\n\n    function hasClass(element, cls) {\n        return element.getAttribute('class').then((classes) => {\n            return classes.split(' ').indexOf(cls) !== -1;\n        });\n    };\n\n    it('should require teacher user to log in to view the project library', () => {\n        browser.ignoreSynchronization = true;  // doesn't use Angular\n        browser.get('http://localhost:8080/wise/login');\n\n        expect(browser.getTitle()).toEqual('Sign In');\n    });\n\n    it('should log in using preview username and password and open the project library', () => {\n        browser.ignoreSynchronization = true;  // doesn't use Angular\n        $('#username').sendKeys('preview');\n        $('#password').sendKeys('wise');\n        $('#signInButton').click();\n        expect(browser.getCurrentUrl()).toEqual('http://localhost:8080/wise/teacher');\n        expect(browser.getTitle()).toEqual('WISE Teacher Dashboard');\n\n        // click on the project library link\n        let projectLibraryLink = $('#projectLibraryLink');\n        expect(projectLibraryLink.isPresent()).toBeTruthy();\n        projectLibraryLink.click();\n\n        // check that the user is now on the Project Library page and has projects\n        expect(browser.getTitle()).toEqual('Project Library');\n        expect(browser.getCurrentUrl()).toEqual('http://localhost:8080/wise/teacher/management/library.html');\n\n        // search for the newly created project\n        let keywordFilterInput = $(\"#activeProjects input[type=text]\");\n        expect(keywordFilterInput.isPresent()).toBeTruthy();\n        keywordFilterInput.sendKeys(\"My Science Project\");\n        keywordFilterInput.sendKeys(protractor.Key.ENTER);\n\n        // filter by owned project\n        let ownedSearch = $(\"#activeProjects #owned_search_0 a\");\n        expect(ownedSearch.isPresent()).toBeTruthy();\n        ownedSearch.click();\n\n        // get the first project in the filter result, which is the WISE5 project we created earlier.\n        let setUpRunLink = $(\".setupRun\");\n        setUpRunLink.click();\n    });\n\n    it('should display the set up run wizard page 1', () => {\n        // check that the user is now on the set up run wizard page 1\n        expect(browser.getTitle()).toEqual('Setting Up a Project Run - Step 1');\n        let nextButton = $('#nextButt');\n        expect(nextButton.isPresent()).toBeTruthy();\n        nextButton.click();\n    });\n\n    it('should display the set up run wizard page 2', () => {\n        // check that the user is now on the set up run wizard page 2\n        expect(browser.getTitle()).toEqual('Setting Up a Project Run - Step 2');\n        let nextButton = $('#nextButt');\n        expect(nextButton.isPresent()).toBeTruthy();\n        nextButton.click();\n    });\n\n    it('should display the set up run wizard page 3', () => {\n        // check that the user is now on the set up run wizard page 3\n        expect(browser.getTitle()).toEqual('Setting Up a Project Run - Step 3');\n\n        // choose period 1\n        $('#PERIOD_1').click();\n\n        let nextButton = $('#nextButt');\n        expect(nextButton.isPresent()).toBeTruthy();\n        nextButton.click();\n    });\n\n    it('should display the set up run wizard page 4', () => {\n        // check that the user is now on the set up run wizard page 4\n        expect(browser.getTitle()).toEqual('Setting Up a Project Run - Step 4');\n        let nextButton = $('#nextButt');\n        expect(nextButton.isPresent()).toBeTruthy();\n        nextButton.click();\n    });\n\n    it('should display the set up run wizard page 5', () => {\n        // check that the user is now on the set up run wizard page 5\n        expect(browser.getTitle()).toEqual('Setting Up a Project Run - Step 5');\n        let submitFormButton = $('#submit_form');\n        expect(submitFormButton.isPresent()).toBeTruthy();\n        submitFormButton.click();\n    });\n\n    var newRunId;\n    var newRunCode;\n\n    it('should display the classroom run created confirmation page', () => {\n        // check that the user is now on the classroom run created confirmation page\n        expect(browser.getTitle()).toEqual('Classroom Run Created!');\n        let runCode = $('#runCode').getText();\n        runCode.then((value) => {\n            newRunCode = value;\n        });\n        let runId = $('#runId').getText();\n        runId.then((value) => {\n            newRunId = value;\n        });\n        let myClassroomRunLink = $('#myClassroomRunLink');\n        expect(myClassroomRunLink.isPresent()).toBeTruthy();\n        myClassroomRunLink.click();\n    });\n\n    it('should display the my classroom runs page', () => {\n        // check that the user is now on the my classroom runs page and the new run is listed.\n        expect(browser.getTitle()).toEqual('My Classroom Runs');\n        expect(browser.getCurrentUrl()).toEqual('http://localhost:8080/wise/teacher/management/classroomruns.html');\n        expect(element(by.cssContainingText('.runRow .accesscode', newRunCode)).isPresent()).toBeTruthy();\n    });\n\n    it('should sign out', () => {\n        browser.ignoreSynchronization = true;  // doesn't use Angular\n        var signOutButton = $(\"#signOut\");\n        expect(signOutButton.isPresent()).toBeTruthy();\n        signOutButton.click();\n        expect(browser.getTitle()).toEqual('Web-based Inquiry Science Environment (WISE)');\n        expect(browser.getCurrentUrl()).toEqual('http://localhost:8080/wise/');\n    });\n});"]}