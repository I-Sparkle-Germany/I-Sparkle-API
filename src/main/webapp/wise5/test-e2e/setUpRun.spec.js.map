{"version":3,"sources":["setUpRun.spec.es6"],"names":[],"mappings":"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","file":"setUpRun.spec.js","sourcesContent":["// E2E test for Setting up a run. The project we created in authoringTool.spec.es6 should now be available in the Project Library\ndescribe('WISE Setting Up a Run', () => {\n\n    function hasClass(element, cls) {\n        return element.getAttribute('class').then((classes) => {\n            return classes.split(' ').indexOf(cls) !== -1;\n        });\n    };\n\n    it('should require teacher user to log in to view the project library', () => {\n        browser.ignoreSynchronization = true;  // doesn't use Angular\n        browser.get('http://localhost:8080/wise/login');\n\n        expect(browser.getTitle()).toEqual('Sign In');\n    });\n\n    it('should log in using preview username and password and open the project library', () => {\n        browser.ignoreSynchronization = true;  // doesn't use Angular\n        $('#username').sendKeys('preview');\n        $('#password').sendKeys('wise');\n        $('#signInButton').click();\n        expect(browser.getCurrentUrl()).toEqual('http://localhost:8080/wise/teacher');\n        expect(browser.getTitle()).toEqual('WISE Teacher Dashboard');\n\n        // click on the project library link\n        let projectLibraryLink = $('#projectLibraryLink');\n        expect(projectLibraryLink.isPresent()).toBeTruthy();\n        projectLibraryLink.click();\n\n        // check that the user is now on the Project Library page and has projects\n        expect(browser.getTitle()).toEqual('Project Library');\n        expect(browser.getCurrentUrl()).toEqual('http://localhost:8080/wise/teacher/management/library.html');\n\n        // search for the newly created project\n        let keywordFilterInput = $(\"#activeProjects input[type=text]\");\n        expect(keywordFilterInput.isPresent()).toBeTruthy();\n        keywordFilterInput.sendKeys(\"My Science Project\");\n        keywordFilterInput.sendKeys(protractor.Key.ENTER);\n\n        // filter by owned project\n        let ownedSearch = $(\"#activeProjects #owned_search_0 a\");\n        expect(ownedSearch.isPresent()).toBeTruthy();\n        ownedSearch.click();\n\n        // get the first project in the filter result, which is the WISE5 project we created earlier.\n        let setUpRunLink = $(\".setupRun\");\n        setUpRunLink.click();\n    });\n\n    it('should display the set up run wizard page 1', () => {\n        // check that the user is now on the set up run wizard page 1\n        expect(browser.getTitle()).toEqual('Setting Up a Project Run - Step 1');\n        let nextButton = $('#nextButt');\n        expect(nextButton.isPresent()).toBeTruthy();\n        nextButton.click();\n    });\n\n    it('should display the set up run wizard page 2', () => {\n        // check that the user is now on the set up run wizard page 2\n        expect(browser.getTitle()).toEqual('Setting Up a Project Run - Step 2');\n        let nextButton = $('#nextButt');\n        expect(nextButton.isPresent()).toBeTruthy();\n        nextButton.click();\n    });\n\n    it('should display the set up run wizard page 3', () => {\n        // check that the user is now on the set up run wizard page 3\n        expect(browser.getTitle()).toEqual('Setting Up a Project Run - Step 3');\n\n        // choose period 1\n        $('#PERIOD_1').click();\n\n        let nextButton = $('#nextButt');\n        expect(nextButton.isPresent()).toBeTruthy();\n        nextButton.click();\n    });\n\n    it('should display the set up run wizard page 4', () => {\n        // check that the user is now on the set up run wizard page 4\n        expect(browser.getTitle()).toEqual('Setting Up a Project Run - Step 4');\n        let nextButton = $('#nextButt');\n        expect(nextButton.isPresent()).toBeTruthy();\n        nextButton.click();\n    });\n\n    it('should display the set up run wizard page 5', () => {\n        // check that the user is now on the set up run wizard page 5\n        expect(browser.getTitle()).toEqual('Setting Up a Project Run - Step 5');\n        let submitFormButton = $('#submit_form');\n        expect(submitFormButton.isPresent()).toBeTruthy();\n        submitFormButton.click();\n    });\n\n    var newRunId;\n    var newRunCode;\n\n    it('should display the classroom run created confirmation page', () => {\n        // check that the user is now on the classroom run created confirmation page\n        expect(browser.getTitle()).toEqual('Classroom Run Created!');\n        let runCode = $('#runCode').getText();\n        runCode.then((value) => {\n            newRunCode = value;\n        });\n        let runId = $('#runId').getText();\n        runId.then((value) => {\n            newRunId = value;\n        });\n        let myClassroomRunLink = $('#myClassroomRunLink');\n        expect(myClassroomRunLink.isPresent()).toBeTruthy();\n        myClassroomRunLink.click();\n    });\n\n    it('should display the my classroom runs page', () => {\n        // check that the user is now on the my classroom runs page and the new run is listed.\n        expect(browser.getTitle()).toEqual('My Classroom Runs');\n        expect(browser.getCurrentUrl()).toEqual('http://localhost:8080/wise/teacher/management/classroomruns.html');\n        expect(element(by.cssContainingText('.runRow .accesscode', newRunCode)).isPresent()).toBeTruthy();\n    });\n\n    it('should sign out', () => {\n        browser.ignoreSynchronization = true;  // doesn't use Angular\n        var signOutButton = $(\"#signOut\");\n        expect(signOutButton.isPresent()).toBeTruthy();\n        signOutButton.click();\n        expect(browser.getTitle()).toEqual('Web-based Inquiry Science Environment (WISE)');\n        expect(browser.getCurrentUrl()).toEqual('http://localhost:8080/wise/');\n    });\n});"]}