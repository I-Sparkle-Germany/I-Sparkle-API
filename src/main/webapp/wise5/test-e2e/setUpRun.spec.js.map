{"version":3,"sources":["setUpRun.spec.es6"],"names":[],"mappings":";;;AACA,SAAS,uBAAT,EAAkC,YAAM;;AAEpC,aAAS,QAAT,CAAkB,OAAlB,EAA2B,GAA3B,EAAgC;AAC5B,eAAO,QAAQ,YAAR,CAAqB,OAArB,EAA8B,IAA9B,CAAmC,UAAC,OAAD,EAAa;AACnD,mBAAO,QAAQ,KAAR,CAAc,GAAd,EAAmB,OAAnB,CAA2B,GAA3B,MAAoC,CAAC,CAAD,CADQ;SAAb,CAA1C,CAD4B;KAAhC;;;;;;;;AAFoC,aAc3B,oBAAT,CAA8B,QAA9B,EAAwC;AACpC,YAAI,UAAJ,CADoC;;AAGpC,eAAO,QAAQ,aAAR,GAAwB,IAAxB,CAA6B,SAAS,eAAT,CAAyB,GAAzB,EAA8B;AAC1D,yBAAa,GAAb,CAD0D;SAA9B,CAA7B,CAGL,IAHK,CAGA,SAAS,oBAAT,GAAgC;AAC/B,mBAAO,QAAQ,IAAR,CAAa,SAAS,oBAAT,GAAgC;AAChD,uBAAO,QAAQ,aAAR,GAAwB,IAAxB,CAA6B,SAAS,iBAAT,CAA2B,GAA3B,EAAgC;AAChE,2BAAO,SAAS,IAAT,CAAc,GAAd,CAAP,CADgE;iBAAhC,CAApC,CADgD;aAAhC,CAApB,CAD+B;SAAhC,CAHP,CAHoC;KAAxC,CAdoC;;AA8BpC,OAAG,mEAAH,EAAwE,YAAM;AAC1E,gBAAQ,qBAAR,GAAgC,IAAhC;AAD0E,eAE1E,CAAQ,GAAR,CAAY,kCAAZ,EAF0E;;AAI1E,eAAO,QAAQ,QAAR,EAAP,EAA2B,OAA3B,CAAmC,SAAnC,EAJ0E;KAAN,CAAxE,CA9BoC;;AAqCpC,OAAG,gFAAH,EAAqF,YAAM;AACvF,gBAAQ,qBAAR,GAAgC,IAAhC;AADuF,eAEvF,CAAQ,GAAG,EAAH,CAAM,UAAN,CAAR,EAA2B,QAA3B,CAAoC,SAApC,EAFuF;AAGvF,gBAAQ,GAAG,EAAH,CAAM,UAAN,CAAR,EAA2B,QAA3B,CAAoC,MAApC,EAHuF;AAIvF,gBAAQ,GAAG,EAAH,CAAM,cAAN,CAAR,EAA+B,KAA/B,GAJuF;AAKvF,eAAO,QAAQ,aAAR,EAAP,EAAgC,OAAhC,CAAwC,oCAAxC,EALuF;AAMvF,eAAO,QAAQ,QAAR,EAAP,EAA2B,OAA3B,CAAmC,wBAAnC;;;AANuF,YASnF,qBAAqB,QAAQ,GAAG,EAAH,CAAM,oBAAN,CAAR,CAArB,CATmF;AAUvF,eAAO,mBAAmB,SAAnB,EAAP,EAAuC,UAAvC,GAVuF;AAWvF,2BAAmB,KAAnB;;;AAXuF,cAcvF,CAAO,QAAQ,QAAR,EAAP,EAA2B,OAA3B,CAAmC,iBAAnC,EAduF;AAevF,eAAO,QAAQ,aAAR,EAAP,EAAgC,OAAhC,CAAwC,4DAAxC,EAfuF;AAgBvF,YAAI,eAAe,QAAQ,GAAG,SAAH,CAAa,UAAb,CAAR,CAAf,CAhBmF;AAiBvF,eAAO,aAAa,SAAb,EAAP,EAAiC,UAAjC,GAjBuF;AAkBvF,qBAAa,KAAb,GAlBuF;KAAN,CAArF,CArCoC;;AA0DpC,OAAG,6CAAH,EAAkD,YAAM;;AAEpD,eAAO,QAAQ,QAAR,EAAP,EAA2B,OAA3B,CAAmC,mCAAnC,EAFoD;AAGpD,YAAI,aAAa,QAAQ,GAAG,EAAH,CAAM,UAAN,CAAR,CAAb,CAHgD;AAIpD,eAAO,WAAW,SAAX,EAAP,EAA+B,UAA/B,GAJoD;AAKpD,mBAAW,KAAX,GALoD;KAAN,CAAlD,CA1DoC;;AAkEpC,OAAG,6CAAH,EAAkD,YAAM;;AAEpD,eAAO,QAAQ,QAAR,EAAP,EAA2B,OAA3B,CAAmC,mCAAnC,EAFoD;AAGpD,YAAI,aAAa,QAAQ,GAAG,EAAH,CAAM,UAAN,CAAR,CAAb,CAHgD;AAIpD,eAAO,WAAW,SAAX,EAAP,EAA+B,UAA/B,GAJoD;AAKpD,mBAAW,KAAX,GALoD;KAAN,CAAlD,CAlEoC;;AA0EpC,OAAG,6CAAH,EAAkD,YAAM;;AAEpD,eAAO,QAAQ,QAAR,EAAP,EAA2B,OAA3B,CAAmC,mCAAnC;;;AAFoD,eAKpD,CAAQ,GAAG,EAAH,CAAM,UAAN,CAAR,EAA2B,KAA3B,GALoD;;AAOpD,YAAI,aAAa,QAAQ,GAAG,EAAH,CAAM,UAAN,CAAR,CAAb,CAPgD;AAQpD,eAAO,WAAW,SAAX,EAAP,EAA+B,UAA/B,GARoD;AASpD,mBAAW,KAAX,GAToD;KAAN,CAAlD,CA1EoC;;AAsFpC,OAAG,6CAAH,EAAkD,YAAM;;AAEpD,eAAO,QAAQ,QAAR,EAAP,EAA2B,OAA3B,CAAmC,mCAAnC,EAFoD;AAGpD,YAAI,aAAa,QAAQ,GAAG,EAAH,CAAM,UAAN,CAAR,CAAb,CAHgD;AAIpD,eAAO,WAAW,SAAX,EAAP,EAA+B,UAA/B,GAJoD;AAKpD,mBAAW,KAAX,GALoD;KAAN,CAAlD,CAtFoC;;AA8FpC,OAAG,6CAAH,EAAkD,YAAM;;AAEpD,eAAO,QAAQ,QAAR,EAAP,EAA2B,OAA3B,CAAmC,mCAAnC,EAFoD;AAGpD,YAAI,mBAAmB,QAAQ,GAAG,EAAH,CAAM,aAAN,CAAR,CAAnB,CAHgD;AAIpD,eAAO,iBAAiB,SAAjB,EAAP,EAAqC,UAArC,GAJoD;AAKpD,yBAAiB,KAAjB,GALoD;KAAN,CAAlD,CA9FoC;;AAsGpC,QAAI,QAAJ,CAtGoC;AAuGpC,QAAI,UAAJ,CAvGoC;;AAyGpC,OAAG,4DAAH,EAAiE,YAAM;;AAEnE,eAAO,QAAQ,QAAR,EAAP,EAA2B,OAA3B,CAAmC,wBAAnC,EAFmE;AAGnE,YAAI,UAAU,QAAQ,GAAG,EAAH,CAAM,SAAN,CAAR,EAA0B,OAA1B,EAAV,CAH+D;AAInE,gBAAQ,IAAR,CAAa,UAAC,KAAD,EAAW;AACpB,yBAAa,KAAb,CADoB;SAAX,CAAb,CAJmE;AAOnE,YAAI,QAAQ,QAAQ,GAAG,EAAH,CAAM,OAAN,CAAR,EAAwB,OAAxB,EAAR,CAP+D;AAQnE,cAAM,IAAN,CAAW,UAAC,KAAD,EAAW;AAClB,uBAAW,KAAX,CADkB;SAAX,CAAX,CARmE;AAWnE,YAAI,qBAAqB,QAAQ,GAAG,EAAH,CAAM,oBAAN,CAAR,CAArB,CAX+D;AAYnE,eAAO,mBAAmB,SAAnB,EAAP,EAAuC,UAAvC,GAZmE;AAanE,2BAAmB,KAAnB,GAbmE;KAAN,CAAjE,CAzGoC;;AAyHpC,OAAG,2CAAH,EAAgD,YAAM;;AAElD,eAAO,QAAQ,QAAR,EAAP,EAA2B,OAA3B,CAAmC,mBAAnC,EAFkD;AAGlD,eAAO,QAAQ,aAAR,EAAP,EAAgC,OAAhC,CAAwC,kEAAxC,EAHkD;AAIlD,eAAO,QAAQ,GAAG,iBAAH,CAAqB,qBAArB,EAA4C,UAA5C,CAAR,EAAiE,SAAjE,EAAP,EAAqF,UAArF,GAJkD;KAAN,CAAhD,CAzHoC;;AAiIpC,OAAG,iBAAH,EAAsB,YAAM;AACxB,gBAAQ,qBAAR,GAAgC,IAAhC;AADwB,YAEpB,gBAAgB,QAAQ,GAAG,EAAH,CAAM,SAAN,CAAR,CAAhB,CAFoB;AAGxB,eAAO,cAAc,SAAd,EAAP,EAAkC,UAAlC,GAHwB;AAIxB,sBAAc,KAAd,GAJwB;AAKxB,eAAO,QAAQ,QAAR,EAAP,EAA2B,OAA3B,CAAmC,8CAAnC,EALwB;AAMxB,eAAO,QAAQ,aAAR,EAAP,EAAgC,OAAhC,CAAwC,6BAAxC,EANwB;KAAN,CAAtB,CAjIoC;CAAN,CAAlC","file":"setUpRun.spec.js","sourcesContent":["// E2E test for Setting up a run. The project we created in authoringTool.spec.es6 should now be available in the Project Library\ndescribe('WISE Setting Up a Run', () => {\n\n    function hasClass(element, cls) {\n        return element.getAttribute('class').then((classes) => {\n            return classes.split(' ').indexOf(cls) !== -1;\n        });\n    };\n\n    /**\n     * @name waitForUrlToChangeTo\n     * @description Wait until the URL changes to match a provided regex\n     * @param {RegExp} urlRegex wait until the URL changes to match this regex\n     * @returns {!webdriver.promise.Promise} Promise\n     */\n    function waitForUrlToChangeTo(urlRegex) {\n        var currentUrl;\n\n        return browser.getCurrentUrl().then(function storeCurrentUrl(url) {\n                currentUrl = url;\n            }\n        ).then(function waitForUrlToChangeTo() {\n                return browser.wait(function waitForUrlToChangeTo() {\n                    return browser.getCurrentUrl().then(function compareCurrentUrl(url) {\n                        return urlRegex.test(url);\n                    });\n                });\n            }\n        );\n    };\n\n    it('should require teacher user to log in to view the project library', () => {\n        browser.ignoreSynchronization = true;  // doesn't use Angular\n        browser.get('http://localhost:8080/wise/login');\n\n        expect(browser.getTitle()).toEqual('Sign In');\n    });\n\n    it('should log in using preview username and password and open the project library', () => {\n        browser.ignoreSynchronization = true;  // doesn't use Angular\n        element(by.id('username')).sendKeys('preview');\n        element(by.id('password')).sendKeys('wise');\n        element(by.id('signInButton')).click();\n        expect(browser.getCurrentUrl()).toEqual('http://localhost:8080/wise/teacher');\n        expect(browser.getTitle()).toEqual('WISE Teacher Dashboard');\n\n        // click on the project library link\n        let projectLibraryLink = element(by.id('projectLibraryLink'));\n        expect(projectLibraryLink.isPresent()).toBeTruthy();\n        projectLibraryLink.click();\n\n        // check that the user is now on the Project Library page and has projects\n        expect(browser.getTitle()).toEqual('Project Library');\n        expect(browser.getCurrentUrl()).toEqual('http://localhost:8080/wise/teacher/management/library.html');\n        let setUpRunLink = element(by.className('setupRun'));\n        expect(setUpRunLink.isPresent()).toBeTruthy();\n        setUpRunLink.click();\n    });\n\n    it('should display the set up run wizard page 1', () => {\n        // check that the user is now on the set up run wizard page 1\n        expect(browser.getTitle()).toEqual('Setting Up a Project Run - Step 1');\n        let nextButton = element(by.id('nextButt'));\n        expect(nextButton.isPresent()).toBeTruthy();\n        nextButton.click();\n    });\n\n    it('should display the set up run wizard page 2', () => {\n        // check that the user is now on the set up run wizard page 2\n        expect(browser.getTitle()).toEqual('Setting Up a Project Run - Step 2');\n        let nextButton = element(by.id('nextButt'));\n        expect(nextButton.isPresent()).toBeTruthy();\n        nextButton.click();\n    });\n\n    it('should display the set up run wizard page 3', () => {\n        // check that the user is now on the set up run wizard page 3\n        expect(browser.getTitle()).toEqual('Setting Up a Project Run - Step 3');\n\n        // choose period 1\n        element(by.id('PERIOD_1')).click();\n\n        let nextButton = element(by.id('nextButt'));\n        expect(nextButton.isPresent()).toBeTruthy();\n        nextButton.click();\n    });\n\n    it('should display the set up run wizard page 4', () => {\n        // check that the user is now on the set up run wizard page 4\n        expect(browser.getTitle()).toEqual('Setting Up a Project Run - Step 4');\n        let nextButton = element(by.id('nextButt'));\n        expect(nextButton.isPresent()).toBeTruthy();\n        nextButton.click();\n    });\n\n    it('should display the set up run wizard page 5', () => {\n        // check that the user is now on the set up run wizard page 5\n        expect(browser.getTitle()).toEqual('Setting Up a Project Run - Step 5');\n        let submitFormButton = element(by.id('submit_form'));\n        expect(submitFormButton.isPresent()).toBeTruthy();\n        submitFormButton.click();\n    });\n\n    var newRunId;\n    var newRunCode;\n\n    it('should display the classroom run created confirmation page', () => {\n        // check that the user is now on the classroom run created confirmation page\n        expect(browser.getTitle()).toEqual('Classroom Run Created!');\n        let runCode = element(by.id('runCode')).getText();\n        runCode.then((value) => {\n            newRunCode = value;\n        });\n        let runId = element(by.id('runId')).getText();\n        runId.then((value) => {\n            newRunId = value;\n        });\n        let myClassroomRunLink = element(by.id('myClassroomRunLink'));\n        expect(myClassroomRunLink.isPresent()).toBeTruthy();\n        myClassroomRunLink.click();\n    });\n\n    it('should display the my classroom runs page', () => {\n        // check that the user is now on the my classroom runs page and the new run is listed.\n        expect(browser.getTitle()).toEqual('My Classroom Runs');\n        expect(browser.getCurrentUrl()).toEqual('http://localhost:8080/wise/teacher/management/classroomruns.html');\n        expect(element(by.cssContainingText('.runRow .accesscode', newRunCode)).isPresent()).toBeTruthy();\n\n    });\n\n    it('should sign out', () => {\n        browser.ignoreSynchronization = true;  // doesn't use Angular\n        let signOutButton = element(by.id('signOut'));\n        expect(signOutButton.isPresent()).toBeTruthy();\n        signOutButton.click();\n        expect(browser.getTitle()).toEqual('Web-based Inquiry Science Environment (WISE)');\n        expect(browser.getCurrentUrl()).toEqual('http://localhost:8080/wise/');\n    });\n});"]}