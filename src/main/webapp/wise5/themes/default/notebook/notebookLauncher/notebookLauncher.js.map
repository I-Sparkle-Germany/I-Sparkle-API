{"version":3,"sources":["notebookLauncher.es6"],"names":["NotebookLauncherController","$filter","$timeout","$translate","translationData","noteLabel","config","itemTypes","note","label","singular","tooltipVisible","$doCheck","isOpen","$event","notesVisible","open","target","stopPropagation","onOpen","value","event","$inject","NotebookLauncher","bindings","noteCount","template","controller"],"mappings":"AAAA;;;;;;;;;;IAEMA,0B;AACF,wCAAYC,OAAZ,EACYC,QADZ,EACsB;AAAA;;AAAA;;AAClB,aAAKD,OAAL,GAAeA,OAAf;AACA,aAAKC,QAAL,GAAgBA,QAAhB;;AAEA,aAAKC,UAAL,GAAkB,KAAKF,OAAL,CAAa,WAAb,CAAlB;;AAEA,aAAKG,eAAL,GAAuB;AACnBC,uBAAW,KAAKC,MAAL,CAAYC,SAAZ,CAAsBC,IAAtB,CAA2BC,KAA3B,CAAiCC;AADzB,SAAvB;;AAIA;AACA,aAAKC,cAAL,GAAsB,KAAtB;;AAEA,aAAKC,QAAL,GAAgB,YAAM;AAClB;AACA;AACA,gBAAI,MAAKC,MAAT,EAAiB;AACb,sBAAKX,QAAL,CAAc,YAAM;AAChB,0BAAKS,cAAL,GAAsB,MAAKE,MAA3B;AACH,iBAFD,EAEG,GAFH;AAGH,aAJD,MAIO;AACH,sBAAKF,cAAL,GAAsB,MAAKE,MAA3B;AACH;AACJ,SAVD;AAWH;;;;mCAEUC,M,EAAQ;AACf,gBAAI,KAAKC,YAAT,EAAuB;AACnB;AACH,aAFD,MAEO;AACH,qBAAKF,MAAL,GAAc,IAAd;AACH;AACJ;;;mCAEUC,M,EAAQ;AACf,gBAAI,KAAKC,YAAT,EAAuB;AACnB;AACH,aAFD,MAEO;AACH,qBAAKF,MAAL,GAAc,KAAd;AACH;AACJ;;;kCAESC,M,EAAQ;AACd,gBAAI,KAAKC,YAAT,EAAuB;AACnB,qBAAKC,IAAL,CAAUF,MAAV,EAAkB,KAAlB;AACH,aAFD,MAEO;AACH,qBAAKD,MAAL,GAAc,CAAC,KAAKA,MAApB;AACH;AACJ;;;6BAEIC,M,EAAQG,M,EAAQ;AACjBH,mBAAOI,eAAP;AACA,iBAAKC,MAAL,CAAY,EAACC,OAAOH,MAAR,EAAgBI,OAAOP,MAAvB,EAAZ;AACA,iBAAKD,MAAL,GAAc,KAAd;AACH;;;mCAEU;AACP,gBAAI,KAAKE,YAAT,EAAuB;AACnB,uBAAO,KAAKZ,UAAL,CAAgB,SAAhB,EAA2B,EAAEE,WAAW,KAAKC,MAAL,CAAYC,SAAZ,CAAsBC,IAAtB,CAA2BC,KAA3B,CAAiCC,QAA9C,EAA3B,CAAP;AACH,aAFD,MAEO;AACH,uBAAO,KAAKJ,MAAL,CAAYG,KAAnB;AACH;AACJ;;;;;;AAGLT,2BAA2BsB,OAA3B,GAAqC,CACjC,SADiC,EAEjC,UAFiC,CAArC;;AAKA,IAAMC,mBAAmB;AACrBC,cAAU;AACNlB,gBAAQ,GADF;AAENmB,mBAAW,GAFL;AAGNV,sBAAc,GAHR;AAINI,gBAAQ;AAJF,KADW;AAOrBO,0sEAPqB;AAyCrBC,gBAAY3B;AAzCS,CAAzB;;kBA4CeuB,gB","file":"notebookLauncher.js","sourcesContent":["\"use strict\";\r\n\r\nclass NotebookLauncherController {\r\n    constructor($filter,\r\n                $timeout) {\r\n        this.$filter = $filter;\r\n        this.$timeout = $timeout;\r\n        \r\n        this.$translate = this.$filter('translate');\r\n        \r\n        this.translationData = {\r\n            noteLabel: this.config.itemTypes.note.label.singular\r\n        }\r\n\r\n        //this.isOpen = false;\r\n        this.tooltipVisible = false;\r\n\r\n        this.$doCheck = () => {\r\n            // On opening, add a delayed property which shows tooltips after the speed dial has opened\r\n            // so that they have the proper position; if closing, immediately hide the tooltips\r\n            if (this.isOpen) {\r\n                this.$timeout(() => {\r\n                    this.tooltipVisible = this.isOpen;\r\n                }, 500);\r\n            } else {\r\n                this.tooltipVisible = this.isOpen;\r\n            }\r\n        }\r\n    }\r\n    \r\n    mouseenter($event) {\r\n        if (this.notesVisible) {\r\n            return;\r\n        } else {\r\n            this.isOpen = true;\r\n        }\r\n    }\r\n    \r\n    mouseleave($event) {\r\n        if (this.notesVisible) {\r\n            return;\r\n        } else {\r\n            this.isOpen = false;\r\n        }\r\n    }\r\n    \r\n    mainClick($event) {\r\n        if (this.notesVisible) {\r\n            this.open($event, 'new');\r\n        } else {\r\n            this.isOpen = !this.isOpen;\r\n        }\r\n    }\r\n\r\n    open($event, target) {\r\n        $event.stopPropagation();\r\n        this.onOpen({value: target, event: $event});\r\n        this.isOpen = false;\r\n    }\r\n    \r\n    fabLabel() {\r\n        if (this.notesVisible) {\r\n            return this.$translate('addNote', { noteLabel: this.config.itemTypes.note.label.singular });\r\n        } else {\r\n            return this.config.label;\r\n        }\r\n    }\r\n}\r\n\r\nNotebookLauncherController.$inject = [\r\n    '$filter',\r\n    '$timeout'\r\n];\r\n\r\nconst NotebookLauncher = {\r\n    bindings: {\r\n        config: '<',\r\n        noteCount: '<',\r\n        notesVisible: '<',\r\n        onOpen: '&'\r\n    },\r\n    template:\r\n        `<md-fab-speed-dial md-direction=\"up\" md-open=\"$ctrl.isOpen\"\r\n                            ng-mouseenter=\"$ctrl.mouseenter($event)\"\r\n                            ng-mouseleave=\"$ctrl.mouseleave($event)\"\r\n                            ng-click=\"$ctrl.mainClick($event)\"\r\n                            class=\"md-scale md-fab-bottom-right notebook-launcher\">\r\n            <md-fab-trigger>\r\n                <md-button aria-label=\"{{$ctrl.fabLabel()}}\" class=\"md-fab md-accent\">\r\n                    <md-icon ng-if=\"!$ctrl.notesVisible\">{{$ctrl.config.icon}}</md-icon>\r\n                    <md-icon ng-if=\"$ctrl.notesVisible\">add</md-icon>\r\n                    <span>{{$ctrl.noteCount}}</span>\r\n                </md-button>\r\n            </md-fab-trigger>\r\n            <md-fab-actions>\r\n                <div layout=\"column\" ng-show=\"!$ctrl.notesVisible\">\r\n                    <md-button ng-repeat=\"item in $ctrl.config.itemTypes | toArray\" ng-if=\"item.enabled && item.$key !== 'report'\"\r\n                               aria-label=\"{{item.label.link}}\" class=\"md-fab md-raised md-mini\"\r\n                               ng-click=\"$ctrl.open($event, item.type)\">\r\n                        <md-tooltip md-direction=\"left\" md-autohide=\"false\" md-visible=\"$ctrl.tooltipVisible && !$ctrl.notesVisible\">\r\n                            {{item.label.link}}\r\n                        </md-tooltip>\r\n\r\n                        <md-icon aria-label=\"{{item.label.link}}\" style=\"color: {{item.label.color}};\">{{item.label.icon}}</md-icon>\r\n                    </md-button>\r\n                    <md-button ng-if=\"$ctrl.config.enableAddNew\" aria-label=\"{{ 'addNote' | translate:$ctrl.translationData }}\" class=\"md-fab md-raised md-mini\"\r\n                               ng-click=\"$ctrl.open($event, 'new')\">\r\n                        <md-tooltip md-direction=\"left\" md-autohide=\"false\" md-visible=\"$ctrl.tooltipVisible && !$ctrl.notesVisible\">\r\n                            {{ 'addNote' | translate:$ctrl.translationData }}\r\n                        </md-tooltip>\r\n                        <md-icon class=\"accent\">{{$ctrl.config.addIcon}}</md-icon>\r\n                    </md-button>\r\n                </div>\r\n            </md-fab-actions>\r\n        </md-fab-speed-dial>`,\r\n    controller: NotebookLauncherController\r\n};\r\n\r\nexport default NotebookLauncher;\r\n"]}