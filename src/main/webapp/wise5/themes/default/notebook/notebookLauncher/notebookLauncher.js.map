{"version":3,"sources":["notebookLauncher.es6"],"names":["NotebookLauncherController","$filter","$timeout","$translate","translationData","noteLabel","config","itemTypes","note","label","singular","tooltipVisible","$doCheck","isOpen","$event","notesVisible","open","target","stopPropagation","onOpen","value","event","$inject","NotebookLauncher","bindings","noteCount","template","controller"],"mappings":"AAAA;;;;;;;;;;IAEMA,0B;AACF,wCAAYC,OAAZ,EACYC,QADZ,EACsB;AAAA;;AAAA;;AAClB,aAAKD,OAAL,GAAeA,OAAf;AACA,aAAKC,QAAL,GAAgBA,QAAhB;;AAEA,aAAKC,UAAL,GAAkB,KAAKF,OAAL,CAAa,WAAb,CAAlB;;AAEA,aAAKG,eAAL,GAAuB;AACnBC,uBAAW,KAAKC,MAAL,CAAYC,SAAZ,CAAsBC,IAAtB,CAA2BC,KAA3B,CAAiCC;AADzB,SAAvB;;AAIA;AACA,aAAKC,cAAL,GAAsB,KAAtB;;AAEA,aAAKC,QAAL,GAAgB,YAAM;AAClB;AACA;AACA,gBAAI,MAAKC,MAAT,EAAiB;AACb,sBAAKX,QAAL,CAAc,YAAM;AAChB,0BAAKS,cAAL,GAAsB,MAAKE,MAA3B;AACH,iBAFD,EAEG,GAFH;AAGH,aAJD,MAIO;AACH,sBAAKF,cAAL,GAAsB,MAAKE,MAA3B;AACH;AACJ,SAVD;AAWH;;;;mCAEUC,M,EAAQ;AACf,gBAAI,KAAKC,YAAT,EAAuB;AACnB;AACH,aAFD,MAEO;AACH,qBAAKF,MAAL,GAAc,IAAd;AACH;AACJ;;;mCAEUC,M,EAAQ;AACf,gBAAI,KAAKC,YAAT,EAAuB;AACnB;AACH,aAFD,MAEO;AACH,qBAAKF,MAAL,GAAc,KAAd;AACH;AACJ;;;kCAESC,M,EAAQ;AACd,gBAAI,KAAKC,YAAT,EAAuB;AACnB,qBAAKC,IAAL,CAAUF,MAAV,EAAkB,KAAlB;AACH,aAFD,MAEO;AACH,qBAAKD,MAAL,GAAc,CAAC,KAAKA,MAApB;AACH;AACJ;;;6BAEIC,M,EAAQG,M,EAAQ;AACjBH,mBAAOI,eAAP;AACA,iBAAKC,MAAL,CAAY,EAACC,OAAOH,MAAR,EAAgBI,OAAOP,MAAvB,EAAZ;AACA,iBAAKD,MAAL,GAAc,KAAd;AACH;;;mCAEU;AACP,gBAAI,KAAKE,YAAT,EAAuB;AACnB,uBAAO,KAAKZ,UAAL,CAAgB,SAAhB,EAA2B,EAAEE,WAAW,KAAKC,MAAL,CAAYC,SAAZ,CAAsBC,IAAtB,CAA2BC,KAA3B,CAAiCC,QAA9C,EAA3B,CAAP;AACH,aAFD,MAEO;AACH,uBAAO,KAAKJ,MAAL,CAAYG,KAAnB;AACH;AACJ;;;;;;AAGLT,2BAA2BsB,OAA3B,GAAqC,CACjC,SADiC,EAEjC,UAFiC,CAArC;;AAKA,IAAMC,mBAAmB;AACrBC,cAAU;AACNlB,gBAAQ,GADF;AAENmB,mBAAW,GAFL;AAGNV,sBAAc,GAHR;AAINI,gBAAQ;AAJF,KADW;AAOrBO,0sEAPqB;AAyCrBC,gBAAY3B;AAzCS,CAAzB;;kBA4CeuB,gB","file":"notebookLauncher.js","sourcesContent":["\"use strict\";\n\nclass NotebookLauncherController {\n    constructor($filter,\n                $timeout) {\n        this.$filter = $filter;\n        this.$timeout = $timeout;\n        \n        this.$translate = this.$filter('translate');\n        \n        this.translationData = {\n            noteLabel: this.config.itemTypes.note.label.singular\n        }\n\n        //this.isOpen = false;\n        this.tooltipVisible = false;\n\n        this.$doCheck = () => {\n            // On opening, add a delayed property which shows tooltips after the speed dial has opened\n            // so that they have the proper position; if closing, immediately hide the tooltips\n            if (this.isOpen) {\n                this.$timeout(() => {\n                    this.tooltipVisible = this.isOpen;\n                }, 500);\n            } else {\n                this.tooltipVisible = this.isOpen;\n            }\n        }\n    }\n    \n    mouseenter($event) {\n        if (this.notesVisible) {\n            return;\n        } else {\n            this.isOpen = true;\n        }\n    }\n    \n    mouseleave($event) {\n        if (this.notesVisible) {\n            return;\n        } else {\n            this.isOpen = false;\n        }\n    }\n    \n    mainClick($event) {\n        if (this.notesVisible) {\n            this.open($event, 'new');\n        } else {\n            this.isOpen = !this.isOpen;\n        }\n    }\n\n    open($event, target) {\n        $event.stopPropagation();\n        this.onOpen({value: target, event: $event});\n        this.isOpen = false;\n    }\n    \n    fabLabel() {\n        if (this.notesVisible) {\n            return this.$translate('addNote', { noteLabel: this.config.itemTypes.note.label.singular });\n        } else {\n            return this.config.label;\n        }\n    }\n}\n\nNotebookLauncherController.$inject = [\n    '$filter',\n    '$timeout'\n];\n\nconst NotebookLauncher = {\n    bindings: {\n        config: '<',\n        noteCount: '<',\n        notesVisible: '<',\n        onOpen: '&'\n    },\n    template:\n        `<md-fab-speed-dial md-direction=\"up\" md-open=\"$ctrl.isOpen\"\n                            ng-mouseenter=\"$ctrl.mouseenter($event)\"\n                            ng-mouseleave=\"$ctrl.mouseleave($event)\"\n                            ng-click=\"$ctrl.mainClick($event)\"\n                            class=\"md-scale md-fab-bottom-right notebook-launcher\">\n            <md-fab-trigger>\n                <md-button aria-label=\"{{$ctrl.fabLabel()}}\" class=\"md-fab md-accent\">\n                    <md-icon ng-if=\"!$ctrl.notesVisible\">{{$ctrl.config.icon}}</md-icon>\n                    <md-icon ng-if=\"$ctrl.notesVisible\">add</md-icon>\n                    <span>{{$ctrl.noteCount}}</span>\n                </md-button>\n            </md-fab-trigger>\n            <md-fab-actions>\n                <div layout=\"column\" ng-show=\"!$ctrl.notesVisible\">\n                    <md-button ng-repeat=\"item in $ctrl.config.itemTypes | toArray\" ng-if=\"item.enabled && item.$key !== 'report'\"\n                               aria-label=\"{{item.label.link}}\" class=\"md-fab md-raised md-mini\"\n                               ng-click=\"$ctrl.open($event, item.type)\">\n                        <md-tooltip md-direction=\"left\" md-autohide=\"false\" md-visible=\"$ctrl.tooltipVisible && !$ctrl.notesVisible\">\n                            {{item.label.link}}\n                        </md-tooltip>\n\n                        <md-icon aria-label=\"{{item.label.link}}\" style=\"color: {{item.label.color}};\">{{item.label.icon}}</md-icon>\n                    </md-button>\n                    <md-button ng-if=\"$ctrl.config.enableAddNew\" aria-label=\"{{ 'addNote' | translate:$ctrl.translationData }}\" class=\"md-fab md-raised md-mini\"\n                               ng-click=\"$ctrl.open($event, 'new')\">\n                        <md-tooltip md-direction=\"left\" md-autohide=\"false\" md-visible=\"$ctrl.tooltipVisible && !$ctrl.notesVisible\">\n                            {{ 'addNote' | translate:$ctrl.translationData }}\n                        </md-tooltip>\n                        <md-icon class=\"accent\">{{$ctrl.config.addIcon}}</md-icon>\n                    </md-button>\n                </div>\n            </md-fab-actions>\n        </md-fab-speed-dial>`,\n    controller: NotebookLauncherController\n};\n\nexport default NotebookLauncher;\n"]}