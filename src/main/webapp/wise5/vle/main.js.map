{"version":3,"sources":["main.es6"],"names":["vleModule","angular","module","service","AchievementService","name","AnnotationService","ConfigService","ComponentService","CRaterService","HttpInterceptor","NodeService","NotebookService","NotificationService","PlanningService","ProjectService","VLEProjectService","SessionService","StudentAssetService","StudentDataService","StudentStatusService","StudentWebSocketService","UtilService","controller","NavigationController","NodeController","VLEController","filter","Filters","config","$urlRouterProvider","$stateProvider","$translateProvider","$translatePartialLoaderProvider","$controllerProvider","$mdThemingProvider","$httpProvider","$provide","otherwise","state","url","abstract","templateProvider","$http","themePath","getThemePath","get","then","response","data","controllerAs","resolve","configURL","window","retrieveConfig","project","retrieveProject","studentData","retrieveStudentData","notebook","retrieveAssets","studentAssets","retrieveNotebookItems","getWorkgroupId","achievements","retrieveAchievements","notifications","retrieveNotifications","runStatus","retrieveRunStatus","sessionTimers","initializeSession","webSocket","initialize","language","$translate","locale","getLocale","use","theme","$ocLazyLoad","$q","def","defer","System","import","themeModule","m","default","key","Object","keys","load","err","promise","views","wiseBaseURL","getWISEBaseURL","interceptors","push","addPart","useLoader","urlTemplate","fallbackLanguage","registerAvailableLanguageKeys","determinePreferredLanguage","useSanitizeValueStrategy","definePalette","undefined","primaryPalette","accentPalette","warnPalette","lightMap","extendPalette","setDefaultTheme","enableBrowserColor","moment","updateLocale","calendar","lastDay","sameDay","nextDay","lastWeek","nextWeek","sameElse"],"mappings":"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","file":"main.js","sourcesContent":["'use strict';\n\nimport $ from 'jquery';\nimport AchievementService from '../services/achievementService';\nimport angular from 'angular';\nimport angularDragula from 'angular-dragula';\nimport angularFileUpload from 'ng-file-upload';\nimport angularHighcharts from 'highcharts-ng';\nimport angularMaterial from 'angular-material';\nimport angularMoment from 'angular-moment';\nimport angularOnload from 'ng-onload';\nimport angularSanitize from 'angular-sanitize';\nimport angularToArrayFilter from 'lib/angular-toArrayFilter/toArrayFilter';\nimport angularTranslate from 'angular-translate';\nimport angularTranslateLoaderPartial from 'angular-translate-loader-partial';\nimport angularUIRouter from 'angular-ui-router';\nimport angularUIScrollpoint from 'angular-ui-scrollpoint';\nimport angularWebSocket from 'angular-websocket';\nimport AnimationComponentModule from '../components/animation/animationComponentModule';\nimport AnnotationService from '../services/annotationService';\nimport AudioOscillatorComponentModule from '../components/audioOscillator/audioOscillatorComponentModule';\nimport ConceptMapComponentModule from '../components/conceptMap/conceptMapComponentModule';\nimport ConfigService from '../services/configService';\nimport CRaterService from '../services/cRaterService';\nimport Components from '../directives/components';\nimport ComponentService from '../components/componentService';\nimport DiscussionComponentModule from '../components/discussion/discussionComponentModule';\nimport DrawComponentModule from '../components/draw/drawComponentModule';\nimport EmbeddedComponentModule from '../components/embedded/embeddedComponentModule';\nimport Filters from '../filters/filters';\nimport Highcharts from '../lib/highcharts@4.2.1';\nimport draggablePoints from '../lib/draggable-points/draggable-points';\nimport GraphComponentModule from '../components/graph/graphComponentModule';\nimport HTMLComponentModule from '../components/html/htmlComponentModule';\nimport HttpInterceptor from '../services/httpInterceptor';\nimport LabelComponentModule from '../components/label/labelComponentModule';\nimport MatchComponentModule from '../components/match/matchComponentModule';\nimport MultipleChoiceComponentModule from '../components/multipleChoice/multipleChoiceComponentModule';\nimport NavigationController from './navigation/navigationController';\nimport NodeController from './node/nodeController';\nimport NodeService from '../services/nodeService';\nimport NotebookService from '../services/notebookService';\nimport NotificationService from '../services/notificationService';\nimport OpenResponseComponentModule from '../components/openResponse/openResponseComponentModule';\nimport OutsideURLComponentModule from '../components/outsideURL/outsideURLComponentModule';\nimport PlanningService from '../services/planningService';\nimport ProjectService from '../services/projectService';\nimport SessionService from '../services/sessionService';\nimport StudentAsset from './studentAsset/studentAsset';\nimport StudentAssetService from '../services/studentAssetService';\nimport StudentDataService from '../services/studentDataService';\nimport StudentStatusService from '../services/studentStatusService';\nimport StudentWebSocketService from '../services/studentWebSocketService';\nimport TableComponentModule from '../components/table/tableComponentModule';\nimport UtilService from '../services/utilService';\nimport VLEController from './vleController';\nimport VLEProjectService from './vleProjectService';\nimport ocLazyLoad from 'oclazyload';\nimport moment from 'moment';\nimport angularSummernote from 'lib/angular-summernote/dist/angular-summernote.min';\n\nlet vleModule = angular.module('vle', [\n    angularDragula(angular),\n    'angularMoment',\n    'angular-toArrayFilter',\n    'animationComponentModule',\n    'audioOscillatorComponentModule',\n    'components',\n    'conceptMapComponentModule',\n    'discussionComponentModule',\n    'drawComponentModule',\n    'embeddedComponentModule',\n    'filters',\n    'graphComponentModule',\n    'highcharts-ng',\n    'htmlComponentModule',\n    'labelComponentModule',\n    'matchComponentModule',\n    'multipleChoiceComponentModule',\n    'ngAria',\n    'ngFileUpload',\n    'ngMaterial',\n    'ngOnload',\n    'ngSanitize',\n    'ngWebSocket',\n    'oc.lazyLoad',\n    'openResponseComponentModule',\n    'outsideURLComponentModule',\n    'pascalprecht.translate',\n    'studentAsset',\n    'summernote',\n    'tableComponentModule',\n    'ui.router',\n    'ui.scrollpoint'])\n  .service(AchievementService.name, AchievementService)\n  .service(AnnotationService.name, AnnotationService)\n  .service(ConfigService.name, ConfigService)\n  .service(ComponentService.name, ComponentService)\n  .service(CRaterService.name, CRaterService)\n  .service(HttpInterceptor.name, HttpInterceptor)\n  .service(NodeService.name, NodeService)\n  .service(NotebookService.name, NotebookService)\n  .service(NotificationService.name, NotificationService)\n  .service(PlanningService.name, PlanningService)\n  .service(ProjectService.name, VLEProjectService)\n  .service(SessionService.name, SessionService)\n  .service(StudentAssetService.name, StudentAssetService)\n  .service(StudentDataService.name, StudentDataService)\n  .service(StudentStatusService.name, StudentStatusService)\n  .service(StudentWebSocketService.name, StudentWebSocketService)\n  .service(UtilService.name, UtilService)\n  .controller(NavigationController.name, NavigationController)\n  .controller(NodeController.name, NodeController)\n  .controller(VLEController.name, VLEController)\n  .filter(Filters.name, Filters)\n  .config([\n      '$urlRouterProvider',\n      '$stateProvider',\n      '$translateProvider',\n      '$translatePartialLoaderProvider',\n      '$controllerProvider',\n      '$mdThemingProvider',\n      '$httpProvider',\n      '$provide',\n      ($urlRouterProvider,\n      $stateProvider,\n      $translateProvider,\n      $translatePartialLoaderProvider,\n      $controllerProvider,\n      $mdThemingProvider,\n      $httpProvider,\n      $provide) => {\n      $urlRouterProvider.otherwise('/vle/');\n\n      angular.module('vle').$controllerProvider = $controllerProvider;\n\n      $stateProvider\n        .state('root', {\n          url: '',\n          abstract: true,\n          templateProvider: ['$http', 'ProjectService', ($http, ProjectService) => {\n            let themePath = ProjectService.getThemePath();\n            return $http.get(themePath + '/vle.html').then(\n              response => {\n                return response.data;\n              });\n          }],\n          controller: 'VLEController',\n          controllerAs: 'vleController',\n          resolve: {\n            config: (ConfigService) => {\n              let configURL = window.configURL;\n              return ConfigService.retrieveConfig(configURL);\n            },\n            project: (ProjectService, config) => {\n              return ProjectService.retrieveProject();\n            },\n            studentData: (StudentDataService, config, project) => {\n              return StudentDataService.retrieveStudentData();\n            },\n            notebook: (NotebookService, ConfigService, StudentAssetService, studentData, config, project) => {\n              return StudentAssetService.retrieveAssets().then((studentAssets) => {\n                return NotebookService.retrieveNotebookItems(ConfigService.getWorkgroupId()).then((notebook) => {\n                  return notebook;\n                });\n              });\n            },\n            achievements: (AchievementService, studentData, config, project) => {\n              return AchievementService.retrieveAchievements();\n            },\n            notifications: (NotificationService, studentData, config, project) => {\n              return NotificationService.retrieveNotifications();\n            },\n            runStatus: (StudentDataService, config) => {\n              return StudentDataService.retrieveRunStatus();\n            },\n            sessionTimers: (SessionService, config, project, studentData) => {\n              return SessionService.initializeSession();\n            },\n            webSocket: (StudentWebSocketService, config, project) => {\n              return StudentWebSocketService.initialize();\n            },\n            language: ($translate, ConfigService, config) => {\n              let locale = ConfigService.getLocale();  // defaults to \"en\"\n              $translate.use(locale);\n            },\n            theme: (ProjectService, config, project, $ocLazyLoad, $q) => {\n              let theme = ProjectService.getThemePath() + '/theme.js';\n              let def = $q.defer();\n\n              System.import(theme).then(m => {\n                let themeModule = m.default;\n                if (!m.default.name) {\n                  let key = Object.keys(m.default);\n                  themeModule = m.default[key[0]];\n                }\n\n                $ocLazyLoad.load(themeModule).then(() => {\n                  def.resolve();\n                }, err => {\n                  throw err;\n                });\n              });\n\n              return def.promise;\n            }\n          }\n        })\n        .state('root.vle', {\n          url: '/vle/:nodeId',\n          views: {\n            'nodeView': {\n              templateProvider: ['$http', 'ConfigService', ($http, ConfigService) => {\n                let wiseBaseURL = ConfigService.getWISEBaseURL();\n                return $http.get(wiseBaseURL + '/wise5/vle/node/index.html').then(\n                  response => {\n                    return response.data;\n                  }\n                );\n              }],\n              controller: 'NodeController',\n              controllerAs: 'nodeController'\n            }\n          }\n        })\n        .state('root.component', {\n          url: '/vle/:nodeId/:componentId',\n          views: {\n            'nodeView': {\n              templateProvider: ['$http', 'ConfigService', ($http, ConfigService) => {\n                let wiseBaseURL = ConfigService.getWISEBaseURL();\n                return $http.get(wiseBaseURL + '/wise5/vle/node/index.html').then(\n                  response => {\n                    return response.data;\n                  }\n                );\n              }],\n              controller: 'NodeController',\n              controllerAs: 'nodeController'\n            }\n          }\n        });\n\n      $httpProvider.interceptors.push('HttpInterceptor');\n\n      // Set up Translations\n      $translatePartialLoaderProvider.addPart('i18n');\n      $translatePartialLoaderProvider.addPart('vle/i18n');\n      $translateProvider.useLoader('$translatePartialLoader', {\n        urlTemplate: 'wise5/{part}/i18n_{lang}.json'\n      })\n        .fallbackLanguage(['en'])\n        .registerAvailableLanguageKeys(['ar','el','en','es','ja','ko','pt','tr','zh_CN','zh_TW'], {\n          'en_US': 'en',\n          'en_UK': 'en'\n        })\n        .determinePreferredLanguage()\n        .useSanitizeValueStrategy('sanitizeParameters', 'escape');\n\n      // ngMaterial default theme configuration\n      // TODO: make dynamic and support alternate themes; allow projects to specify theme parameters and settings\n      $mdThemingProvider.definePalette('primary', {\n        '50': 'e1f0f4',\n        '100': 'b8dbe4',\n        '200': '8ec6d4',\n        '300': '5faec2',\n        '400': '3d9db5',\n        '500': '1c8ca8',\n        '600': '197f98',\n        '700': '167188',\n        '800': '136377',\n        '900': '0e4957',\n        'A100': 'abf3ff',\n        'A200': '66e2ff',\n        'A400': '17bee5',\n        'A700': '00A1C6',\n        'contrastDefaultColor': 'light',    // whether, by default, text (contrast)\n                                            // on this palette should be dark or light\n        'contrastDarkColors': ['50', '100', //hues which contrast should be 'dark' by default\n          '200', '300', 'A100'],\n        'contrastLightColors': undefined    // could also specify this if default was 'dark'\n      });\n\n      $mdThemingProvider.definePalette('accent', {\n        '50': 'fde9e6',\n        '100': 'fbcbc4',\n        '200': 'f8aca1',\n        '300': 'f4897b',\n        '400': 'f2705f',\n        '500': 'f05843',\n        '600': 'da503c',\n        '700': 'c34736',\n        '800': 'aa3e2f',\n        '900': '7d2e23',\n        'A100': 'ff897d',\n        'A200': 'ff7061',\n        'A400': 'ff3829',\n        'A700': 'cc1705',\n        'contrastDefaultColor': 'light',\n        'contrastDarkColors': ['50', '100',\n          '200', '300', 'A100'],\n        'contrastLightColors': undefined\n      });\n\n      $mdThemingProvider.theme('default')\n        .primaryPalette('primary')\n        .accentPalette('accent',  {\n          'default': '500'\n        })\n        .warnPalette('red', {\n          'default': '800'\n        });\n\n      let lightMap = $mdThemingProvider.extendPalette('grey', {\n        'A100': 'ffffff'\n      });\n      $mdThemingProvider.definePalette('light', lightMap);\n\n      $mdThemingProvider.theme('light')\n        .primaryPalette('light', {\n          'default': 'A100'\n        })\n        .accentPalette('primary');\n\n      $mdThemingProvider.setDefaultTheme('default');\n      $mdThemingProvider.enableBrowserColor();\n\n      // moment.js default overrides\n      // TODO: add i18n support\n      moment.updateLocale('en', {\n        calendar: {\n          lastDay : '[Yesterday at] LT',\n          sameDay : '[Today at] LT',\n          nextDay : '[Tomorrow at] LT',\n          lastWeek : '[last] dddd [at] LT',\n          nextWeek : 'dddd [at] LT',\n          sameElse : 'll'\n        }\n      });\n    }\n  ]);\nexport default vleModule;\n"]}