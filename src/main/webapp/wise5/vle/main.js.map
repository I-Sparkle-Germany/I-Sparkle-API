{"version":3,"sources":["main.es6"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["'use strict';\n\nimport $ from 'jquery';\nimport angular from 'angular';\nimport angularDragula from 'angular-dragula';\nimport angularFileUpload from 'ng-file-upload';\nimport angularHighcharts from 'highcharts-ng';\nimport angularMaterial from 'angular-material';\nimport angularMoment from 'angular-moment';\nimport angularSanitize from 'angular-sanitize';\nimport angularToArrayFilter from 'lib/angular-toArrayFilter/toArrayFilter';\nimport angularTranslate from 'angular-translate';\nimport angularTranslateLoaderPartial from 'angular-translate-loader-partial';\nimport angularUIRouter from 'angular-ui-router';\nimport angularUITree from 'angular-ui-tree';\nimport angularUIScrollpoint from 'angular-ui-scrollpoint';\nimport angularWebSocket from 'angular-websocket';\nimport AnnotationService from '../services/annotationService';\nimport AudioOscillatorController from '../components/audioOscillator/audioOscillatorController';\nimport AudioOscillatorService from '../components/audioOscillator/audioOscillatorService';\n//import AudioRecorderService from '../components/audioRecorder/audioRecorderService';\nimport ConfigService from '../services/configService';\n//import CRaterService from '../components/cRater/cRaterService';\nimport Directives from '../directives/directives';\nimport DiscussionController from '../components/discussion/discussionController';\nimport DiscussionService from '../components/discussion/discussionService';\nimport DrawController from '../components/draw/drawController';\nimport DrawService from '../components/draw/drawService';\nimport EmbeddedController from '../components/embedded/embeddedController';\nimport EmbeddedService from '../components/embedded/embeddedService';\nimport Filters from '../filters/filters';\nimport Highcharts from '../lib/highcharts@4.2.1';\nimport draggablePoints from '../vendor/draggable-points/draggable-points';\nimport GraphController from '../components/graph/graphController';\nimport GraphService from '../components/graph/graphService';\nimport HTMLService from '../components/html/htmlService';\nimport HTMLController from '../components/html/htmlController';\nimport HttpInterceptor from '../services/httpInterceptor';\nimport LabelController from '../components/label/labelController';\nimport LabelService from '../components/label/labelService';\nimport MatchController from '../components/match/matchController';\nimport MatchService from '../components/match/matchService';\nimport MultipleChoiceController from '../components/multipleChoice/multipleChoiceController';\nimport MultipleChoiceService from '../components/multipleChoice/multipleChoiceService';\nimport NavigationController from './navigation/navigationController';\nimport NodeController from '../node/nodeController';\nimport NodeService from '../services/nodeService';\nimport Notebook from './notebook/notebook';\nimport NotebookService from '../services/notebookService';\nimport NotificationService from '../services/notificationService';\nimport OpenResponseController from '../components/openResponse/openResponseController';\nimport OpenResponseService from '../components/openResponse/openResponseService';\nimport OutsideURLController from '../components/outsideURL/outsideURLController';\nimport OutsideURLService from '../components/outsideURL/outsideURLService';\n//import PhotoBoothService from '../components/photoBooth/photoBoothService';\nimport ProjectService from '../services/projectService';\nimport SessionService from '../services/sessionService';\nimport StudentAsset from './studentAsset/studentAsset';\nimport StudentAssetService from '../services/studentAssetService';\nimport StudentDataService from '../services/studentDataService';\nimport StudentStatusService from '../services/studentStatusService';\nimport StudentWebSocketService from '../services/studentWebSocketService';\nimport TableController from '../components/table/tableController';\nimport TableService from '../components/table/tableService';\nimport TeacherDataService from '../services/teacherDataService';\nimport UtilService from '../services/utilService';\nimport VLEController from './vleController';\n\nimport ocLazyLoad from 'oclazyload';\nimport moment from 'moment';\n\n//import bootstrap from 'bootstrap';\n//import summernote from 'summernote';\nimport angularSummernote from 'lib/angular-summernote/dist/angular-summernote.min';\n\nlet mainModule = angular.module('vle', [\n    angularDragula(angular),\n    'angularMoment',\n    'angular-toArrayFilter',\n    'directives',\n    'filters',\n    'highcharts-ng',\n    //'ngAudio',\n    'ngAria',\n    'ngFileUpload',\n    'ngMaterial',\n    'ngSanitize',\n    'ngWebSocket',\n    'notebook',\n    'oc.lazyLoad',\n    'pascalprecht.translate',\n    'studentAsset',\n    'summernote',\n    'ui.router',\n    'ui.scrollpoint',\n    'ui.tree'\n    ])\n\n    .service(AnnotationService.name, AnnotationService)\n    .service(AudioOscillatorService.name, AudioOscillatorService)\n    //.service(AudioRecorderService.name, AudioRecorderService)\n    .service(ConfigService.name, ConfigService)\n    //.service(CRaterService.name, CRaterService)\n    .service(DiscussionService.name, DiscussionService)\n    .service(DrawService.name, DrawService)\n    .service(EmbeddedService.name, EmbeddedService)\n    .service(GraphService.name, GraphService)\n    .service(HTMLService.name, HTMLService)\n    .service(HttpInterceptor.name, HttpInterceptor)\n    .service(LabelService.name, LabelService)\n    .service(MatchService.name, MatchService)\n    .service(MultipleChoiceService.name, MultipleChoiceService)\n    .service(NodeService.name, NodeService)\n    .service(NotebookService.name, NotebookService)\n    .service(NotificationService.name, NotificationService)\n    .service(OpenResponseService.name, OpenResponseService)\n    .service(OutsideURLService.name, OutsideURLService)\n    //.service(PhotoBoothService.name, PhotoBoothService)\n    .service(ProjectService.name, ProjectService)\n    .service(SessionService.name, SessionService)\n    .service(StudentAssetService.name, StudentAssetService)\n    .service(StudentDataService.name, StudentDataService)\n    .service(StudentStatusService.name, StudentStatusService)\n    .service(StudentWebSocketService.name, StudentWebSocketService)\n    .service(TableService.name, TableService)\n    .service(TeacherDataService.name, TeacherDataService)\n    .service(UtilService.name, UtilService)\n    .controller(AudioOscillatorController.name, AudioOscillatorController)\n    .controller(DiscussionController.name, DiscussionController)\n    .controller(DrawController.name, DrawController)\n    .controller(EmbeddedController.name, EmbeddedController)\n    .controller(GraphController.name, GraphController)\n    .controller(HTMLController.name, HTMLController)\n    .controller(LabelController.name, LabelController)\n    .controller(MatchController.name, MatchController)\n    .controller(MultipleChoiceController.name, MultipleChoiceController)\n    .controller(NavigationController.name, NavigationController)\n    .controller(NodeController.name, NodeController)\n    .controller(VLEController.name, VLEController)\n    .controller(OpenResponseController.name, OpenResponseController)\n    .controller(OutsideURLController.name, OutsideURLController)\n    .controller(TableController.name, TableController)\n    .filter(Filters.name, Filters)\n    .config([\n        '$urlRouterProvider',\n        '$stateProvider',\n        '$translateProvider',\n        '$translatePartialLoaderProvider',\n        '$controllerProvider',\n        '$mdThemingProvider',\n        '$httpProvider',\n        '$provide',\n        function($urlRouterProvider,\n                 $stateProvider,\n                 $translateProvider,\n                 $translatePartialLoaderProvider,\n                 $controllerProvider,\n                 $mdThemingProvider,\n                 $httpProvider,\n                 $provide) {\n\n            $urlRouterProvider.otherwise('/vle/');\n\n            angular.module('vle').$controllerProvider = $controllerProvider;\n\n            $stateProvider\n                .state('root', {\n                    url: '',\n                    abstract: true,\n                    templateProvider: ['$http', 'ProjectService', function ($http, ProjectService) {\n                        var themePath = ProjectService.getThemePath();\n                        return $http.get(themePath + '/vle.html').then(\n                            response => {\n                                return response.data;\n                            });\n                    }],\n                    controller: 'VLEController',\n                    controllerAs: 'vleController',\n                    resolve: {\n                        config: function (ConfigService) {\n                            let configURL = window.configURL;\n                            return ConfigService.retrieveConfig(configURL);\n                        },\n                        project: function (ProjectService, config) {\n                            return ProjectService.retrieveProject();\n                        },\n                        studentData: function (StudentDataService, config, project) {\n                            return StudentDataService.retrieveStudentData();\n                        },\n                        notifications: function (NotificationService, studentData, config, project) {\n                            return NotificationService.retrieveNotifications();\n                        },\n                        runStatus: function(StudentDataService, config) {\n                            return StudentDataService.retrieveRunStatus();\n                        },\n                        sessionTimers: function (SessionService, config, project, studentData) {\n                            return SessionService.initializeSession();\n                        },\n                        webSocket: function (StudentWebSocketService, config, project) {\n                            return StudentWebSocketService.initialize();\n                        },\n                        language: ($translate, ConfigService, config) => {\n                            let locale = ConfigService.getLocale();  // defaults to \"en\"\n                            $translate.use(locale);\n                        },\n                        theme: function (ProjectService, config, project, $ocLazyLoad, $q) {\n                            let theme = ProjectService.getThemePath() + '/theme.js';\n                            let def = $q.defer();\n\n                  \t\t\t\t\tSystem.import(theme).then(m => {\n                  \t\t\t\t\t\tlet themeModule = m.default;\n                  \t\t\t\t\t\tif (!m.default.name) {\n                  \t\t\t\t\t\t\tlet key = Object.keys(m.default);\n                  \t\t\t\t\t\t\tthemeModule = m.default[key[0]];\n                  \t\t\t\t\t\t}\n\n                  \t\t\t\t\t\t$ocLazyLoad.load(themeModule).then(() => {\n                  \t\t\t\t\t\t\tdef.resolve();\n                  \t\t\t\t\t\t}, err => {\n                  \t\t\t\t\t\t\tthrow err;\n                  \t\t\t\t\t\t});\n                  \t\t\t\t\t});\n\n                  \t\t\t\t\treturn def.promise;\n                        }\n                    }\n                })\n                .state('root.vle', {\n                    url: '/vle/:nodeId',\n                    views: {\n                        'nodeView': {\n                            templateProvider: ['$http', 'ConfigService', function ($http, ConfigService) {\n                                let wiseBaseURL = ConfigService.getWISEBaseURL();\n                                return $http.get(wiseBaseURL + '/wise5/node/index.html').then(\n                                    response => {\n                                        return response.data;\n                                    }\n                                );\n                            }],\n                            controller: 'NodeController',\n                            controllerAs: 'nodeController'\n                        }\n                    }\n                })\n                .state('root.notebook', {\n                    url: '/notebook/:nodeid',\n                    views: {\n                        'notebookView': {\n                            templateProvider: ['$http', 'ConfigService', function ($http, ConfigService) {\n                                let wiseBaseURL = ConfigService.getWISEBaseURL();\n                                return $http.get(wiseBaseURL + '/wise5/notebook/index.html').then(\n                                    response => {\n                                        return response.data;\n                                    }\n                                );\n                            }]\n                        }\n                    }\n                });\n\n            $httpProvider.interceptors.push('HttpInterceptor');\n\n            // Set up Translations\n            $translatePartialLoaderProvider.addPart('common');\n            $translatePartialLoaderProvider.addPart('vle');\n            $translateProvider.useLoader('$translatePartialLoader', {\n                urlTemplate: 'wise5/i18n/{part}/i18n_{lang}.json'\n            });\n            $translateProvider.fallbackLanguage(['en']);\n            $translateProvider.registerAvailableLanguageKeys(['en','ja','ko','pt','zh_CN'], {\n                'en_US': 'en',\n                'en_UK': 'en'\n            });\n            $translateProvider.useSanitizeValueStrategy('escape');\n\n            // ngMaterial default theme configuration\n            // TODO: make dynamic and support alternate themes; allow projects to specify theme parameters and settings\n            $mdThemingProvider.definePalette('primary', {\n                '50': 'e1f0f4',\n                '100': 'b8dbe4',\n                '200': '8ec6d4',\n                '300': '5faec2',\n                '400': '3d9db5',\n                '500': '1c8ca8',\n                '600': '197f98',\n                '700': '167188',\n                '800': '136377',\n                '900': '0e4957',\n                'A100': 'abf3ff',\n                'A200': '66e2ff',\n                'A400': '17bee5',\n                'A700': '00A1C6',\n                'contrastDefaultColor': 'light',    // whether, by default, text (contrast)\n                                                    // on this palette should be dark or light\n                'contrastDarkColors': ['50', '100', //hues which contrast should be 'dark' by default\n                    '200', '300', 'A100'],\n                'contrastLightColors': undefined    // could also specify this if default was 'dark'\n            });\n\n            $mdThemingProvider.definePalette('accent', {\n                '50': 'fde9e6',\n                '100': 'fbcbc4',\n                '200': 'f8aca1',\n                '300': 'f4897b',\n                '400': 'f2705f',\n                '500': 'f05843',\n                '600': 'da503c',\n                '700': 'c34736',\n                '800': 'aa3e2f',\n                '900': '7d2e23',\n                'A100': 'ff897d',\n                'A200': 'ff7061',\n                'A400': 'ff3829',\n                'A700': 'cc1705',\n                'contrastDefaultColor': 'light',\n                'contrastDarkColors': ['50', '100',\n                    '200', '300', 'A100'],\n                'contrastLightColors': undefined\n            });\n\n            $mdThemingProvider.theme('default')\n                .primaryPalette('primary')\n                .accentPalette('accent',  {\n                    'default': '500'\n                })\n                .warnPalette('red', {\n                    'default': 'A700'\n                });\n\n            var lightMap = $mdThemingProvider.extendPalette('grey', {\n                'A100': 'ffffff'\n            });\n            $mdThemingProvider.definePalette('light', lightMap);\n\n            $mdThemingProvider.theme('light')\n                .primaryPalette('light', {\n                    'default': 'A100'\n                })\n                .accentPalette('primary');\n\n            $mdThemingProvider.setDefaultTheme('default');\n\n            // moment.js default overrides\n            moment.locale('en', {\n                calendar : {\n                    lastDay : '[Yesterday at] LT',\n                    sameDay : '[Today at] LT',\n                    nextDay : '[Tomorrow at] LT',\n                    lastWeek : '[Last] dddd [at] LT',\n                    nextWeek : 'dddd [at] LT',\n                    sameElse : 'MMM D, YYYY [at] LT'\n                },\n                relativeTime : {\n                    future: \"in %s\",\n                    past:   \"%s\",\n                    s:  \"seconds ago\",\n                    m:  \"1 minute ago\",\n                    mm: \"%d minutes ago\",\n                    h:  \"1 hour ago\",\n                    hh: \"%d hours ago\",\n                    d:  \"1 day ago\",\n                    dd: \"%d days ago\",\n                    M:  \"1 month ago\",\n                    MM: \"%d months ago\",\n                    y:  \"1 year ago\",\n                    yy: \"%d years ago\"\n                }\n            });\n        }\n    ]);\n\nexport default mainModule;\n"]}