{"version":3,"sources":["main.es6"],"names":["mainModule","module","service","name","controller","filter","config","$urlRouterProvider","$stateProvider","$translateProvider","$translatePartialLoaderProvider","$controllerProvider","$mdThemingProvider","$httpProvider","$provide","otherwise","state","url","abstract","templateProvider","$http","ProjectService","themePath","getThemePath","get","then","response","data","controllerAs","resolve","ConfigService","configURL","window","retrieveConfig","project","retrieveProject","studentData","StudentDataService","retrieveStudentData","notifications","NotificationService","retrieveNotifications","runStatus","retrieveRunStatus","sessionTimers","SessionService","initializeSession","webSocket","StudentWebSocketService","initialize","language","$translate","locale","getLocale","use","theme","$ocLazyLoad","$q","def","defer","System","import","themeModule","m","default","key","Object","keys","load","err","promise","views","wiseBaseURL","getWISEBaseURL","interceptors","push","addPart","useLoader","urlTemplate","fallbackLanguage","registerAvailableLanguageKeys","useSanitizeValueStrategy","definePalette","undefined","primaryPalette","accentPalette","warnPalette","lightMap","extendPalette","setDefaultTheme","calendar","lastDay","sameDay","nextDay","lastWeek","nextWeek","sameElse","relativeTime","future","past","s","mm","h","hh","d","dd","M","MM","y","yy"],"mappings":"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","file":"main.js","sourcesContent":["'use strict';\n\nimport $ from 'jquery';\nimport angular from 'angular';\nimport angularDragula from 'angular-dragula';\nimport angularFileUpload from 'ng-file-upload';\nimport angularHighcharts from 'highcharts-ng';\nimport angularMaterial from 'angular-material';\nimport angularMoment from 'angular-moment';\nimport angularSanitize from 'angular-sanitize';\nimport angularToArrayFilter from 'lib/angular-toArrayFilter/toArrayFilter';\nimport angularTranslate from 'angular-translate';\nimport angularTranslateLoaderPartial from 'angular-translate-loader-partial';\nimport angularUIRouter from 'angular-ui-router';\nimport angularUIScrollpoint from 'angular-ui-scrollpoint';\nimport angularWebSocket from 'angular-websocket';\nimport AnnotationService from '../services/annotationService';\nimport AudioOscillatorComponentModule from '../components/audioOscillator/audioOscillatorComponentModule';\nimport ConceptMapComponentModule from '../components/conceptMap/conceptMapComponentModule';\nimport ConfigService from '../services/configService';\nimport CRaterService from '../services/cRaterService';\nimport Directives from '../directives/directives';\nimport DiscussionComponentModule from '../components/discussion/discussionComponentModule';\nimport DrawComponentModule from '../components/draw/drawComponentModule';\nimport EmbeddedComponentModule from '../components/embedded/embeddedComponentModule';\nimport Filters from '../filters/filters';\nimport Highcharts from '../lib/highcharts@4.2.1';\nimport draggablePoints from '../lib/draggable-points/draggable-points';\nimport GraphComponentModule from '../components/graph/graphComponentModule';\nimport HTMLComponentModule from '../components/html/htmlComponentModule';\nimport HttpInterceptor from '../services/httpInterceptor';\nimport LabelComponentModule from '../components/label/labelComponentModule';\nimport MatchComponentModule from '../components/match/matchComponentModule';\nimport MultipleChoiceComponentModule from '../components/multipleChoice/multipleChoiceComponentModule';\nimport NavigationController from './navigation/navigationController';\nimport NodeController from '../node/nodeController';\nimport NodeService from '../services/nodeService';\nimport Notebook from './notebook/notebook';\nimport NotebookService from '../services/notebookService';\nimport NotificationService from '../services/notificationService';\nimport OpenResponseComponentModule from '../components/openResponse/openResponseComponentModule';\nimport OutsideURLComponentModule from '../components/outsideURL/outsideURLComponentModule';\nimport ProjectService from '../services/projectService';\nimport SessionService from '../services/sessionService';\nimport StudentAsset from './studentAsset/studentAsset';\nimport StudentAssetService from '../services/studentAssetService';\nimport StudentDataService from '../services/studentDataService';\nimport StudentStatusService from '../services/studentStatusService';\nimport StudentWebSocketService from '../services/studentWebSocketService';\nimport TableComponentModule from '../components/table/tableComponentModule';\nimport TeacherDataService from '../services/teacherDataService';\nimport UtilService from '../services/utilService';\nimport VLEController from './vleController';\nimport ocLazyLoad from 'oclazyload';\nimport moment from 'moment';\n\n//import bootstrap from 'bootstrap';\n//import summernote from 'summernote';\nimport angularSummernote from 'lib/angular-summernote/dist/angular-summernote.min';\n\nlet mainModule = angular.module('vle', [\n    angularDragula(angular),\n    'angularMoment',\n    'angular-toArrayFilter',\n    'audioOscillatorComponentModule',\n    'conceptMapComponentModule',\n    'directives',\n    'discussionComponentModule',\n    'drawComponentModule',\n    'embeddedComponentModule',\n    'filters',\n    'graphComponentModule',\n    'highcharts-ng',\n    'htmlComponentModule',\n    'labelComponentModule',\n    'matchComponentModule',\n    'multipleChoiceComponentModule',\n    'ngAria',\n    'ngFileUpload',\n    'ngMaterial',\n    'ngSanitize',\n    'ngWebSocket',\n    'notebook',\n    'oc.lazyLoad',\n    'openResponseComponentModule',\n    'outsideURLComponentModule',\n    'pascalprecht.translate',\n    'studentAsset',\n    'summernote',\n    'tableComponentModule',\n    'ui.router',\n    'ui.scrollpoint'\n    ])\n    .service(AnnotationService.name, AnnotationService)\n    .service(ConfigService.name, ConfigService)\n    .service(CRaterService.name, CRaterService)\n    .service(HttpInterceptor.name, HttpInterceptor)\n    .service(NodeService.name, NodeService)\n    .service(NotebookService.name, NotebookService)\n    .service(NotificationService.name, NotificationService)\n    .service(ProjectService.name, ProjectService)\n    .service(SessionService.name, SessionService)\n    .service(StudentAssetService.name, StudentAssetService)\n    .service(StudentDataService.name, StudentDataService)\n    .service(StudentStatusService.name, StudentStatusService)\n    .service(StudentWebSocketService.name, StudentWebSocketService)\n    .service(TeacherDataService.name, TeacherDataService)\n    .service(UtilService.name, UtilService)\n    .controller(NavigationController.name, NavigationController)\n    .controller(NodeController.name, NodeController)\n    .controller(VLEController.name, VLEController)\n    .filter(Filters.name, Filters)\n    .config([\n        '$urlRouterProvider',\n        '$stateProvider',\n        '$translateProvider',\n        '$translatePartialLoaderProvider',\n        '$controllerProvider',\n        '$mdThemingProvider',\n        '$httpProvider',\n        '$provide',\n        function($urlRouterProvider,\n                 $stateProvider,\n                 $translateProvider,\n                 $translatePartialLoaderProvider,\n                 $controllerProvider,\n                 $mdThemingProvider,\n                 $httpProvider,\n                 $provide) {\n\n            $urlRouterProvider.otherwise('/vle/');\n\n            angular.module('vle').$controllerProvider = $controllerProvider;\n\n            $stateProvider\n                .state('root', {\n                    url: '',\n                    abstract: true,\n                    templateProvider: ['$http', 'ProjectService', function ($http, ProjectService) {\n                        var themePath = ProjectService.getThemePath();\n                        return $http.get(themePath + '/vle.html').then(\n                            response => {\n                                return response.data;\n                            });\n                    }],\n                    controller: 'VLEController',\n                    controllerAs: 'vleController',\n                    resolve: {\n                        config: function (ConfigService) {\n                            let configURL = window.configURL;\n                            return ConfigService.retrieveConfig(configURL);\n                        },\n                        project: function (ProjectService, config) {\n                            return ProjectService.retrieveProject();\n                        },\n                        studentData: function (StudentDataService, config, project) {\n                            return StudentDataService.retrieveStudentData();\n                        },\n                        notifications: function (NotificationService, studentData, config, project) {\n                            return NotificationService.retrieveNotifications();\n                        },\n                        runStatus: function(StudentDataService, config) {\n                            return StudentDataService.retrieveRunStatus();\n                        },\n                        sessionTimers: function (SessionService, config, project, studentData) {\n                            return SessionService.initializeSession();\n                        },\n                        webSocket: function (StudentWebSocketService, config, project) {\n                            return StudentWebSocketService.initialize();\n                        },\n                        language: ($translate, ConfigService, config) => {\n                            let locale = ConfigService.getLocale();  // defaults to \"en\"\n                            $translate.use(locale);\n                        },\n                        theme: function (ProjectService, config, project, $ocLazyLoad, $q) {\n                            let theme = ProjectService.getThemePath() + '/theme.js';\n                            let def = $q.defer();\n\n                  \t\t\t\t\tSystem.import(theme).then(m => {\n                  \t\t\t\t\t\tlet themeModule = m.default;\n                  \t\t\t\t\t\tif (!m.default.name) {\n                  \t\t\t\t\t\t\tlet key = Object.keys(m.default);\n                  \t\t\t\t\t\t\tthemeModule = m.default[key[0]];\n                  \t\t\t\t\t\t}\n\n                  \t\t\t\t\t\t$ocLazyLoad.load(themeModule).then(() => {\n                  \t\t\t\t\t\t\tdef.resolve();\n                  \t\t\t\t\t\t}, err => {\n                  \t\t\t\t\t\t\tthrow err;\n                  \t\t\t\t\t\t});\n                  \t\t\t\t\t});\n\n                  \t\t\t\t\treturn def.promise;\n                        }\n                    }\n                })\n                .state('root.vle', {\n                    url: '/vle/:nodeId',\n                    views: {\n                        'nodeView': {\n                            templateProvider: ['$http', 'ConfigService', function ($http, ConfigService) {\n                                let wiseBaseURL = ConfigService.getWISEBaseURL();\n                                return $http.get(wiseBaseURL + '/wise5/node/index.html').then(\n                                    response => {\n                                        return response.data;\n                                    }\n                                );\n                            }],\n                            controller: 'NodeController',\n                            controllerAs: 'nodeController'\n                        }\n                    }\n                })\n                .state('root.notebook', {\n                    url: '/notebook/:nodeid',\n                    views: {\n                        'notebookView': {\n                            templateProvider: ['$http', 'ConfigService', function ($http, ConfigService) {\n                                let wiseBaseURL = ConfigService.getWISEBaseURL();\n                                return $http.get(wiseBaseURL + '/wise5/notebook/index.html').then(\n                                    response => {\n                                        return response.data;\n                                    }\n                                );\n                            }]\n                        }\n                    }\n                });\n\n            $httpProvider.interceptors.push('HttpInterceptor');\n\n            // Set up Translations\n            $translatePartialLoaderProvider.addPart('common');\n            $translatePartialLoaderProvider.addPart('vle');\n            $translateProvider.useLoader('$translatePartialLoader', {\n                urlTemplate: 'wise5/i18n/{part}/i18n_{lang}.json'\n            });\n            $translateProvider.fallbackLanguage(['en']);\n            $translateProvider.registerAvailableLanguageKeys(['en','ja','ko','pt','tr','zh_CN'], {\n                'en_US': 'en',\n                'en_UK': 'en'\n            });\n            $translateProvider.useSanitizeValueStrategy('escape');\n\n            // ngMaterial default theme configuration\n            // TODO: make dynamic and support alternate themes; allow projects to specify theme parameters and settings\n            $mdThemingProvider.definePalette('primary', {\n                '50': 'e1f0f4',\n                '100': 'b8dbe4',\n                '200': '8ec6d4',\n                '300': '5faec2',\n                '400': '3d9db5',\n                '500': '1c8ca8',\n                '600': '197f98',\n                '700': '167188',\n                '800': '136377',\n                '900': '0e4957',\n                'A100': 'abf3ff',\n                'A200': '66e2ff',\n                'A400': '17bee5',\n                'A700': '00A1C6',\n                'contrastDefaultColor': 'light',    // whether, by default, text (contrast)\n                                                    // on this palette should be dark or light\n                'contrastDarkColors': ['50', '100', //hues which contrast should be 'dark' by default\n                    '200', '300', 'A100'],\n                'contrastLightColors': undefined    // could also specify this if default was 'dark'\n            });\n\n            $mdThemingProvider.definePalette('accent', {\n                '50': 'fde9e6',\n                '100': 'fbcbc4',\n                '200': 'f8aca1',\n                '300': 'f4897b',\n                '400': 'f2705f',\n                '500': 'f05843',\n                '600': 'da503c',\n                '700': 'c34736',\n                '800': 'aa3e2f',\n                '900': '7d2e23',\n                'A100': 'ff897d',\n                'A200': 'ff7061',\n                'A400': 'ff3829',\n                'A700': 'cc1705',\n                'contrastDefaultColor': 'light',\n                'contrastDarkColors': ['50', '100',\n                    '200', '300', 'A100'],\n                'contrastLightColors': undefined\n            });\n\n            $mdThemingProvider.theme('default')\n                .primaryPalette('primary')\n                .accentPalette('accent',  {\n                    'default': '500'\n                })\n                .warnPalette('red', {\n                    'default': 'A700'\n                });\n\n            var lightMap = $mdThemingProvider.extendPalette('grey', {\n                'A100': 'ffffff'\n            });\n            $mdThemingProvider.definePalette('light', lightMap);\n\n            $mdThemingProvider.theme('light')\n                .primaryPalette('light', {\n                    'default': 'A100'\n                })\n                .accentPalette('primary');\n\n            $mdThemingProvider.setDefaultTheme('default');\n\n            // moment.js default overrides\n            moment.locale('en', {\n                calendar : {\n                    lastDay : '[Yesterday at] LT',\n                    sameDay : '[Today at] LT',\n                    nextDay : '[Tomorrow at] LT',\n                    lastWeek : '[Last] dddd [at] LT',\n                    nextWeek : 'dddd [at] LT',\n                    sameElse : 'MMM D, YYYY [at] LT'\n                },\n                relativeTime : {\n                    future: \"in %s\",\n                    past:   \"%s\",\n                    s:  \"seconds ago\",\n                    m:  \"1 minute ago\",\n                    mm: \"%d minutes ago\",\n                    h:  \"1 hour ago\",\n                    hh: \"%d hours ago\",\n                    d:  \"1 day ago\",\n                    dd: \"%d days ago\",\n                    M:  \"1 month ago\",\n                    MM: \"%d months ago\",\n                    y:  \"1 year ago\",\n                    yy: \"%d years ago\"\n                }\n            });\n        }\n    ]);\n\nexport default mainModule;\n"]}