{"version":3,"sources":["main.es6"],"names":["vleModule","module","service","name","controller","filter","config","$urlRouterProvider","$stateProvider","$translateProvider","$translatePartialLoaderProvider","$controllerProvider","$mdThemingProvider","$httpProvider","$provide","otherwise","state","url","abstract","templateProvider","$http","ProjectService","themePath","getThemePath","get","then","response","data","controllerAs","resolve","ConfigService","configURL","window","retrieveConfig","project","retrieveProject","studentData","StudentDataService","retrieveStudentData","notebook","NotebookService","StudentAssetService","retrieveAssets","studentAssets","retrieveNotebookItems","getWorkgroupId","achievements","AchievementService","retrieveAchievements","notifications","NotificationService","retrieveNotifications","runStatus","retrieveRunStatus","sessionTimers","SessionService","initializeSession","webSocket","StudentWebSocketService","initialize","language","$translate","locale","getLocale","use","theme","$ocLazyLoad","$q","def","defer","System","import","themeModule","m","default","key","Object","keys","load","err","promise","views","wiseBaseURL","getWISEBaseURL","interceptors","push","addPart","useLoader","urlTemplate","fallbackLanguage","registerAvailableLanguageKeys","determinePreferredLanguage","useSanitizeValueStrategy","definePalette","undefined","primaryPalette","accentPalette","warnPalette","lightMap","extendPalette","setDefaultTheme","enableBrowserColor","updateLocale","calendar","lastDay","sameDay","nextDay","lastWeek","nextWeek","sameElse"],"mappings":"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","file":"main.js","sourcesContent":["'use strict';\n\nimport $ from 'jquery';\nimport AchievementService from '../services/achievementService';\nimport angular from 'angular';\nimport angularDragula from 'angular-dragula';\nimport angularFileUpload from 'ng-file-upload';\nimport angularHighcharts from 'highcharts-ng';\nimport angularMaterial from 'angular-material';\nimport angularMoment from 'angular-moment';\nimport angularOnload from 'ng-onload';\nimport angularSanitize from 'angular-sanitize';\nimport angularToArrayFilter from 'lib/angular-toArrayFilter/toArrayFilter';\nimport angularTranslate from 'angular-translate';\nimport angularTranslateLoaderPartial from 'angular-translate-loader-partial';\nimport angularUIRouter from 'angular-ui-router';\nimport angularUIScrollpoint from 'angular-ui-scrollpoint';\nimport angularWebSocket from 'angular-websocket';\nimport AnimationComponentModule from '../components/animation/animationComponentModule';\nimport AnnotationService from '../services/annotationService';\nimport AudioOscillatorComponentModule from '../components/audioOscillator/audioOscillatorComponentModule';\nimport ConceptMapComponentModule from '../components/conceptMap/conceptMapComponentModule';\nimport ConfigService from '../services/configService';\nimport CRaterService from '../services/cRaterService';\nimport Components from '../directives/components';\nimport ComponentService from '../components/componentService';\nimport DiscussionComponentModule from '../components/discussion/discussionComponentModule';\nimport DrawComponentModule from '../components/draw/drawComponentModule';\nimport EmbeddedComponentModule from '../components/embedded/embeddedComponentModule';\nimport Filters from '../filters/filters';\nimport Highcharts from '../lib/highcharts@4.2.1';\nimport draggablePoints from '../lib/draggable-points/draggable-points';\nimport GraphComponentModule from '../components/graph/graphComponentModule';\nimport HTMLComponentModule from '../components/html/htmlComponentModule';\nimport HttpInterceptor from '../services/httpInterceptor';\nimport LabelComponentModule from '../components/label/labelComponentModule';\nimport MatchComponentModule from '../components/match/matchComponentModule';\nimport MultipleChoiceComponentModule from '../components/multipleChoice/multipleChoiceComponentModule';\nimport NavigationController from './navigation/navigationController';\nimport NodeController from './node/nodeController';\nimport NodeService from '../services/nodeService';\nimport NotebookService from '../services/notebookService';\nimport NotificationService from '../services/notificationService';\nimport OpenResponseComponentModule from '../components/openResponse/openResponseComponentModule';\nimport OutsideURLComponentModule from '../components/outsideURL/outsideURLComponentModule';\nimport PlanningService from '../services/planningService';\nimport ProjectService from '../services/projectService';\nimport SessionService from '../services/sessionService';\nimport StudentAsset from './studentAsset/studentAsset';\nimport StudentAssetService from '../services/studentAssetService';\nimport StudentDataService from '../services/studentDataService';\nimport StudentStatusService from '../services/studentStatusService';\nimport StudentWebSocketService from '../services/studentWebSocketService';\nimport TableComponentModule from '../components/table/tableComponentModule';\nimport UtilService from '../services/utilService';\nimport VLEController from './vleController';\nimport VLEProjectService from './vleProjectService';\nimport ocLazyLoad from 'oclazyload';\nimport moment from 'moment';\nimport angularSummernote from 'lib/angular-summernote/dist/angular-summernote.min';\n\nlet vleModule = angular.module('vle', [\n    angularDragula(angular),\n    'angularMoment',\n    'angular-toArrayFilter',\n    'animationComponentModule',\n    'audioOscillatorComponentModule',\n    'components',\n    'conceptMapComponentModule',\n    'discussionComponentModule',\n    'drawComponentModule',\n    'embeddedComponentModule',\n    'filters',\n    'graphComponentModule',\n    'highcharts-ng',\n    'htmlComponentModule',\n    'labelComponentModule',\n    'matchComponentModule',\n    'multipleChoiceComponentModule',\n    'ngAria',\n    'ngFileUpload',\n    'ngMaterial',\n    'ngOnload',\n    'ngSanitize',\n    'ngWebSocket',\n    'oc.lazyLoad',\n    'openResponseComponentModule',\n    'outsideURLComponentModule',\n    'pascalprecht.translate',\n    'studentAsset',\n    'summernote',\n    'tableComponentModule',\n    'ui.router',\n    'ui.scrollpoint'])\n  .service(AchievementService.name, AchievementService)\n  .service(AnnotationService.name, AnnotationService)\n  .service(ConfigService.name, ConfigService)\n  .service(ComponentService.name, ComponentService)\n  .service(CRaterService.name, CRaterService)\n  .service(HttpInterceptor.name, HttpInterceptor)\n  .service(NodeService.name, NodeService)\n  .service(NotebookService.name, NotebookService)\n  .service(NotificationService.name, NotificationService)\n  .service(PlanningService.name, PlanningService)\n  .service(ProjectService.name, VLEProjectService)\n  .service(SessionService.name, SessionService)\n  .service(StudentAssetService.name, StudentAssetService)\n  .service(StudentDataService.name, StudentDataService)\n  .service(StudentStatusService.name, StudentStatusService)\n  .service(StudentWebSocketService.name, StudentWebSocketService)\n  .service(UtilService.name, UtilService)\n  .controller(NavigationController.name, NavigationController)\n  .controller(NodeController.name, NodeController)\n  .controller(VLEController.name, VLEController)\n  .filter(Filters.name, Filters)\n  .config([\n      '$urlRouterProvider',\n      '$stateProvider',\n      '$translateProvider',\n      '$translatePartialLoaderProvider',\n      '$controllerProvider',\n      '$mdThemingProvider',\n      '$httpProvider',\n      '$provide',\n      ($urlRouterProvider,\n      $stateProvider,\n      $translateProvider,\n      $translatePartialLoaderProvider,\n      $controllerProvider,\n      $mdThemingProvider,\n      $httpProvider,\n      $provide) => {\n      $urlRouterProvider.otherwise('/vle/');\n\n      angular.module('vle').$controllerProvider = $controllerProvider;\n\n      $stateProvider\n        .state('root', {\n          url: '',\n          abstract: true,\n          templateProvider: ['$http', 'ProjectService', ($http, ProjectService) => {\n            let themePath = ProjectService.getThemePath();\n            return $http.get(themePath + '/vle.html').then(\n              response => {\n                return response.data;\n              });\n          }],\n          controller: 'VLEController',\n          controllerAs: 'vleController',\n          resolve: {\n            config: (ConfigService) => {\n              let configURL = window.configURL;\n              return ConfigService.retrieveConfig(configURL);\n            },\n            project: (ProjectService, config) => {\n              return ProjectService.retrieveProject();\n            },\n            studentData: (StudentDataService, config, project) => {\n              return StudentDataService.retrieveStudentData();\n            },\n            notebook: (NotebookService, ConfigService, StudentAssetService, studentData, config, project) => {\n              return StudentAssetService.retrieveAssets().then((studentAssets) => {\n                return NotebookService.retrieveNotebookItems(ConfigService.getWorkgroupId()).then((notebook) => {\n                  return notebook;\n                });\n              });\n            },\n            achievements: (AchievementService, studentData, config, project) => {\n              return AchievementService.retrieveAchievements();\n            },\n            notifications: (NotificationService, studentData, config, project) => {\n              return NotificationService.retrieveNotifications();\n            },\n            runStatus: (StudentDataService, config) => {\n              return StudentDataService.retrieveRunStatus();\n            },\n            sessionTimers: (SessionService, config, project, studentData) => {\n              return SessionService.initializeSession();\n            },\n            webSocket: (StudentWebSocketService, config, project) => {\n              return StudentWebSocketService.initialize();\n            },\n            language: ($translate, ConfigService, config) => {\n              let locale = ConfigService.getLocale();  // defaults to \"en\"\n              $translate.use(locale);\n            },\n            theme: (ProjectService, config, project, $ocLazyLoad, $q) => {\n              let theme = ProjectService.getThemePath() + '/theme.js';\n              let def = $q.defer();\n\n              System.import(theme).then(m => {\n                let themeModule = m.default;\n                if (!m.default.name) {\n                  let key = Object.keys(m.default);\n                  themeModule = m.default[key[0]];\n                }\n\n                $ocLazyLoad.load(themeModule).then(() => {\n                  def.resolve();\n                }, err => {\n                  throw err;\n                });\n              });\n\n              return def.promise;\n            }\n          }\n        })\n        .state('root.vle', {\n          url: '/vle/:nodeId',\n          views: {\n            'nodeView': {\n              templateProvider: ['$http', 'ConfigService', ($http, ConfigService) => {\n                let wiseBaseURL = ConfigService.getWISEBaseURL();\n                return $http.get(wiseBaseURL + '/wise5/vle/node/index.html').then(\n                  response => {\n                    return response.data;\n                  }\n                );\n              }],\n              controller: 'NodeController',\n              controllerAs: 'nodeController'\n            }\n          }\n        })\n        .state('root.component', {\n          url: '/vle/:nodeId/:componentId',\n          views: {\n            'nodeView': {\n              templateProvider: ['$http', 'ConfigService', ($http, ConfigService) => {\n                let wiseBaseURL = ConfigService.getWISEBaseURL();\n                return $http.get(wiseBaseURL + '/wise5/vle/node/index.html').then(\n                  response => {\n                    return response.data;\n                  }\n                );\n              }],\n              controller: 'NodeController',\n              controllerAs: 'nodeController'\n            }\n          }\n        });\n\n      $httpProvider.interceptors.push('HttpInterceptor');\n\n      // Set up Translations\n      $translatePartialLoaderProvider.addPart('i18n');\n      $translatePartialLoaderProvider.addPart('vle/i18n');\n      $translateProvider.useLoader('$translatePartialLoader', {\n        urlTemplate: 'wise5/{part}/i18n_{lang}.json'\n      })\n        .fallbackLanguage(['en'])\n        .registerAvailableLanguageKeys(['el','en','es','ja','ko','pt','tr','zh_CN','zh_TW'], {\n          'en_US': 'en',\n          'en_UK': 'en'\n        })\n        .determinePreferredLanguage()\n        .useSanitizeValueStrategy('sanitizeParameters', 'escape');\n\n      // ngMaterial default theme configuration\n      // TODO: make dynamic and support alternate themes; allow projects to specify theme parameters and settings\n      $mdThemingProvider.definePalette('primary', {\n        '50': 'e1f0f4',\n        '100': 'b8dbe4',\n        '200': '8ec6d4',\n        '300': '5faec2',\n        '400': '3d9db5',\n        '500': '1c8ca8',\n        '600': '197f98',\n        '700': '167188',\n        '800': '136377',\n        '900': '0e4957',\n        'A100': 'abf3ff',\n        'A200': '66e2ff',\n        'A400': '17bee5',\n        'A700': '00A1C6',\n        'contrastDefaultColor': 'light',    // whether, by default, text (contrast)\n                                            // on this palette should be dark or light\n        'contrastDarkColors': ['50', '100', //hues which contrast should be 'dark' by default\n          '200', '300', 'A100'],\n        'contrastLightColors': undefined    // could also specify this if default was 'dark'\n      });\n\n      $mdThemingProvider.definePalette('accent', {\n        '50': 'fde9e6',\n        '100': 'fbcbc4',\n        '200': 'f8aca1',\n        '300': 'f4897b',\n        '400': 'f2705f',\n        '500': 'f05843',\n        '600': 'da503c',\n        '700': 'c34736',\n        '800': 'aa3e2f',\n        '900': '7d2e23',\n        'A100': 'ff897d',\n        'A200': 'ff7061',\n        'A400': 'ff3829',\n        'A700': 'cc1705',\n        'contrastDefaultColor': 'light',\n        'contrastDarkColors': ['50', '100',\n          '200', '300', 'A100'],\n        'contrastLightColors': undefined\n      });\n\n      $mdThemingProvider.theme('default')\n        .primaryPalette('primary')\n        .accentPalette('accent',  {\n          'default': '500'\n        })\n        .warnPalette('red', {\n          'default': '800'\n        });\n\n      let lightMap = $mdThemingProvider.extendPalette('grey', {\n        'A100': 'ffffff'\n      });\n      $mdThemingProvider.definePalette('light', lightMap);\n\n      $mdThemingProvider.theme('light')\n        .primaryPalette('light', {\n          'default': 'A100'\n        })\n        .accentPalette('primary');\n\n      $mdThemingProvider.setDefaultTheme('default');\n      $mdThemingProvider.enableBrowserColor();\n\n      // moment.js default overrides\n      // TODO: add i18n support\n      moment.updateLocale('en', {\n        calendar: {\n          lastDay : '[Yesterday at] LT',\n          sameDay : '[Today at] LT',\n          nextDay : '[Tomorrow at] LT',\n          lastWeek : '[last] dddd [at] LT',\n          nextWeek : 'dddd [at] LT',\n          sameElse : 'll'\n        }\n      });\n    }\n  ]);\nexport default vleModule;\n"]}