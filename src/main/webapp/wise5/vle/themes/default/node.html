<md-toolbar class="md-whiteframe-z1 node-toolbar md-toolbar--wise" md-theme="light">
    <div class="md-toolbar-tools">
        <img ng-if="nodeCtrl.nodeStatus.icon.type === 'img'" ng-animate-ref="{{ nodeCtrl.nodeId }}" class="md-18 avatar node-avatar" ng-src="{{nodeCtrl.nodeStatus.icon.imgSrc}}" alt="{{nodeCtrl.nodeStatus.icon.imgAlt}}" />
        <div ng-if="nodeCtrl.nodeStatus.icon.type === 'font'" ng-animate-ref="{{ nodeCtrl.nodeId }}" style="background-color: {{nodeCtrl.nodeStatus.icon.color}};" class="md-18 avatar avatar--icon node-avatar">
            <md-icon md-font-set="{{nodeCtrl.nodeStatus.icon.fontSet}}" class="md-18 md-light node-icon" md-theme="default">{{nodeCtrl.nodeStatus.icon.fontName}}</md-icon>
        </div>
        <md-button class="node-select"><span class="node-title md-subhead" style="color: {{nodeCtrl.nodeStatus.icon.color}};">{{ nodeCtrl.nodeTitle }}</span></md-button>
        <span flex></span>
        <span></span>
        <!--<md-button aria-label="Notifications" class="md-icon-button">
            <md-icon md-theme="default"> message </md-icon>
        </md-button> TODO: Add notifications and score when operational-->
        <md-button aria-label="Close Step" class="md-icon-button" ng-click="nodeCtrl.closeNode()">
            <md-icon md-theme="default"> close </md-icon>
        </md-button>
    </div>
</md-toolbar>
<md-content class="l-constrained node-content">
    <div compile='nodeController.getPrompt()'></div>
    <div id="{{component.id}}" ng-repeat='component in nodeCtrl.getComponents()'>
        <div ng-include='nodeCtrl.getComponentTypeHTML(component.componentType)'
             ng-init='componentState = nodeCtrl.getComponentStateByComponent(component)'></div>
        <input type='button' value='+Notebook' ng-click='nodeCtrl.addStudentWorkItemToNotebook(component.id)' />
    </div>
    <button id='saveButton'
            ng-click='nodeCtrl.saveButtonClicked()'
            ng-disabled='nodeCtrl.isDisabled'
            ng-show='nodeCtrl.showSaveButton()'>Save</button>
    <button id='submitButton'
            ng-click='nodeCtrl.submitButtonClicked()'
            ng-disabled='nodeCtrl.isDisabled'
            ng-show='nodeCtrl.showSubmitButton()'>Submit</button>
</md-content>
<footer class="l-footer md-whiteframe-z2 md-body-1">
    <md-toolbar class="md-toolbar--wise" md-theme="light">
        <div class="md-toolbar-tools">
            <md-button md-theme="default" class="button--footer md-primary" aria-label="Toggle Project Status">
                <progress-circular-with-label value="themeCtrl.rootNodeStatus.progress.completionPct"
                                              template-url="vleController.themePath + '/templates/progressCircularWithLabel.html'"></progress-circular-with-label>
            </md-button>
            <span flex></span>
            <md-button md-theme="default" aria-label="Previous Item" class="md-icon-button node-nav"
                       ng-disabled="!nodeCtrl.prevNodeId" ng-click="nodeCtrl.goToPrevNode()">
                <md-icon> arrow_back </md-icon>
            </md-button>
            <md-button md-theme="default" aria-label="Next Item" class="md-icon-button node-nav"
                       ng-disabled="!nodeCtrl.nextNodeId" ng-click="nodeCtrl.goToNextNode()">
                <md-icon> arrow_forward </md-icon>
            </md-button>
        </div>
    </md-toolbar>
</footer>