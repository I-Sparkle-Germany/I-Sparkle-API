<div class="l-constrained">
    <md-content class="node-content md-whiteframe-1dp" style="border-color: {{nodeController.nodeStatus.icon.color}}"
                ng-class="{'node-sidebar-active': vleController.isNotebookEnabled()}">
        <div id="{{component.id}}" ng-repeat='component in nodeController.getComponents()'>
            <component ng-if='component.showPreviousWorkNodeId != null && component.showPreviousWorkComponentId != null'
                         nodeid='{{component.showPreviousWorkNodeId}}'
                         componentid='{{component.showPreviousWorkComponentId}}'
                         componentstate='{{nodeController.getComponentStateByNodeIdAndComponentId(component.showPreviousWorkNodeId, component.showPreviousWorkComponentId)}}'
                         workgroupid='{{nodeController.workgroupId}}'
                         teacherworkgroupid='{{nodeController.teacherWorkgroupId}}'
                         originalnodeid={{nodeController.nodeId}}
                         originalcomponentid={{component.id}}
                         mode='onlyShowWork'></component>
            <component ng-if='component.showPreviousWorkNodeId == null || component.showPreviousWorkComponentId == null'
                         nodeid='{{nodeController.nodeId}}'
                         componentid='{{component.id}}'
                         componentstate='{{nodeController.getComponentStateByComponentId(component.id)}}'
                         workgroupid='{{nodeController.workgroupId}}'
                         teacherworkgroupid='{{nodeController.teacherWorkgroupId}}'
                         mode='student'></component>
        </div>
        <div class="node-content__actions" layout="row" layout-align="start center">
             <md-button class="md-raised md-primary"
                  ng-click='nodeController.submitButtonClicked()'
                  ng-disabled='nodeController.isDisabled || !nodeController.dirtySubmitComponentIds.length'
                  ng-if='nodeController.showSubmitButton()'
                  aria-label="Submit"
                  translate="submit"></md-button>
             <md-button class="md-primary"
                    ng-class="{'md-raised': !nodeController.showSubmitButton()}"
                    ng-click='nodeController.saveButtonClicked()'
                    ng-disabled='nodeController.isDisabled || !nodeController.dirtyComponentIds.length'
                    ng-if='nodeController.showSaveButton()'
                    aria-label="Save"
                    translate="save"></md-button>
            <span ng-if="nodeController.showSaveButton() || nodeController.showSubmitButton()"
                  ng-show="nodeController.saveMessage.text"
                  class="node-content__actions__info md-caption">
                  {{nodeController.saveMessage.text}} <span class="node-content__actions__more"><md-tooltip md-direction="top">{{ nodeController.saveMessage.time | amDateFormat:'ddd, MMM D YYYY, h:mm a' }}</md-tooltip><span am-time-ago="nodeController.saveMessage.time"></span></span>
            </span>
        </div>
    </md-content>
    <div class="node-sidebar" ng-if="vleController.isNotebookEnabled()">
        <notebook-toolbar node-id="nodeController.nodeId"></notebook-toolbar>
    </div>
</div>
