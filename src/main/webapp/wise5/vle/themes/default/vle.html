<link rel="stylesheet" href="wise5/vendor/jquery-ui/themes/base/jquery-ui.min.css"><!-- TODO: remove when jquery-ui dep is removed -->
<!-- TODO: make these dynamic based on WISE5 theme selection -->
<link rel="stylesheet" href="wise5/style/css/themes/default/angular-material.css">
<link rel="stylesheet" href="wise5/style/css/themes/default/vle.css">

<style>
    #prev {
        height: 36px;
        bottom: 0px;
        position: absolute;
        left: 0px;
        z-index: 1;
    }

    #next {
        height: 36px;
        bottom: 0px;
        position: absolute;
        right: 0px;
        z-index: 1;
    }
    /* layout1 = left nav */
    #node.layout1 {
        position: absolute;
        right: 5px;
        width: 80%;
        height: 600px;
    }

    #navigation.layout1 {
        position: absolute;
        left: 5px;
        width: 20%;
        height: 600px;
    }

    /* layout2 = right nav */
    #node.layout2 {
        position: absolute;
        left: 5px;
        width: 80%;
        height: 600px;
    }

    #navigation.layout2 {
        position: absolute;
        right: 5px;
        width: 20%;
        height: 600px;
    }

    /* layout3 = project full screen */
    #prev.layout3, #next.layout3 {
        display:none;
    }

    #node.layout3 {
        display: none;
    }

    /*#navigation.layout3 {
        position: absolute;
        width: 100%;
        height: 600px;
    }*/

    /* layout4 = node full screen */
    #node.layout4 {
        position: absolute;
        width: 100%;
        height: 600px;
    }

    #navigation.layout4 {
        display: none;
    }

    #homeButton {
        position: absolute;
        right: 100px;
        top: 0px;
    }

    #logOutButton {
        position: absolute;
        right: 0px;
        top: 0px;
    }

    #showNavigationButton {
        width: 125px;
        position: absolute;
        right: 200px;
        top: 0px;
    }


    #portfolioOpenButton {
        position: absolute;
        right: 325px;
        top: 0px;
    }

    #portfolio {
        position: absolute;
        right: 0px;
        top: 0px;
        min-width: 500px;
        min-height: 0px;
        max-width: 500px;
        max-height: 1000px;
        border: 3px solid black;
        /*overflow: auto; setting this will make draggable items disappear once they're dragged out of portfolio div */
        /*resize: both;*/
        background-color: aliceblue;
    }

    #closePortfolio {
        position: absolute;
        right: 0px;
        top: 0px;
        font-weight: bold;
        width: initial;
    }
</style>

<style>
    {{vleController.projectStyle}}
</style>

<header>
</header>


<main role="main" data-drop="true"
      jqyoui-droppable="{onDrop: 'vleController.portfolioDropCallback()'}"
      ng-mousemove='vleController.mouseMoved()' class="md-padding">
    <span ng-if="vleController.currentNode"> CurrentNode:
        "{{vleController.currentNode.title}}"
        ({{vleController.currentNode.type}}, {{vleController.currentNode.id}})
    </span>
    <span ng-if="vleController.mode"> Current Mode:
    {{vleController.mode}} </span>

    <select ng-model="vleController.layoutState"
            ng-options="layoutState for layoutState in vleController.layoutStates"
            ng-change="vleController.updateLayout()">
    </select>
    <hr/>
    <div id="globalTools">
        <button ng-repeat="globalTool in vleController.globalTools"
                ng-click="vleController.globalToolButtonClicked(globalTool)">{{globalTool}}</button>
    </div>

    <div id="prev" class={{vleController.layoutState}} ng-click="vleController.goToPrevNode()">Prev</div>
    <div id="next" class={{vleController.layoutState}} ng-click="vleController.goToNextNode()">Next</div>
    <div ui-view='navigationView'></div>
    <div ui-view='nodeView'></div>
    <br/>
    <button id='homeButton' ng-click='vleController.goHome()'>Home</button>
    <button id='logOutButton' ng-click='vleController.logOut()'>Log Out</button>
    <button id='showNavigationButton' ng-click='vleController.showNavigation()'>Show Navigation</button>
    <div ng-switch on='vleController.isPortfolioVisible'>
        <div ng-switch-when='true'
             id='portfolio'
             data-drag='true'
             data-jqyoui-options="{}"
             jqyoui-draggable="{animate:true, placeholder: 'keep', onStart:'vleController.portfolioDragStartCallback()'}">
            <button id='closePortfolio' ng-click='vleController.hidePortfolio()'>X</button>
            <div ng-include="'wise5/vle/themes/' + vleController.theme + '/portfolio.html'"></div>
        </div>
        <div ng-switch-when='false'>
            <button id='portfolioOpenButton' ng-click='vleController.showPortfolio()'>Open Portfolio</button>
        </div>
    </div>
</main>
