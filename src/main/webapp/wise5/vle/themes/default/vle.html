<link rel="stylesheet" href="wise5/vendor/jquery-ui/themes/base/jquery-ui.min.css"><!-- TODO: remove when jquery-ui dep is removed -->
<link rel="stylesheet" href="wise5/lib/angularTextAngular/textAngular.css"><!-- TODO: remove when text-angular dep is removed -->
<link rel="stylesheet" href="wise5/vle/themes/default/style/css/vle.css">

<style>
    #prev {
        height: 36px;
        bottom: 0px;
        position: absolute;
        left: 0px;
        z-index: 1;
    }

    #next {
        height: 36px;
        bottom: 0px;
        position: absolute;
        right: 0px;
        z-index: 1;
    }
    /* layout1 = left nav */
    #node.layout1 {
        position: absolute;
        right: 5px;
        width: 80%;
        height: 600px;
    }

    #navigation.layout1 {
        position: absolute;
        left: 5px;
        width: 20%;
        height: 600px;
    }

    /* layout2 = right nav */
    #node.layout2 {
        position: absolute;
        left: 5px;
        width: 80%;
        height: 600px;
    }

    #navigation.layout2 {
        position: absolute;
        right: 5px;
        width: 20%;
        height: 600px;
    }

    /* layout3 = project full screen */
    #prev.layout3, #next.layout3 {
        display:none;
    }

    #node.layout3 {
        display: none;
    }

    /*#navigation.layout3 {
        position: absolute;
        width: 100%;
        height: 600px;
    }*/

    /* layout4 = node full screen */
    #node.layout4 {
        position: absolute;
        width: 100%;
        height: 600px;
    }

    #navigation.layout4 {
        display: none;
    }

    #showNavigationButton {
        width: 125px;
        position: absolute;
        right: 200px;
        top: 0px;
    }
</style>

<style>
    {{vleController.projectStyle}}
</style>
<div layout="row" layout-fill>
    <div layout="column" flex>
        <md-toolbar class="md-whiteframe-z1">
            <div class="md-toolbar-tools">
                <img src="wise5/images/WISE-logo-1b8ca8.svg" alt="WISE Logo" class="logo md-button md-icon-button" />
                <h3>
                    <span>{{vleController.projectName}}</span>
                </h3>
                <span flex></span>
                <md-button aria-label="Toggle Notebook" class="md-icon-button" ng-click="vleController.toggleNoteBook()">
                    <md-icon md-menu-origin> book </md-icon>
                </md-button>
                <md-menu md-position-mode="target-right target"">
                    <md-button aria-label="Open exit menu" class="md-icon-button" ng-click="$mdOpenMenu()">
                        <md-icon md-menu-origin> power_settings_new </md-icon>
                    </md-button>
                    <md-menu-content width="4">
                        <md-menu-item>
                            <md-button ng-click="vleController.goHome()">
                                <md-icon md-menu-align-target> home </md-icon>
                                <p>Exit to Home</p>
                            </md-button>
                        </md-menu-item>
                        <md-menu-item>
                            <md-button ng-click="vleController.logOut()">
                                <md-icon> exit_to_app </md-icon>
                                <p>Sign Out</p>
                            </md-button>
                        </md-menu-item>
                    </md-menu-content>
                </md-menu>
            </div>
        </md-toolbar>

        <md-content flex role="main" class="md-padding l-main">
            <div ui-view="navigationView" ng-show="vleController.layoutState == 'nav'" class="l-constrained"></div>
            <div ui-view="nodeView" ng-if="vleController.layoutState == 'node'"
                 data-drop="true"
                 jqyoui-droppable="{onDrop: 'vleController.noteBookDropCallback()'}"
                 ng-mousemove='vleController.mouseMoved()'></div>
        </md-content>
        <footer class="l-footer md-whiteframe-z2" flex>
        </footer>
    </div>
    <md-sidenav class="md-sidenav-right md-whiteframe-z2" md-component-id="notebook" layout="column" flex
            md-is-open="vleController.noteBookOpen"> <!--md-is-locked-open="vleController.noteBookOpen && $mdMedia('gt-lg')"-->
        <md-toolbar class="l-sidebar__header md-whiteframe-z1">
            <div class="md-toolbar-tools">
                <h3>Notebook</h3>
                <span flex></span>
                <md-select class="md-body-1" placeholder="Filter" ng-model="vleController.noteBookFilter">
                    <md-option ng-repeat="filter in vleController.noteBookFilters" value="{{filter.name}}">{{filter.label}}</md-option>
                </md-select>
            </div>
        </md-toolbar>
        <md-content class="md-padding">
            <notebook template-url="vleController.themePath + '/noteBook/noteBook.html'" filter="vleController.noteBookFilter"></notebook>
        </md-content>
    </md-sidenav>
</div>
