<html>
<head>

<style>
#globalTools {
    top: 0px;
    position: absolute;
    right: 0px;
}

#prev {
    height: 36px;
    bottom: 0px;
    position: absolute;
    left: 0px;
    z-index: 1;
}

#next {
    height: 36px;
    bottom: 0px;
    position: absolute;
    right: 0px;
    z-index: 1;
}
/* layout1 = left nav */
#node.layout1 {
    position: absolute;
    right: 5px;
    width: 80%;
    height: 600px;
}

#navigation.layout1 {
    position: absolute;
    left: 5px;
    width: 20%;
    height: 600px;
}

/* layout2 = right nav */
#node.layout2 {
    position: absolute;
    left: 5px;
    width: 80%;
    height: 600px;
}

#navigation.layout2 {
    position: absolute;
    right: 5px;
    width: 20%;
    height: 600px;
}

/* layout3 = project full screen */
#prev.layout3, #next.layout3 {
    display:none;
}

#node.layout3 {
    display: none;
}

#navigation.layout3 {
    position: absolute;
    width: 100%;
    height: 600px;
}

/* layout4 = node full screen */
#node.layout4 {
    position: absolute;
    width: 100%;
    height: 600px;
}

#navigation.layout4 {
    display: none;
}

#portfolio {
    position: absolute;
    right: 400px;
    min-width: 400px;
    min-height: 0px;
    max-width: 400px;
    max-height: 800px;
    border: 1px solid black;
    overflow: auto;
    /*resize: both;*/
    background-color: aliceblue;
}

#homeButton {
    position: absolute;
    right: 150px;
    top: 100px;
}

#logOutButton {
    position: absolute;
    right: 50px;
    top: 100px;
}

</style>
</head>
<body>
<div ng-controller='VLEController as vleController'  
    data-drop="true"
    jqyoui-droppable="{onDrop: 'vleController.portfolioDropCallback()'}">
<style>
{{vleController.projectStyle}}
</style>    
	<span ng-if="vleController.currentNode"> CurrentNode:
		"{{vleController.currentNode.title}}"
		({{vleController.currentNode.type}}, {{vleController.currentNode.id}})
	</span>
	<span ng-if="vleController.mode"> Current Mode:
		{{vleController.mode}} </span>

	<select ng-model="vleController.layoutState"
		ng-options="layoutState for layoutState in vleController.layoutStates"
		ng-change="vleController.updateLayout()">
	</select>
	<hr/>
    <div id="globalTools">
        <button ng-repeat="globalTool in vleController.globalTools"
            ng-click="vleController.globalToolButtonClicked(globalTool)">{{globalTool}}</button>
    </div>
    
    <div id="prev" class={{vleController.layoutState}} ng-click="vleController.goToPrevNode()">Prev</div>
    <div id="next" class={{vleController.layoutState}} ng-click="vleController.goToNextNode()">Next</div>
    <div ui-view='navigationView'></div>
    <div ui-view='nodeView'></div>
    <br/>
    <button id='homeButton' ng-click='vleController.goHome()'>Home</button>
    <button id='logOutButton' ng-click='vleController.logOut()'>Log Out</button>
    <div id='portfolio'
            data-drag='true'
            data-jqyoui-options="{}"
            jqyoui-draggable="{animate:true, placeholder: 'keep', onStart:'vleController.portfolioDragStartCallback()'}">
        <button ng-show='!vleController.isPortfolioVisible' ng-click='vleController.showPortfolio()'>Open Portfolio</button>
        <button ng-show='vleController.isPortfolioVisible' ng-click='vleController.hidePortfolio()'>Close Portfolio</button>
        <div ng-show='vleController.isPortfolioVisible' ng-include="'wise5/vle/portfolio/portfolio.html'"></div>
    </div>
</div>

</body>
</html>